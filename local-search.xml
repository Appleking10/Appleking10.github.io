<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å‰ç«¯æ¶æ„è®¾è®¡</title>
    <link href="/2023/10/15/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    <url>/2023/10/15/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¨¡å—åˆ†å±‚æ¶æ„ï¼š"><a href="#æ¨¡å—åˆ†å±‚æ¶æ„ï¼š" class="headerlink" title="æ¨¡å—åˆ†å±‚æ¶æ„ï¼š"></a>æ¨¡å—åˆ†å±‚æ¶æ„ï¼š</h2><p><img src="/img/ddd/%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%88%86%E5%B1%82.png" srcset="/img/loading.gif" lazyload alt="é¡¹ç›®ç»“æ„åˆ†å±‚"><br>è¯´æ˜ï¼š</p><ul><li><p>æ•°æ®è®¿é—®å±‚ DAL(Data Access Layer): api/vuex/localStorage ç­‰ï¼Œæ•°æ®å­˜å‚¨çš„æ¥å£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæœ¬åœ°å’Œåå°å­˜å‚¨â€¨  - ä¸šåŠ¡é€»è¾‘å±‚ BLL(Business Logic Layer): detail/create/list ç­‰ï¼Œæè¿°ä¸šåŠ¡æ¨¡å‹çš„åœºæ™¯å’Œäº¤äº’â€¨  - æ§åˆ¶å±‚ Controller: router/layout/nav/pages ç­‰ï¼Œç”¨äºè¿æ¥bllå’Œpageï¼Œé…ç½®è®¿é—®è·¯ç”±</p></li><li><p>è§†å›¾å±‚ Page: detail/create/list ç­‰ï¼Œå„åœºæ™¯å…¥å£æ–‡ä»¶ï¼Œç»Ÿç®¡å†…éƒ¨æ‰€æœ‰ç»„ä»¶â€¨  - åŸºç¡€é€šç”¨å±‚ Common: utils/components ç­‰ï¼Œå…¨å±€ä¾èµ–<br>è®¾è®¡æ ¸å¿ƒåŸåˆ™ï¼š</p></li></ul><ol><li>ä¸šåŠ¡é€»è¾‘å’Œè§†å›¾é€»è¾‘åˆ†ç¦»ï¼šbllèšç„¦åœ¨ä¸šåŠ¡é€»è¾‘çš„æ•°æ®è·å–ã€è®¡ç®—ã€åˆå¹¶ç­‰ï¼Œè€Œpageã€componentåˆ™èšç„¦åœ¨é¡µé¢çš„å‘ˆç°ç»“æ„å®ç°ä¸Š</li><li>å•å‘ä¾èµ–ï¼šä¸åŒå±‚ä¹‹é—´ä¿æŒå•å‘ä¾èµ–å…³ç³»ï¼Œå°½é‡é¿å…è·¨å±‚ï¼Œåå‘ä¾èµ–ç­‰æƒ…å†µå‡ºç°ï¼Œä¿è¯åˆ†å±‚çš„è¾¹ç•Œæ˜ç¡®ï¼Œé¿å…è…å</li><li>ç›¸åŒå±‚å¯ä»¥æå–è·¨æ¨¡å—çš„å…±æ€§è¿›è¡Œä¼˜åŒ–ï¼šå¦‚pageå¯ä»¥æ²‰æ·€é¡µé¢åœºæ™¯æ¨¡æ¿ï¼Œcontrolleræå–é€šç”¨layoutå’Œrouteræ¨¡æ¿ï¼Œbllæå–schemaè½¬æ¢å·¥å…·ä»¥é€‚é…é€šç”¨çš„pageå’Œcomponentç­‰</li></ol><p>â €ç›®å½•æ–‡ä»¶ç»„ç»‡ç»“æ„ï¼š<br><img src="/img/ddd/%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84.png" srcset="/img/loading.gif" lazyload alt="ç›®å½•æ–‡ä»¶ç»„ç»‡ç»“æ„"><br>è¯´æ˜ï¼š</p><ol><li>æ¯ä¸ªé¢†åŸŸæ¨¡å‹éƒ½æŒ‰DCIç»„ç»‡æ–¹å¼è®¾è®¡</li><li>bllæœ€ç»ˆæŒ‰åœºæ™¯è¾“å‡ºæ•°æ®ï¼ˆinitDataï¼‰å’Œäº¤äº’è¡Œä¸ºï¼ˆactionsï¼‰ï¼Œæ¨¡å—åœºæ™¯ä¸é™äºcreate/detail/listç­‰å¸¸è§„åœºæ™¯ï¼Œè¿˜å¯èƒ½åŒ…æ‹¬è·¨æ¨¡å—å¼•ç”¨çš„ç­›é€‰å¼¹çª—ã€æ•°æ®å±•ç¤ºè¡¨æ ¼ç­‰</li></ol><p>DCIè¯¦ç»†è¯´æ˜ï¼š</p><ul><li>Data: åˆ†ä¸ºschema(fieldsã€statusç­‰)ä»¥åŠdataï¼ˆé€šè¿‡apiæˆ–å†…å­˜ä¸­è·å–çš„formã€tableæ•°æ®ç­‰ï¼‰2ç±»ï¼Œæœ€ç»ˆä¼šé€šè¿‡<code>initData</code>è·å–ä¼ é€’åˆ°pageï¼Œåœ¨é¡µé¢è·¯ç”±å˜æ›´æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œä¹Ÿå¯ä»¥åœ¨pageé€šè¿‡emitäº‹ä»¶ä¸»åŠ¨åˆ·</li><li>Context: Detailã€Createã€Listç­‰æŒ‰åœºæ™¯ç»„åˆDataå’ŒInteractiveï¼Œä½œä¸ºé¢†åŸŸæ¨¡å‹å¯¹å¤–ä½¿ç”¨çš„æ¥å£; åœºæ™¯ä¹Ÿå¯èƒ½ä¼šè¾“å‡ºè·¨æ¨¡å—ä¾èµ–â€¨- Interactive: createã€editã€getListã€searchã€approvalã€getListç­‰äº¤äº’è¡Œä¸ºï¼Œå½’çº³åˆ°<code>actions</code>ï¼Œpageé€šè¿‡emitè¿›è¡Œäº¤äº’ï¼Œå°½é‡ä¿è¯å•å‘æ•°æ®æµ</li></ul><p>DCIå¼ºè°ƒ2ç‚¹ï¼šä¸€æ˜¯ä»‹äºå……è¡€æ¨¡å‹å’Œè´«è¡€æ¨¡å‹ä¹‹é—´ï¼Œç®€åŒ–æ¨¡å‹åŒæ—¶åˆä¿ç•™å……è¡€æ¨¡å‹çš„ä¾¿åˆ©ï¼ˆé€šè¿‡contextæ¥è§£è€¦ï¼Œcontextå¯ä»¥æ³¨å…¥ä¸åŒçš„æ•°æ®å’Œè¡Œä¸ºç»„åˆï¼‰ï¼›äºŒæ˜¯è¡¥å…¨MVCæ¶æ„ä¸­ç¼ºå°‘çš„äº¤äº’æè¿°<br>DCIèƒ½å¤Ÿå¸®åŠ©DDDæ›´æœ‰æ•ˆçš„è½åœ°ï¼Œåœ¨å‰ç«¯æ–¹é¢ï¼Œå¯ä»¥è®©å¼€å‘æ›´æ˜“ç†è§£æ¨¡å‹ï¼Œè®©æ¨¡å‹çš„è¡¨ç°å½¢å¼æ›´åŠ å…·ä½“ï¼ˆæ¯ä¸ªæ¨¡å‹éƒ½åŒ…å«dataã€interactiveã€contextï¼‰</p><h3 id="è·¨æ¨¡å—åœºæ™¯ç¤ºä¾‹ï¼š"><a href="#è·¨æ¨¡å—åœºæ™¯ç¤ºä¾‹ï¼š" class="headerlink" title="è·¨æ¨¡å—åœºæ™¯ç¤ºä¾‹ï¼š"></a>è·¨æ¨¡å—åœºæ™¯ç¤ºä¾‹ï¼š</h3><p><img src="/img/ddd/%E8%B7%A8%E6%A8%A1%E5%9D%97%E5%9C%BA%E6%99%AF.png" srcset="/img/loading.gif" lazyload alt="è·¨æ¨¡å—åœºæ™¯"><br>è¯´æ˜ï¼š</p><ul><li>select sku dialogç»„ä»¶å¯èƒ½ä¼šè¢«åº”ç”¨åœ¨præ¨¡å—ï¼Œä½†skuå±•ç¤ºçš„å­—æ®µç»“æ„ã€searchçš„apiæ¥æºäºSKUé¢†åŸŸ</li><li>PRçš„contextå¯ä»¥å¼•å…¥SKUçš„contextï¼ŒPRå’ŒSKUé€šè¿‡å„è‡ªçš„contextæ¥è§£è€¦</li></ul><p>â €æ¶æ„æ ¸å¿ƒæ€æƒ³<br>æ¶æ„è®¾è®¡å¯èƒ½ä¼šä¸€ç›´è¿­ä»£ï¼Œä½†æ˜¯æ ¸å¿ƒæ€æƒ³ä¸å˜ï¼š</p><ol><li>å°†ä¸šåŠ¡é€»è¾‘ä»ç»„ä»¶ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œè®©ç»„ä»¶çš„èŒè´£èšç„¦åœ¨ç»“æ„çš„å‘ˆç°å’Œäº¤äº’çš„å¤šæ ·æ€§å®ç°ä¸Šï¼Œä½¿ç»„ä»¶å˜çš„çµæ´»</li><li>ä»ä¸šåŠ¡é€»è¾‘ä¸­æç‚¼æ ¸å¿ƒåŸå‹ï¼Œä½¿æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ›´ç¨³å®šï¼Œå¯¿å‘½æ›´é•¿<br><img src="/img/ddd/%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3.png" srcset="/img/loading.gif" lazyload alt="æ ¸å¿ƒæ€æƒ³"></li></ol><p>è¡¥å……è¯´æ˜ï¼š<br>å½“å‰æ¶æ„å€Ÿé‰´äº†DDDçš„æ ¸å¿ƒæ€æƒ³ï¼Œä½†è·ç¦»DDDæœ€ä½³å®è·µè¿˜æœ‰è¾ƒå¤§å·®è·<br>DDDæœ€ä½³å®è·µå½’çº³ï¼š</p><ol><li>æ„å»ºé€šç”¨è¯­è¨€ï¼šå®šé¢†åŸŸæ¨¡å‹ä¹‹å‰åº”è¯¥å…ˆå®šä¹‰ä¸šåŠ¡æ¦‚å¿µï¼Œå¹¶åœ¨åç»­è¿‡ç¨‹ä¸­æŒç»­ä¼˜åŒ–ï¼Œèƒ½ç”¨å…±åŒè¯­è¨€æè¿°çš„å±äºåŒä¸€ä¸ªé¢†åŸŸ</li><li>ç”¨é€šç”¨è¯­è¨€åˆ’åˆ†é¢†åŸŸçš„è¾¹ç•Œï¼Œæ„å»ºé¢†åŸŸæ¨¡å‹</li><li>ä½¿ç”¨modulesã€entityã€serviceã€value objectç­‰æ„é€ æ¨¡å‹</li><li>æŒç»­ç²¾ç‚¼é¢†åŸŸæ¨¡å‹ï¼Œä»é€šç”¨è¯­è¨€å’Œæ¨¡å‹ç»“æ„ä¸­æå–æ ¸å¿ƒåŸå‹ï¼Œå¹¶é€šè¿‡ä¸Šä¸‹æ–‡ç•Œå®šç­‰æ–¹æ³•ä¿æŠ¤æ ¸å¿ƒåŸå‹ä¸å—è¾¹ç¼˜è…èš€</li><li>æœ€ç»ˆåœ¨å¤šæ¬¡è¿­ä»£ä¸­å®ç°ä¸€ä¸ªå…¼å…·ç¨³å®šæ€§å’Œæ‰©å±•æ€§çš„é«˜è´¨é‡ç³»ç»Ÿ</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>DDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºDDDçš„å‰æœŸè°ƒç ”å’Œè®¾æƒ³</title>
    <link href="/2023/10/10/%E5%85%B3%E4%BA%8EDDD%E7%9A%84%E5%89%8D%E6%9C%9F%E8%B0%83%E7%A0%94%E5%92%8C%E8%AE%BE%E6%83%B3/"/>
    <url>/2023/10/10/%E5%85%B3%E4%BA%8EDDD%E7%9A%84%E5%89%8D%E6%9C%9F%E8%B0%83%E7%A0%94%E5%92%8C%E8%AE%BE%E6%83%B3/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å¯¹äºæ¶æ„è®¾è®¡ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£è½¯ä»¶çš„æœ¬è´¨ï¼Œæœ‰æ‰å®çš„åŸºç¡€ï¼Œæ‰èƒ½çœŸæ­£è½åœ°ï¼ŒåŒæ—¶å€Ÿé‰´æœåŠ¡ç«¯ã€æ“ä½œç³»ç»Ÿç­‰ç»éªŒï¼Œäº‹åŠåŠŸå€ã€‚<br>å¦‚æœæˆ‘çœ‹å¾—æ›´è¿œä¸€ç‚¹çš„è¯ï¼Œæ˜¯å› ä¸ºæˆ‘ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šã€‚ â€”â€”â€”â€” ç‰›é¡¿</p></blockquote><h2 id="ä¸€-å½“å‰WEBå‰ç«¯æ‰€è¦å»åº”å¯¹çš„åœºæ™¯æ˜¯ä»€ä¹ˆ"><a href="#ä¸€-å½“å‰WEBå‰ç«¯æ‰€è¦å»åº”å¯¹çš„åœºæ™¯æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€. å½“å‰WEBå‰ç«¯æ‰€è¦å»åº”å¯¹çš„åœºæ™¯æ˜¯ä»€ä¹ˆ?"></a>ä¸€. å½“å‰WEBå‰ç«¯æ‰€è¦å»åº”å¯¹çš„åœºæ™¯æ˜¯ä»€ä¹ˆ?</h2><p>å¯ä»¥æ€»ç»“ä¸ºä¸‰å¤§ç±»:</p><ol><li>ä¸šåŠ¡ç³»ç»Ÿ</li><li>é€šç”¨åº”ç”¨</li><li>å·¥å…·ç±»çš„åº”ç”¨</li></ol><p>â €è¿™ä¸‰ç±»å¯ä»¥ç»Ÿç§°ä¸ºç«™ç‚¹,æˆ–è€…æ˜¯åº”ç”¨,æœ€æ—©çš„å«æ³•æ˜¯è½¯ä»¶,æˆ‘ä»¬å¯ä»¥ä»ä¸åŒçš„è§’åº¦å»å«å®ƒ,ä½†è¡¨è¾¾çš„éƒ½æ˜¯ä¸€ä¸ªæ„æ€.</p><ol><li>ä¸šåŠ¡ç³»ç»Ÿ,æ¯”å¦‚è¯´é“¶è¡Œçš„å®¢æˆ·ç®¡ç†ç³»ç»Ÿ,ç‰©æµç®¡ç†ç³»ç»Ÿä¹‹ç±»çš„,ç°åœ¨æ•´ä¸ªè¿‘åå¹´è¶‹åŠ¿,éƒ½æ˜¯ä»ä»¥å‰çš„CSæ¶æ„è½¬å˜æˆBSæ¶æ„,æ‰€ä»¥å¤§éƒ¨åˆ†è¿™ç§ç³»ç»Ÿ,éƒ½æ˜¯ä»¥Webå½¢å¼å‘ˆç°çš„. å’Œé€šç”¨åº”ç”¨ä¸åŒçš„åœ°æ–¹åœ¨äº,ä¸šåŠ¡ç³»ç»Ÿæ›´å¤šçš„ä¼šç”¨WebæŠ€æœ¯å»åš;</li><li>è€Œé€šç”¨åº”ç”¨ä¸€èˆ¬ä¸ä»…æ˜¯webå½¢å¼,å®‰å“,ioså„ç§è®¾å¤‡éƒ½éœ€è¦æœ‰</li><li>å·¥å…·ç±»çš„åº”ç”¨æ˜¯æŒ‡å¯ä»¥æä¾›ç”Ÿäº§åŠ›çš„ç¯å¢ƒ,æ¯”å¦‚ä½ å¯ä»¥åœ¨ä¸Šé¢åšè®¾è®¡,å¿«é€Ÿè·å¾—å„ç±»æŠ¥è¡¨;å½“ä¸‹æ¯”è¾ƒç«çš„å·¥å…·ç±»åº”ç”¨ç±»ä¼¼Figma,ç™¾åº¦åœ°å›¾</li></ol><p>â €é€šè¿‡ä»¥ä¸Šåœºæ™¯æ€»ç»“, <strong>å‰ç«¯DDDæ›´å¤šåœ°é€‚åˆç”¨äºä¸šåŠ¡ç³»ç»Ÿè¿™ç±»åœºæ™¯.</strong></p><h2 id="äºŒ-å…³äºç›®å‰ä¸»æµå‰ç«¯æ¡†æ¶çš„ç¼ºé™·"><a href="#äºŒ-å…³äºç›®å‰ä¸»æµå‰ç«¯æ¡†æ¶çš„ç¼ºé™·" class="headerlink" title="äºŒ. å…³äºç›®å‰ä¸»æµå‰ç«¯æ¡†æ¶çš„ç¼ºé™·"></a>äºŒ. å…³äºç›®å‰ä¸»æµå‰ç«¯æ¡†æ¶çš„ç¼ºé™·</h2><p>ä¸çŸ¥é“ä½ ä»¬æœ‰æ²¡æœ‰æ€è€ƒè¿‡è¿™ç§é—®é¢˜: ç‰¹åˆ«æ˜¯å›½å†…,ç”¨vueçš„åŒå­¦éå¸¸çš„å¤š.å¦‚æœç”¨vueçš„åº”ç”¨æ¥å¼€å‘ä¸šåŠ¡ç³»ç»Ÿ,ä½ ä¼šå‘ç°,å½“ä½ å†™åˆ°ç¬¬äºŒå¹´çš„æ—¶å€™,ä½ å°±å†™ä¸åŠ¨äº†.å› ä¸ºå¾ˆå¤šç”¨vueå»åšå¼€å‘çš„åº”ç”¨,å¸¦æœ‰ä¸€ç§çŸ­é¢‘å¿«; æˆ–è€…æ˜¯è¯´,å¯¹å¼€å‘è€…æ¥è®²,ä½ è¿›å…¥è¿™ä¸ªé¡¹ç›®å¾…çš„æ—¶é—´ä¸ä¼šç‰¹åˆ«é•¿;å½“éšç€ä¸šåŠ¡æ‰©å¢å’Œæ—¶é—´å‘å±•,ä¼šæ„Ÿè§‰ä»£ç éå¸¸æ··ä¹±,åœ¨å¼€å‘çš„æ—¶å€™,ä¼šåœ¨ä¸åŒçš„æ–‡ä»¶,æˆ–è€…åœ¨å„ç§ç»„ä»¶ä¸Šè¿›è¡Œä¿®æ”¹,é‚£å°±ä¼šé€ æˆä¸€ä¸ªé—®é¢˜,å°±æ˜¯å¼€å‘è€…å¾ˆéš¾æ„ŸçŸ¥åˆ°æˆ‘è¿™ä¸ªä¸šåŠ¡æ•°æ®çš„å˜åŠ¨,ç©¶ç«Ÿæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è§¦å‘çš„,é™¤éå¾ˆç†Ÿæ‚‰æ•´ä¸ªä¸šåŠ¡é¡µé¢é€»è¾‘å’Œä»£ç ç»“æ„,å¦åˆ™å¾ˆéš¾å»ç»´æŠ¤.<br>å¦‚æœä½ æ˜¯åœ¨åšä¸šåŠ¡ç³»ç»Ÿçš„ç¨‹åºå‘˜,ä½ å¯èƒ½å°±è¦æ€è€ƒ: <strong>éš¾é“æˆ‘åªéœ€è¦è§£å†³å¥½æ•°æ®é©±åŠ¨ç•Œé¢çš„é—®é¢˜,æˆ‘å°±å¯ä»¥æŠŠä¸šåŠ¡å†™å¥½äº†å—?</strong><br><strong>ä¸»æµæ¡†æ¶ä¾¿æ·å¼€å‘å¸¦æ¥çš„åå¤„</strong><br>å¾ˆå¤šæ—¶å€™,æˆ‘ä»¬ä¼šå°†è§†å›¾å±‚çš„é€»è¾‘å’Œä¸šåŠ¡å±‚çš„é€»è¾‘æ‚ç³…åœ¨ä¸€èµ·(æ¯”å¦‚è¯´æŒ‰é’®çš„æ˜¾éšé€»è¾‘å†™templateé‡Œ),ä½ åœ¨é˜…è¯»ä»£ç çš„æ—¶å€™,å°±ä¼šå‘ç°æ˜¯åœ¨è§†å›¾å±‚é¢å’Œä¸šåŠ¡é€»è¾‘å±‚é¢‘ç¹è·³è·ƒ,ä½ éœ€è¦å»ä¸åœçš„åˆ‡æ¢ä½ æ€è€ƒçš„åœºæ™¯.è¿™å¾€å¾€å°±ä¼šç»™å‰ç«¯å¼€å‘å¯¹äºæ•´ä¸ªä¸šåŠ¡çš„ç†è§£å¸¦æ¥æ›´å¤§çš„æˆæœ¬;æˆ–è€…è¯´åœ¨é‡æ„æˆ–è€…å‡çº§æ¡†æ¶æ—¶,è¿˜ä¾æ—§å¸¦ç€è¿™ç§æ€è·¯å»åš,é‚£å¾ˆå¤§æ¦‚ç‡ä¼šé‡è¹ˆè¦†è¾™.<br><strong>å…¶å®vueå’Œreactçš„æ¡†æ¶åº”ç”¨,å®ƒä»¬æ›´å¤šçš„æ˜¯ç«™åœ¨æˆ‘è¦å»è§£å†³çš„æ˜¯å‰ç«¯è§†å›¾å±‚é¢ä¸Šçš„ä¸œè¥¿,è§£å†³åŸºäºdomå…ƒç´ å¦‚ä½•åœ¨æ•°æ®é©±åŠ¨æ¨¡å¼ä¸‹å»è¿›è¡Œè‡ªåŠ¨æ›´æ–°.ä½†æ˜¯åœ¨reactæˆ–è€…vueçš„ç”Ÿæ€é‡Œ,å®ƒä»¬æ²¡æœ‰æä¾›ä¸€ä¸ªå®Œç¾çš„æ–¹æ¡ˆå»è§£å†³ä¸šåŠ¡è¦æ€ä¹ˆç»“åˆæ¡†æ¶å»å†™å¥½ä»£ç çš„é—®é¢˜</strong>. æ‰€ä»¥å®ƒä»¬åªæ˜¯è§†å›¾å±‚é¢çš„æ¡†æ¶,è·ŸçœŸæ­£çš„è½¯ä»¶æ¶æ„ä½“ç³»è¿˜æœ‰ä¸€å®šçš„è·ç¦».<br><strong>å‰ç«¯åœ¨ä¸šåŠ¡é¢†åŸŸå†…è¿˜æ²¡æœ‰å½¢æˆä¸€å®šçš„è§„èŒƒ</strong><br>å¦‚æœä½ çŸ¥é“C#,ä½ åº”è¯¥å¬è¿‡C#å¾ˆå¥½å»åšå‰åç«¯åŒæ„,ä½ å¯ä»¥ç†è§£ä¸ºä¸€ä»½ä»£ç å¯ä»¥åŒæ—¶æ”¾åœ¨å‰åç«¯è¿è¡Œ.å› ä¸ºåœ¨å¼€å‘çš„æ—¶å€™,ä¸€äº›ç‰¹å®šçš„ä¸œè¥¿æ˜¯æŒ‰ç…§ç‰¹å®šçš„æ¨¡å¼å»ç›¸äº’å…±äº«çš„,åŒ…æ‹¬ä¸€äº›ä¸šåŠ¡ä¸Šé¢çš„è®¡ç®—,æ¯”å¦‚å‰åç«¯æ•°å€¼è¦ä¿æŒä¸€è‡´ã€æµç¨‹çš„åˆ¤æ–­.å…¶å®ç”¨çš„éƒ½æ˜¯åŒä¸€ä»½ä»£ç ,è¿™æ ·å¯ä»¥ä¿è¯ä½ åœ¨å‰ç«¯åšçš„ä¸šåŠ¡æ•°æ®é€»è¾‘è®¡ç®—å¯ä»¥å’Œåç«¯ä¿æŒä¸€è‡´.<br>åœ¨ä¼ ç»Ÿæˆ–è€…è¯´CSæ—¶æœŸçš„è½¯ä»¶æ¶æ„ä½“ç³»ä¸‹,å·¥ç¨‹å¸ˆä»¬è¦è€ƒè™‘ä¸šåŠ¡å¯¹è±¡çš„å»ºæ¨¡,ä¸šåŠ¡æµç¨‹æ§åˆ¶,åˆ°äº†WEBåº”ç”¨çš„å¹´ä»£,å‰ç«¯çš„æŠ€æœ¯å‘å±•æœ€æ—©æ˜¯ä¸å¦‚åç«¯æŠ€æœ¯çš„,æ¯”å¦‚è¯´åç«¯åƒJAVA,ä¼šæœ‰åƒspringè¿™ç§å¤§ç»Ÿä¸€çš„ä¸»æµæ¡†æ¶,ä½†å‰ç«¯æ˜¯æ²¡æœ‰è¿™ç§æ¯”è¾ƒå¼ºç»Ÿä¸€çš„èŒƒå¼.æ‰€ä»¥è™½ç„¶äººä»¬å½¢å®¹å‰ç«¯æ˜¯ç™¾èŠ±é½æ”¾,ä½†å¾ˆå¤šæŠ€æœ¯éƒ½æ˜¯å»æ¢ç´¢è§£å†³çœ¼å‰çš„é—®é¢˜,è¿˜æ²¡æœ‰æ›´å¹¿é˜”çš„å½¢æˆæŠŠæ¡ä¸šåŠ¡çš„èŒƒå¼.<br>é‚£å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜å‘¢?è¿™æ—¶å€™å¯ä»¥ç”¨DDDæ¶æ„çš„æ€è·¯æ¥è§£å†³.</p><h2 id="ä¸‰-ä»€ä¹ˆæ˜¯DDDæ¶æ„"><a href="#ä¸‰-ä»€ä¹ˆæ˜¯DDDæ¶æ„" class="headerlink" title="ä¸‰. ä»€ä¹ˆæ˜¯DDDæ¶æ„"></a>ä¸‰. ä»€ä¹ˆæ˜¯DDDæ¶æ„</h2><p>DDD(Domain-Driven Design),domainè¿™é‡Œæ˜¯æŒ‡é¢†åŸŸçš„æ„æ€,æ˜¯Eric Evansåœ¨2004å¹´é€šè¿‡ã€ŠDomain-Driven Design: Tackling Complexity in the Heart of Softwareã€‹æ€»ç»“æå‡ºçš„ä¸€æ•´å¥—æ¦‚å¿µå’Œæ–¹æ³•è®º.ä»¥æˆ‘ä¸ªäººè–„å¼±çš„è§è§£,DDDæ˜¯ä»å®é™…ä¸šåŠ¡å‡ºå‘ï¼Œç«™åœ¨è§£å†³é¢†åŸŸé—®é¢˜çš„è§’åº¦å»æ€è€ƒå’Œè®¾è®¡ç³»ç»Ÿçš„æ–¹æ³•è®º.å®ƒåŒ…å«äº†ä¸¤ä¸ªæ–¹é¢çš„å†…å®¹ï¼š</p><ul><li><strong>æ²Ÿé€šæ–¹æ³•è®º</strong></li><li><strong>ç ”å‘æ–¹æ³•è®º</strong></li></ul><p>æ²Ÿé€šæ–¹æ³•è®ºæ˜¯è®²DDDæ˜¯ç«™åœ¨ç ”å‘äººå‘˜çš„è§’åº¦å»å‘Šè¯‰å¼€å‘è€…æ€ä¹ˆå»å’Œä¸šåŠ¡æ–¹å’Œéœ€æ±‚æ–¹è¿›è¡Œæ²Ÿé€š.æ¯”å¦‚åƒRetailå›¢é˜Ÿ,åœ¨å½“ä¸šåŠ¡æ–¹(FPM)å‘æˆ‘ä»¬æå‡ºä¸€ä¸ªéœ€æ±‚æ—¶,å…¶å®èƒŒåæ˜¯æœ‰ä¸€ä¸ªéœ€æ±‚æ–¹(BPM)å»å‘Šè¯‰FPMä»–ä»¬çš„è¯‰æ±‚,FPMä¼šå’Œéœ€æ±‚æ–¹å»æ¥è§¦å’Œäº†è§£è¿™ä¸ªè¯‰æ±‚æœ¬è´¨æ˜¯å› ä¸ºä»€ä¹ˆä¸œè¥¿å˜åŒ–è€Œå¼•èµ·çš„,ç„¶åå†æ ¹æ®è‡ªå·±çš„ç»éªŒæ€»ç»“æˆèƒ½å¤Ÿå‘ˆç°åœ¨æˆ‘ä»¬ç³»ç»Ÿä¸Šå…·ä½“çš„ä¸€ä¸ªåŠŸèƒ½.<br>å¦‚æœå½“å¼€å‘è€…éœ€è¦å’Œéœ€æ±‚æ–¹å»æ²Ÿé€šçš„æ—¶å€™,è¿˜æ˜¯ä¾æ—§ç«™åœ¨æŠ€æœ¯çš„è§’åº¦ä¸Š(æ¯”å¦‚å­—æ®µ,äº‹ä»¶)å»è¿›è¡Œ,é‚£è¿™æ—¶å€™è¿™ç§äº¤æµå°±ä¼šæ˜¯å¾ˆå†²çªçš„;æˆ–è€…è¯´éœ€æ±‚æ–¹ä¸åœå’Œä½ è¯´ä¸€äº›ä¸“ä¸šçš„ä¸šåŠ¡è¯æ±‡,å¦‚æœæ²¡æœ‰å¾ˆè¯¦ç»†çš„è§£é‡Šè¿™äº›è¯åœ¨å½“ä¸‹çš„ä¸šåŠ¡ä¸‹çš„å«ä¹‰,ä½œä¸ºå¼€å‘è€…ä¹Ÿæ˜¯å¾ˆéš¾å»é¢†æ‚Ÿåˆ°éœ€æ±‚æ–¹çš„åŠ¨æœº.æ‰€ä»¥Ericåœ¨ä¹¦é‡Œæä¾›äº†ä¸€ä¸ªæ–¹æ³•è®º,æˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ª<strong>ç»Ÿä¸€è¯­è¨€</strong>å»åšæ²Ÿé€š<strong>.</strong> è¿™ä¸ªç»Ÿä¸€è¯­è¨€å¯ä»¥è®©æŠ€æœ¯äººå‘˜å’Œé¢†åŸŸä¸“å®¶ååœ¨ä¸€èµ·æ„å»ºå‡ºå¯¹åº”ä¸šåŠ¡çš„<strong>é¢†åŸŸæ¨¡å‹</strong>ï¼Œå¿…é¡»æ‘’å¼ƒä»–ä»¬å„è‡ªåœ¨è‡ªå·±å·¥ä½œèŒƒå›´å†…çš„ç‹­ä¹‰æ¦‚å¿µï¼Œå¤§å®¶æ‰¾åˆ°ä¸€ç§ç›¸äº’éƒ½å¯ä»¥ç†è§£çš„æ¦‚å¿µè¡¨è¾¾æ–¹å¼ï¼Œæ¥æœ€ç»ˆç¡®è®¤å„è‡ªæå‡ºçš„é—®é¢˜å’Œå›ç­”å¯¹æ–¹éƒ½èƒ½å‡†ç¡®ç†è§£.<br><strong>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨***</strong>UML(ç”¨å›¾å½¢çš„æ–¹å¼æ¥æç»˜å„ç§ç ”å‘åœºæ™¯çš„å¯¹åº”çš„å¯¹è±¡å’Œå…³ç³»)<strong>***æ¥ä½œä¸ºç»Ÿä¸€è¯­è¨€è¿›è¡Œæ„å»ºé¢†åŸŸæ¨¡å‹.</strong></p><h2 id="å››-å‰ç«¯è¦å…³æ³¨çš„èŒƒç•´ï¼Œåº”è¯¥æ¯”åç«¯è¿˜å¤§ä¸€äº›"><a href="#å››-å‰ç«¯è¦å…³æ³¨çš„èŒƒç•´ï¼Œåº”è¯¥æ¯”åç«¯è¿˜å¤§ä¸€äº›" class="headerlink" title="å››. å‰ç«¯è¦å…³æ³¨çš„èŒƒç•´ï¼Œåº”è¯¥æ¯”åç«¯è¿˜å¤§ä¸€äº›"></a>å››. å‰ç«¯è¦å…³æ³¨çš„èŒƒç•´ï¼Œåº”è¯¥æ¯”åç«¯è¿˜å¤§ä¸€äº›</h2><p>ä½œä¸ºä¸€åä¸šåŠ¡ç³»ç»Ÿçš„å‰ç«¯å¼€å‘,éœ€è¦å»å…³æ³¨è¿™å‡ ä¸ªæ–¹é¢çš„äº‹æƒ…:</p><ul><li>ä¸šåŠ¡æ¨¡å‹(é¡µé¢å±•ç¤ºä»¥åŠæµç¨‹æµè½¬çš„æ¡ä»¶æ§åˆ¶ç­‰)</li><li>æ•°æ®æœåŠ¡</li><li>UIäº¤äº’ç»„ä»¶ä½“ç³»</li></ul><p>â €å‰ç«¯å¼€å‘æ³¨å®šä¸å¯èƒ½åªå…³æ³¨ä¸šåŠ¡æ¨¡å‹ï¼Œåœ¨å‰ç«¯ï¼Œç‰¹åˆ«æ˜¯webé¢†åŸŸï¼Œé™¤ä¸šåŠ¡ä¹‹å¤–å…³æ³¨ç”±åç«¯åå‡ºçš„æ•°æ®å’Œç•Œé¢äº¤äº’æ˜¯ä¸€ä»¶å¿…é¡»çš„äº‹ã€‚ç”šè‡³æœ‰è¿™æ ·ä¸€ç§æƒ…å†µï¼Œäº§å“æ–‡æ¡£ä¸­æŒ‡å‡ºï¼Œâ€œç”¨æˆ·ç‚¹å‡»è¯¥æŒ‰é’®æ—¶ï¼Œéœ€è¦å¼¹å‡ºäºŒæ¬¡ç¡®è®¤çª—å£ï¼Œç‚¹å‡»ç¡®è®¤åè¯¥ç­¾ç½²æµè½¬ä¸ºå·²å®Œæˆâ€ã€‚åœ¨è¿™ä¸ªæè¿°ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†ï¼Œæ˜¯å¦å±äºä¸šåŠ¡é€»è¾‘å‘¢ï¼Ÿä»ä¼ ç»Ÿåç«¯çš„è§’åº¦ï¼Œå½“ç„¶ä¸å±äºï¼Œä½†æ˜¯ï¼Œå¦‚æœå»æ‰è¿™ä¸ªäº¤äº’é€»è¾‘ï¼Œèƒ½å¦å®Œæ•´è¡¨è¾¾è¿™ä¸€ä¸šåŠ¡è¿‡ç¨‹å‘¢ï¼Ÿ<strong>è¿™æ˜¯ä¸€ä¸ªå€¼å¾—æ€è€ƒçš„é—®é¢˜ï¼Œå‰ç«¯å¦‚æœè¦å®æ–½DDDï¼Œä¸å¯èƒ½ç…§æ¬åç«¯çš„å®è·µã€‚</strong>å‰ç«¯æ— æ³•è„±ç¦»äº¤äº’å»è°ˆä¸šåŠ¡æ¨¡å‹,æ‰€ä»¥è¯´,å‰ç«¯è¦å…³æ³¨çš„èŒƒç•´,åº”è¯¥æ¯”åç«¯è¿˜å¤§ä¸€äº›ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://www.tangshuang.net/8212.html" target="_blank" rel="noopener">Reactè¯­å¢ƒä¸‹å‰ç«¯DDDçš„æ€è€ƒ_å”éœœçš„åšå®¢</a><br><a href="https://www.zhihu.com/column/c_1266667320073818112" target="_blank" rel="noopener">å‰ç«¯æ•°æ®æ²»ç†ä¹‹é“</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>DDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Code Abstraction and Practical in DDD</title>
    <link href="/2023/10/10/Code%20Abstraction%20and%20Practical%20in%20DDD/"/>
    <url>/2023/10/10/Code%20Abstraction%20and%20Practical%20in%20DDD/</url>
    
    <content type="html"><![CDATA[<h1 id="Code-Abstraction-and-Practical-in-DDD"><a href="#Code-Abstraction-and-Practical-in-DDD" class="headerlink" title="Code Abstraction and Practical in DDD"></a><strong>Code Abstraction and Practical in DDD</strong></h1><p>#ä¸ªäºº/åšå®¢ç›¸å…³</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Backgroundï¼šIn the complex business system of the supply chain, the front-end development work in the Retail team primarily involved creating single-page applications with <strong>simple interactions but complex business logic.</strong> Over time, as functionality accumulated, the team faced the following challenges:<ul><li>Dispersed logic, making it difficult to streamline</li><li>Increasing complexity of business scenarios leading to <strong>more quality issues</strong>, even challenging test coverage.</li><li><strong>Fear of making code changes</strong> due to the risk of unintended consequences.</li><li><strong>Difficulty migrating business components</strong> from Element-UI to SSC-UI when switching component libraries, often requiring a complete rewrite</li></ul></li></ul><ul><li>Personal Thinkingï¼š<ul><li>Is solving the problem of data-driven interfaces enough, or should I consider preliminary ~<a href="https://confluence.shopee.io/pages/viewpage.action?pageId=914821098" target="_blank" rel="noopener">research and planning related to Domain-Driven Design (DDD)</a></li><li>In such a complex system, how can I effectively understand the business logic behind each technical detail to ensure <strong>accurate business implementation</strong>?<h2 id="Research-and-Analysis"><a href="#Research-and-Analysis" class="headerlink" title="Research and Analysis"></a>Research and Analysis</h2></li></ul></li><li>What Kind of Code Design/Architecture Is More Suitable for the Current Business System</li><li><strong>Mainstream Architecture Design for Frontend and Backend</strong><ul><li>Backend Architecture (java: j2ee, spring boot, spring cloud, SOA, microservices, DDD, DCI)</li><li>Frontend Architecture (vue, react, vuex/redux, router, flux, micro frontends, BFF)â €<br>DDD (Domain-Driven Design) is an approach that starts from real business needs, focusing on solving domain problems when thinking and designing systems.<br>From the practice of backend development based on DDD, the advantages include: i<strong>t can help teams establish effective business communication standards and solidify the process of business logic.</strong></li></ul></li></ul><p><strong>So, does frontend need DDD? Can frontend implement DDD?</strong></p><h2 id="Do-we-need-drive-layering-in-Front-End"><a href="#Do-we-need-drive-layering-in-Front-End" class="headerlink" title="Do we need drive layering in Front-End?"></a>Do we need drive layering in Front-End?</h2><p>The drawbacks of mainstream frontend frameworksâ€™ convenient development:<br>MVVC application frameworks primarily address frontend view-level issues, solving how to automatically update based on DOM elements in a data-driven model.</p><p>This creates a problem: developers find it challenging to perceive when business data changes and what triggers those changes. When reading the code, youâ€™ll notice frequent jumps between the view layer and business logic layer, requiring constant context switching, <strong>which adds more complexity to understanding the business logic for frontend development.</strong></p><h2 id="How-to-Implement"><a href="#How-to-Implement" class="headerlink" title="How to Implement?"></a>How to Implement?</h2><p>As a frontend developer in a business system, there are several aspects to focus on:</p><ul><li>Business Models (including conditions for page display and workflow control)</li><li>Data Services</li><li>UI Interaction Component System<br>The scope of concern for frontend should be broader than that of the backend.</li><li><em>When it comes to implementing Domain-Driven Design (DDD) in the frontend, it cannot simply mimic backend practices. Frontend cannot separate itself from interactions to discuss business models.*</em></li></ul><h2 id="Frontend-Layered-Design"><a href="#Frontend-Layered-Design" class="headerlink" title="Frontend Layered Design"></a>Frontend Layered Design</h2><p>![The Design of Business Logic Layer](/img/ddd/The Design of Business Logic Layer.png)</p><h3 id="Directory-Structure-for-Code"><a href="#Directory-Structure-for-Code" class="headerlink" title="Directory Structure for Code"></a>Directory Structure for Code</h3><ul><li><p><strong>view layout</strong></p></li><li><p><em>ğŸ“ components*</em></p></li><li><p><em>ğŸ“ pages*</em></p></li><li><p><strong>business logic layout</strong></p></li><li><p><em>ğŸ“ƒ index: Entry File*</em></p></li><li><p><em>ğŸ“ constants*</em></p></li><li><p><em>ğŸ“ actionsï¼šBusiness Use Cases*</em></p></li><li><p><em>ğŸ“ schemasï¼šBusiness Use Feilds*</em></p></li><li><p><em>ğŸ“ utils*</em></p></li><li><p>Data Access Layer (DAL): Interface for data storage, including various data sources such as local, code, and backend.</p></li><li><p>Business Logic Layer (BLL): Implements business models and interactions, delivering outputs based on specific scenarios.</p></li><li><p>Controller: Connects BLL and pages, configures access routes.</p></li><li><p>Pages: View Page, overseeing all internal components.</p></li><li><p>Common: Primarily includes utils and components without business logic</p><h3 id="The-Design-of-Business-Logic-Layer"><a href="#The-Design-of-Business-Logic-Layer" class="headerlink" title="The Design of Business Logic Layer"></a>The Design of Business Logic Layer</h3><p><img src="/img/ddd/bll%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81%E9%AA%A8%E6%9E%B6.png" srcset="/img/loading.gif" lazyload alt="bllä¸»è¦ä»£ç éª¨æ¶"></p></li><li><p><em>Structure of bllï¼š*</em><br>Storeï¼š Business Data<br>Schemaï¼š Business Field<br>eventTypesï¼šAction Type<br>actionsï¼š Business Action Logic</p></li><li><p><em>Method of bllï¼š*</em><br>$options: Basic Attrs passed from View<br>$on: Register an event<br>$emit: Trigger an event<br>updateSchemaï¼šUpdate Field<br>updateStoreï¼š Update Store data</p></li></ul><p><img src="/img/ddd/bll%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81%E9%AA%A8%E6%9E%B6.png" srcset="/img/loading.gif" lazyload alt="bllä¸»è¦ä»£ç éª¨æ¶"><br><img src="/img/ddd/%E5%85%B7%E4%BD%93%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E5%A4%84%E7%90%86.png" srcset="/img/loading.gif" lazyload alt="å…·ä½“ä¸šåŠ¡åœºæ™¯å¤„ç†"><br><img src="/img/ddd/%E5%9C%A8%E8%A7%86%E5%9B%BE%E5%B1%82%E8%B0%83%E7%94%A8bll.png" srcset="/img/loading.gif" lazyload alt="åœ¨è§†å›¾å±‚è°ƒç”¨bll"></p><h2 id="Elaborating-on-Considerations-Implementation-Effort"><a href="#Elaborating-on-Considerations-Implementation-Effort" class="headerlink" title="Elaborating on Considerations - Implementation Effort"></a>Elaborating on Considerations - Implementation Effort</h2><ul><li><strong>The initial and learning costs are relatively high, and under the premise of frequent changes in the business architecture, the time cost of taking over does not proportionally align with the constraints imposed for benefits.</strong></li><li>The design of BLL (Business Logic Layer) primarily serves the development of complex business system types, while lightweight single-page solutions actually increase development costs.</li><li>DDD (Domain-Driven Design) is a methodology with the aim of achieving domain cohesion, and its core lies in how to better serve specific business scenarios.</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>DDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueæ’ä»¶--è¶…é•¿å•å’Œåˆ†çº§åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–</title>
    <link href="/2021/03/26/Vue%E6%8F%92%E4%BB%B6-%E8%B6%85%E9%95%BF%E5%8D%95%E5%92%8C%E5%88%86%E7%BA%A7%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96/"/>
    <url>/2021/03/26/Vue%E6%8F%92%E4%BB%B6-%E8%B6%85%E9%95%BF%E5%8D%95%E5%92%8C%E5%88%86%E7%BA%A7%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç»„ä»¶ä»“åº“é“¾æ¥ï¼š <a href="https://github.com/Appleking10/virtual-list" target="_blank" rel="noopener">ç»„ä»¶ä»“åº“</a></p><ul><li><p>ç»„ä»¶æ•ˆæœå›¾ï¼š<br><img src="/img/3.png" srcset="/img/loading.gif" lazyload alt="ç»„ä»¶æ•ˆæœå›¾"></p></li><li><p>ç»„ä»¶åº”ç”¨:</p></li></ul><img src="/img/4.png" srcset="/img/loading.gif" lazyload alt="å‘ˆç°æ•ˆæœ" width="40%"><img src="/img/5.png" srcset="/img/loading.gif" lazyload alt="å‘ˆç°æ•ˆæœ" width="40%"><p>å› ä¸ºå·¥ä½œéœ€è¦ï¼Œéœ€è¦å¤„ç†ä¸€ä¸ª10w+æ•°æ®é‡çš„transferï¼Œæ‰€ä»¥å°†å…¬å¸åŸå…ˆç»„ä»¶è¿›è¡Œé‡æ„å’Œå‡çº§ã€‚<br>è¿™ç¯‡æ•™ç¨‹ä¸»è¦å†…å®¹ä¸ºï¼š</p><ol><li>å‰æåŸºç¡€å­¦ä¹ ï¼šGUIæ¸²æŸ“æ—¶æœºã€å¸¸è§çš„è¶…é•¿åˆ—è¡¨æ¸²æŸ“</li><li>è¶…é•¿å•åˆ—è¡¨çš„æ¸²æŸ“ä»¥åŠä¼˜åŒ–</li><li>å†1çš„åŸºç¡€ä¸Šï¼Œå…¼å®¹åˆ†çº§åˆ—è¡¨</li><li>é€‰æ‹©å™¨transferçš„æ„é€ </li><li>å°è£…æˆæ’ä»¶ï¼Œå‘å¸ƒåˆ°npmä¸Š(to-do-list)</li></ol><h3 id="1-å‰æåŸºç¡€å­¦ä¹ "><a href="#1-å‰æåŸºç¡€å­¦ä¹ " class="headerlink" title="1. å‰æåŸºç¡€å­¦ä¹ "></a>1. å‰æåŸºç¡€å­¦ä¹ </h3><h4 id="a-GUIæ¸²æŸ“æ—¶æœº"><a href="#a-GUIæ¸²æŸ“æ—¶æœº" class="headerlink" title="a. GUIæ¸²æŸ“æ—¶æœº"></a>a. GUIæ¸²æŸ“æ—¶æœº</h4><p>é¦–å…ˆäº†è§£è¿™ä¸ªï¼Œè¦å…ˆäº†è§£jså¼•æ“æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p><p>jså¼•æ“æ˜¯å•æ ¸å¼•æ“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œjså¼•æ“åªèƒ½å¼€ä¸€æ¡çº¿ç¨‹æ¥å¤„ç†è¿›ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™æ¡çº¿ç¨‹ï¼Œçœ‹æˆ<strong>æ‰§è¡Œæ ˆ</strong>ï¼Œé‡Œé¢ä¼šé¡ºåºæ¨å…¥è¦æ‰§è¡Œçš„ä»£ç å—ï¼ˆæ¯”å¦‚å‡½æ•°ï¼‰ï¼Œæ‰§è¡Œè¿™å—ä»£ç å†å»å¤„ç†ä¸‹å—ä»£ç ã€‚</p><p>é‚£é‡åˆ°å¼‚æ­¥ä»»åŠ¡æ€ä¹ˆå®ç°å¼‚æ­¥å‘¢ï¼Œå…³äºè¿™ä¸ªå¯ä»¥å‚è€ƒä¸‹é¢æµç¨‹å›¾:</p><img src="/img/1.png" srcset="/img/loading.gif" lazyload alt="æµç¨‹å›¾" width="100%"><p>â‘ é¦–å…ˆå¯ä»¥å°†ä¸€ä¸ªjsè„šæœ¬çœ‹æˆä¸€ä¸ªå®ä»»åŠ¡ï¼Œç„¶åä»ä¸Šè‡³ä¸‹ä¾æ¬¡æ‰§è¡Œä»£ç ï¼Œé‡åˆ°å¼‚æ­¥ä»»åŠ¡ã€‚â‘¡å°†å¼‚æ­¥ä»»åŠ¡åˆ†ç±»ï¼Œå¦‚æœæ˜¯å¾®ä»»åŠ¡ï¼ˆå¦‚<code>Promsie</code>ï¼‰å°±å°†å¾®ä»»åŠ¡çš„å›è°ƒå‡½æ•°æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœæ˜¯å®ä»»åŠ¡ï¼Œå°±ç­‰å®ä»»åŠ¡æˆåŠŸæˆ–è€…æ—¶é—´åˆ°äº†ï¼ˆæ­¤æ—¶jså¼•æ“ä¼šå°†è¿™ä¸ªä»»åŠ¡æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œå½“å‰çš„åŒæ­¥ä»£ç ï¼‰ï¼Œå°†æˆåŠŸå›è°ƒæ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ã€‚â‘¢å½“å‰åŒæ­¥ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•åï¼Œjså¼•æ“ä¼šå»è§¦å‘<code>EventLoopè½®è¯¢å¤„ç†çº¿ç¨‹</code>ï¼Œå…ˆå»çœ‹å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯æœ‰æœ‰ä»»åŠ¡ï¼Œè‹¥æœ‰ä»»åŠ¡ï¼Œä»é˜Ÿå¤´ä»»åŠ¡å¼€å§‹æ‰§è¡Œï¼Œâ‘£ç­‰å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºåï¼Œ<strong>æµè§ˆå™¨ä¼šè¿›è¡Œä¸€æ¬¡GUIæ¸²æŸ“</strong>ï¼Œâ‘¤ç„¶åä¼šå»å–ä¸€ä¸ªå®ä»»åŠ¡æ”¾åˆ°æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œé‡åˆ°å¼‚æ­¥ä»»åŠ¡é‡å¤â‘¡</p><p>ä»¥ä¸Šä¾¿æ˜¯EventLoopçš„åŸç†ã€‚å¾—å‡ºç»“è®ºï¼š<strong>GUIæ¸²æŸ“æ˜¯åœ¨å½“å‰ä»»åŠ¡æ¸…ç©ºä¹‹åï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ä¹‹å‰ï¼Œè¿›è¡Œçš„ï¼</strong></p><ul><li>ä¸¾ä¾‹è¯´æ˜ï¼šè¦å¦‚ä½•å»æµ‹è¯•å‡½æ•°å’Œé¡µé¢æ¸²æŸ“æ€§èƒ½å‘¢</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> total = <span class="hljs-number">100000</span>;<br><span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">Date</span>.now()<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; total; i++&gt;)&#123;<br>    <span class="hljs-keyword">let</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>)<br>    li.innerHtml = i;<br>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'container'</span>).appendChild(li)<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Date</span>.now() - timer) <span class="hljs-comment">//è®¡ç®—æ‰§è¡Œæ—¶é—´</span><br></code></pre></td></tr></table></figure><p>è¿™æ®µå‡½æ•°çš„æœ¬æ„æ˜¯è¦è®¡ç®—totalä¸ªliæ¸²æŸ“åˆ°é¡µé¢èŠ±äº†å¤šå°‘æ—¶é—´ï¼Œä½†è¿è¡Œåä¼šå‘ç°ï¼Œè¾“å‡ºçš„æ—¶é—´å¾ˆçŸ­ï¼Œä½†é¡µé¢è¿˜æœªæ¸²æŸ“å®Œæˆ100000ä¸ªliã€‚åŸå› å°±æ˜¯å› ä¸ºjså¼•æ“ä¼šå°†å½“å‰æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œåï¼Œæ‰ä¼šè¿›è¡ŒGUIæ¸²æŸ“ã€‚å¯¹äºjså¼•æ“æ¥è¯´ï¼Œéå†100000æ¬¡å¾ˆè½»æ¾ï¼Œä½†æ¸²æŸ“100000ä¸ªliå´æ²¡æœ‰é‚£ä¹ˆå‹å¥½ï¼Œå› æ­¤ä¼šæœ‰ä¸€æ®µç™½å±æ—¶é—´ã€‚</p><p>é‚£æˆ‘ä»¬å¦‚ä½•å»è®¡ç®—å‡½æ•°ä»æ‰§è¡Œåˆ°é¡µé¢æ¸²æŸ“å®Œæ¯•çš„æ—¶é—´å‘¢ï¼Ÿå¯ä»¥åœ¨è¾“å‡ºè¯­å¥åŠ ä¸Šä¸ªå®šæ—¶å™¨ï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œåœ¨æ‰§è¡Œå®šæ—¶å™¨çš„ä¹‹å‰ï¼ŒGUIæ¸²æŸ“å·²ç»å®Œæˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> total = <span class="hljs-number">100000</span>;<br><span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">Date</span>.now()<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; total; i++&gt;)&#123;<br>    <span class="hljs-keyword">let</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>)<br>    li.innerHtml = i;<br>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'container'</span>).appendChild(li)<br>&#125;<br>setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Date</span>.now() - timer)<br>&#125;,<span class="hljs-number">0</span>) <span class="hljs-comment">//è®¡ç®—æ‰§è¡Œ+æ¸²æŸ“æ—¶é—´</span><br></code></pre></td></tr></table></figure><h4 id="b-å¦‚ä½•å¤„ç†è¶…é•¿åˆ—è¡¨æ¸²æŸ“"><a href="#b-å¦‚ä½•å¤„ç†è¶…é•¿åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="b. å¦‚ä½•å¤„ç†è¶…é•¿åˆ—è¡¨æ¸²æŸ“"></a>b. å¦‚ä½•å¤„ç†è¶…é•¿åˆ—è¡¨æ¸²æŸ“</h4><ul><li>åˆ†ç‰‡ï¼šæ ¹æ®æ•°æ®å¤§å°ï¼Œæ¯æ¬¡åŠ è½½å›ºå®šçš„æ•°é‡ã€‚ä½†æœ‰ä¸ªæ˜æ˜¾ç¼ºç‚¹ï¼ŒåŠ è½½è¶Šå¤šï¼Œé¡µé¢ä¸Šç´¯ç§¯çš„domå…ƒç´ ä¼šå¾ˆå¤šï¼Œå¯¹æ€§èƒ½ä¸å‹å¥½</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> total = <span class="hljs-number">10000</span>;<br><span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">let</span> id = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">const</span> NUM = <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span>(<span class="hljs-params"></span>)</span>&#123;<br>    index += NUM;<br>    <span class="hljs-keyword">if</span>(index &lt; total)&#123;<br>        <span class="hljs-comment">//ä¹Ÿå¯ä»¥ç”¨setTimeoutï¼ŒrequestAnimationFrameå¯ä»¥é…åˆæµè§ˆå™¨åˆ·æ–°é¢‘ç‡</span><br>        requestAnimationFrame(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>            <span class="hljs-keyword">let</span> fragment = <span class="hljs-built_in">document</span>.createDocumentFragment();<br>            <span class="hljs-comment">//åˆ†ç‰‡æ¸²æŸ“</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i&lt;NUM;i++)&#123; <span class="hljs-comment">//ieæµè§ˆå™¨ï¼Œéœ€è¦ç”¨åˆ°æ–‡æ¡£ç¢ç‰‡</span><br>                <span class="hljs-keyword">let</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>)<br>                li.innerHtml = i;<br>                fragment.appendChild(li)<br>            &#125;<br>            <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'container'</span>).appendChild(li)<br>            load()<br>        &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>è™šæ‹Ÿåˆ—è¡¨ä¼˜åŒ–ï¼Œåªæ¸²æŸ“å½“å‰çš„å¯è§†åŒºï¼ˆå¯ä»¥å‚è€ƒgithubä¸Šä¸€ä¸ªå¾ˆæˆç†Ÿçš„vueæ’ä»¶ï¼švue-virtual-scroll-listï¼‰</li></ul><p><strong>åŸç†</strong>ï¼šæŠŠåˆ—è¡¨å½“æˆä¸€ä¸ªæ•°ç»„ï¼Œç”¨<code>å¼€å§‹æŒ‡é’ˆ</code>å’Œ<code>ç»“æŸæŒ‡é’ˆ</code>å»å†³å®šå¯è§†åŒºåŸŸçš„æ•°æ®å±•ç¤ºï¼Œå½“æ»šåŠ¨æ¡æ»‘åŠ¨çš„æ—¶å€™ï¼Œå»ç®—æ»‘è¿‡å¤šå°‘ä¸ªäº†ï¼ŒæŒ‡é’ˆä¹Ÿè·Ÿç€ç§»åŠ¨ä½ç½®ï¼Œå»æŒ‡å‘åº”è¯¥å±•ç¤ºçš„æ•°æ®ä½ç½®ï¼›å¦‚æœåˆ—è¡¨æ¯é¡¹ä¸å®šé«˜çš„è¯ï¼Œè¿˜éœ€è¦åˆ·æ–°æ¯é¡¹çš„é«˜åº¦å’Œæ»šåŠ¨æ¡çš„é«˜åº¦ï¼Œè¿™éƒ¨åˆ†æ¯”è¾ƒå¤æ‚ã€‚</p><p>å…·ä½“å®ç°çœ‹ç¬¬äºŒéƒ¨åˆ†</p><h3 id="2-è¶…é•¿å•åˆ—è¡¨çš„æ¸²æŸ“ä»¥åŠä¼˜åŒ–"><a href="#2-è¶…é•¿å•åˆ—è¡¨çš„æ¸²æŸ“ä»¥åŠä¼˜åŒ–" class="headerlink" title="2. è¶…é•¿å•åˆ—è¡¨çš„æ¸²æŸ“ä»¥åŠä¼˜åŒ–"></a>2. è¶…é•¿å•åˆ—è¡¨çš„æ¸²æŸ“ä»¥åŠä¼˜åŒ–</h3><p>æ€è·¯å¤§æ¦‚æ˜¯ï¼š</p><ul><li>ä¸ç®¡åˆ—è¡¨å¤šé•¿ï¼Œæˆ‘éœ€è¦åªæ˜¾ç¤ºå¯è§†åŒºåŸŸæœ‰æ•°æ®</li><li>å‘Šè¯‰æˆ‘çš„åˆ—è¡¨æ¯ä¸€é¡¹å¤šé«˜(<code>itemH</code>)å’Œå¤šå°‘æ¡æ•°æ®(<code>datas</code>) ==&gt; æ»šåŠ¨æ¡çš„é«˜åº¦</li><li>å¯è®¾å®šæ˜¾ç¤ºå¤šå°‘æ¡(<code>showNum</code>)</li><li>å¯è®¾å®šæ˜¯å¦ä¸å®šé«˜åŠ è½½</li></ul><ol><li><strong>åˆ—è¡¨ç»“æ„è®¾è®¡</strong>: <ol><li>ä¸»å®¹å™¨ï¼šå¯æ»šåŠ¨çš„ç›’å­ï¼Œç›‘å¬æ»šåŠ¨äº‹ä»¶ã€‚è®¾ç½®ç›¸å¯¹å®šä½å’Œ<code>overflow:scroll</code></li><li>å†…å±‚è™šæ‹Ÿåˆ—è¡¨ï¼šè®¾ç½®ç›¸å¯¹å®šä½ï¼Œç”¨äºæ’‘å¼€ä¸»å®¹å™¨ï¼Œç”¨äºå±•ç¤ºæ•°æ®</li></ol></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- ä¸»å®¹å™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"view"</span> @<span class="hljs-attr">scroll</span>=<span class="hljs-string">"handleScroll"</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è™šæ‹Ÿåˆ—è¡¨ï¼Œç”¨padding-topæ¥åšåç§»é‡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">class</span>=<span class="hljs-string">"virtual-list"</span>  </span><br><span class="hljs-tag">        <span class="hljs-attr">ref</span>=<span class="hljs-string">"virtualList"</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;paddingTop:`$&#123;offset&#125;px`,lineHeight:`$&#123;itemH&#125;px`&#125;"</span></span><br><span class="hljs-tag">    &gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,index) in virtualList"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.key"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"item"</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ’æ§½ï¼šç»„ä»¶é€šè¿‡slot-scope="&#123;item&#125;"æ¥æ”¶ --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">'stylus'</span> <span class="hljs-attr">scoped</span>&gt;</span><br><span class="css"><span class="hljs-selector-class">.viewport</span></span><br>    width 500px<br>    position relative<br>    overflow-y scroll<br><span class="css">    <span class="hljs-selector-class">.virtual-list</span></span><br>        position relative<br>        top 0<br>        left 0<br><span class="css">        <span class="hljs-selector-class">.item</span></span><br>            box-sizing border-box<br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p><strong>åˆå§‹åŒ–:<code>moutedé˜¶æ®µ</code></strong></p><ol><li>ä¸»å®¹å™¨çš„é«˜åº¦ = itemH * showNum</li><li>è™šæ‹Ÿåˆ—è¡¨çš„çœŸå®é«˜åº¦ = itemH * datas.length</li><li>end = start + showNum</li><li>è™šæ‹Ÿåˆ—è¡¨æ•°æ®ï¼š<code>virtualList = datas.slice(start,end)</code>,åˆ‡å‰²çœŸå®åˆ—è¡¨æ¥å½¢æˆ</li></ol></li><li><p><strong>æ»šåŠ¨æ¡ç›‘å¬</strong></p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">handleScroll() &#123;<br>    <span class="hljs-keyword">let</span> scrollTop = <span class="hljs-keyword">this</span>.$refs.view.scrollTop;<br>    <span class="hljs-comment">//å‘ä¸‹å–æ•´,æ»‘è¿‡å¤šå°‘ä¸ªäº†</span><br>    <span class="hljs-keyword">this</span>.start = <span class="hljs-built_in">Math</span>.floor(scrollTop / <span class="hljs-keyword">this</span>.itemH); <br>    <span class="hljs-keyword">this</span>.end = <span class="hljs-keyword">this</span>.start + <span class="hljs-keyword">this</span>.showNum;<br>    <span class="hljs-keyword">this</span>.offset = <span class="hljs-keyword">this</span>.start * <span class="hljs-keyword">this</span>.itemH; <span class="hljs-comment">//è™šæ‹Ÿåˆ—è¡¨è§†å£åç§»é‡     </span><br>&#125;,<br></code></pre></td></tr></table></figure><p>åˆ°è¿™ï¼Œä¸€ä¸ªæœ€åŸºç¡€çš„è™šæ‹Ÿåˆ—è¡¨åŠ è½½å°±å®Œæˆäº†ã€‚ä½†è¿˜æœ‰å¾ˆå¤šç»†èŠ‚è¦å¤„ç†ã€‚</p><ol start="4"><li><strong>é¢„ç•™å ä½æ¸²æŸ“</strong><br>å¦‚æœç”¨æˆ·æ»‘çš„å¾ˆå¿«ï¼Œè¿˜æ˜¯ä¼šå‡ºç°ç¬é—´ç™½å±çš„ç°è±¡ï¼Œå› æ­¤éœ€è¦åœ¨è™šæ‹Ÿåˆ—è¡¨<strong>å‰å</strong>åŠ ä¸Šä¸€å“åˆ—è¡¨ï¼ˆæ•°é‡ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼‰ã€‚å¯ä»¥é€šè¿‡å°†å‰åæŒ‡é’ˆåˆ†åˆ«å‰åç§»åŠ¨ï¼Œå¢åŠ è™šæ‹Ÿåˆ—è¡¨æ¸²æŸ“èŒƒå›´ï¼ŒåŒæ—¶éœ€è¦å°†è™šæ‹Ÿåˆ—è¡¨çš„è§†å£å–åœ¨ä¸­é—´æ®µã€‚</li></ol><img src="/img/2.png" srcset="/img/loading.gif" lazyload alt="é¢„ç•™æ¸²æŸ“å›¾" width="100%"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åœ¨è™šæ‹Ÿåˆ—è¡¨å‰åå ä¸€å“ä½,è¿”å›ä½ç½®</span><br>prevCount() &#123;<br>    <span class="hljs-comment">//è‹¥å½“å‰å¼€å§‹ä½ç½®å¤§äºå±•ç¤ºæ¡æ•°ï¼Œè¯´æ˜éœ€è¦å ä½</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.start, <span class="hljs-keyword">this</span>.showNum);<br>&#125;,<br>nextCount() &#123;<br>    <span class="hljs-comment">//è‹¥åˆ°è¾¾åˆ—è¡¨æœ«å°¾ï¼Œåˆ™è¿”å›å‰©ä¸‹æ¡æ•°</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.datas.length - <span class="hljs-keyword">this</span>.end, <span class="hljs-keyword">this</span>.showNum);<br>&#125;<br><br>virtutalList =  <span class="hljs-keyword">this</span>.datas.slice(<br>                    <span class="hljs-keyword">this</span>.start - <span class="hljs-keyword">this</span>.prevCount, <span class="hljs-comment">//å‘å‰ä¸€å“</span><br>                    <span class="hljs-keyword">this</span>.end + <span class="hljs-keyword">this</span>.nextCount) <span class="hljs-comment">//å‘åä¸€å“</span><br>                <br><span class="hljs-comment">//å¦‚æœæœ‰é¢„ç•™æ¸²æŸ“ï¼Œå‘ä¸Šç§»åŠ¨,å¯ä»¥å€ŸåŠ©ä¸Šå›¾ç†è§£</span><br>offset = start * itemH - prevCount * itemH;<br></code></pre></td></tr></table></figure><ol><li>ä¼˜åŒ–æ»šåŠ¨èŠ‚æµ:å€ŸåŠ©lodash<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> throttle <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash/throttle'</span><br><br>created()&#123;<br>    <span class="hljs-keyword">this</span>.scrollFn = throttle(<span class="hljs-keyword">this</span>.handleScroll,<span class="hljs-number">200</span>,&#123;leadingï¼›<span class="hljs-literal">false</span>&#125;)<br>&#125;<br></code></pre></td></tr></table></figure></li><li>ä¸å®šé«˜åŠ è½½è®¾è®¡</li></ol><p>ã€‚ã€‚ã€‚ å¾…è¡¥å……</p><h3 id="3-è¶…é•¿å¤šçº§åˆ—è¡¨çš„æ¸²æŸ“"><a href="#3-è¶…é•¿å¤šçº§åˆ—è¡¨çš„æ¸²æŸ“" class="headerlink" title="3. è¶…é•¿å¤šçº§åˆ—è¡¨çš„æ¸²æŸ“"></a>3. è¶…é•¿å¤šçº§åˆ—è¡¨çš„æ¸²æŸ“</h3><p>å¸¸è§çš„è¶…é•¿åˆ—è¡¨æ¸²æŸ“è²Œä¼¼éƒ½æ˜¯è€ƒè™‘å•åˆ—è¡¨ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼‰ï¼Œå› ä¸ºå·¥ä½œä¸šåŠ¡ä¸Šçš„éœ€æ±‚ï¼Œæˆ‘å†³å®šä¼˜åŒ–ä¸€ä¸‹ï¼Œè®¾è®¡æˆå¯ä»¥å…¼å®¹äºŒçº§åˆ—è¡¨ã€‚å‡è®¾ä¼ å…¥çš„æ˜¯Mapå¯¹è±¡ï¼Œå³ä¸ºäºŒçº§åˆ—è¡¨</p><ol><li><strong>éœ€è¦å“ªäº›å˜é‡æ¥æ§åˆ¶</strong></li></ol><ul><li><code>foldFlag</code>: æ•°ç»„ï¼Œå€¼ä¸ºtrueå’Œfalseã€‚æ§åˆ¶å±•å¼€å“ªä¸ªäºŒçº§åˆ—è¡¨ï¼Œåªèƒ½å±•å¼€ä¸€ä¸ªäºŒçº§åˆ—è¡¨ï¼ˆæ•°ç»„å€¼åªæœ‰ä¸€ä¸ªtrueï¼Œå…¶å®ƒä¸ºfalseï¼‰</li><li><code>unFoldIndex</code>: Numberï¼Œä¿å­˜å½“å‰å±•å¼€çš„ä¸€çº§åˆ—è¡¨id,æ²¡æœ‰å±•å¼€åˆ™ä¸ºnull</li></ul><ol start="2"><li><strong>htmlç»“æ„ä¸Šå…¼å®¹</strong></li></ol><p>é€šè¿‡<code>v-if</code>å’Œ<code>v-else</code>æ¥å†³å®šæ˜¾ç¤ºå“ªç§åˆ—è¡¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"view"</span> @<span class="hljs-attr">scroll</span>=<span class="hljs-string">"scrolFn"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;maxWidth:setMaxWidth&#125;"</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è™šæ‹Ÿåˆ—è¡¨ï¼Œç”¨paddingTopæ¥åšåç§»é‡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"virtual-list"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"virtualList"</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;paddingTop:`$&#123;offset&#125;px`,lineHeight:`$&#123;itemH&#125;px`&#125;"</span> &gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span></span><br><span class="hljs-tag">            <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,index) in virtualList"</span></span><br><span class="hljs-tag">            <span class="hljs-attr">:key</span>=<span class="hljs-string">"item[0]+'-'+index"</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- å¦‚æœä¼ çš„æ˜¯æ•°ç»„ï¼Œé‚£å°±æ˜¯å•çº§åˆ—è¡¨ --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"single-list"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"Array.isArray(datas)"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;height:`$&#123;itemH&#125;px`&#125;"</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- æ’æ§½ï¼šæ”¾ç½®æ¯ä¸€é¡¹åˆ—è¡¨ï¼Œç»„ä»¶é€šè¿‡slot-scope="&#123;item&#125;"æ¥æ”¶ --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"singleList"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- ä¼ çš„æ˜¯Mapï¼Œå¤šçº§åˆ—è¡¨ --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-list"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;height:`$&#123;itemH&#125;px`&#125;"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"toggleFold(index,item)"</span></span><br><span class="hljs-tag">                <span class="hljs-attr">v-else</span> &gt;</span><br>                <span class="hljs-comment">&lt;!-- ä¸‹æ‹‰icon --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:inline-block;width:12px"</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">class</span>=<span class="hljs-string">"el-icon-caret-right"</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123;transform: foldFlag[index]?'rotate(90deg)':'rotate(0deg)'&#125;"</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">v-show</span>=<span class="hljs-string">"datas &amp;&amp; datas.get(item[0])['children'].length&gt;0"</span></span><br><span class="hljs-tag">                    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- æ”¾ç½®ä¸€çº§èœå•çš„slot --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span> <span class="hljs-attr">:main</span>=<span class="hljs-string">"item[0]"</span>&gt;</span>&#123;&#123;item[0]&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- å±•ç¤ºçš„è™šæ‹Ÿæ•°æ®ï¼Œè‹¥æ²¡æœ‰äºŒçº§å­çº§ï¼Œä¾¿ä¸æ˜¾ç¤º --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fold_tree"</span></span><br><span class="hljs-tag">                <span class="hljs-attr">style</span>=<span class="hljs-string">"padding-left:30px;list-style: none;margin:0;"</span></span><br><span class="hljs-tag">                <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!Array.isArray(datas)&amp;&amp;foldFlag[index]&amp;&amp;item[1]['children'].length&gt;0"</span></span><br><span class="hljs-tag">            &gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"white-space: nowrap;"</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(child,idx) in item[1]['children'].slice()"</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">:key</span>=<span class="hljs-string">"road[label]+'-'+road[nodekey]"</span></span><br><span class="hljs-tag">                &gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sub"</span> <span class="hljs-attr">:sub</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"datas.length == 0||datas.size==0"</span>&gt;</span>æš‚æ— æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>åˆå§‹åŒ–é˜¶æ®µ</strong></li></ol><p>é»˜è®¤ä¸å±•å¼€äºŒçº§èœå•ï¼Œåˆ™åˆå§‹åŒ–åªéœ€å±•ç¤ºæ‰€æœ‰çš„ä¸€çº§èœå•å³å¯</p><ul><li>æ»šåŠ¨æ¡é•¿åº¦ = <code>this.datas.size</code> * <code>this.itemH</code></li><li>start = 0 </li><li>end = start + showNum &gt; <code>this.datas.size</code> ? showNum :datas.size;</li><li>è™šæ‹Ÿåˆ—è¡¨æ•°æ®ï¼šå½“å‰æ²¡æœ‰å±•å¼€ï¼Œä¾¿è¿”å›æ•´ä¸ª<code>datas</code></li></ul><ol start="4"><li><strong>å±•å¼€äºŒçº§åˆ—è¡¨è®¾è®¡</strong></li></ol><p>æ€è·¯ä¸ºï¼šç‚¹å‡»çš„æ—¶å€™å»åˆ¤æ–­ï¼šä»¥ä¸‹å±•å¼€æƒ…å†µï¼Œå¹¶è®¡ç®—å„ç§æƒ…å†µçš„çœŸå®é«˜åº¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript">toggleFold(index, item) &#123;<br>    <span class="hljs-keyword">let</span> scrollH;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unFoldIndex === index) &#123;<br>        <span class="hljs-comment">//è‹¥å½“å‰ç‚¹å‡»ç­‰äºè‡ªå·±ï¼Œåˆ™æ”¶èµ·</span><br>        <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(this.foldFlag, index, !this.foldFlag[index]);<br>        this.unFoldIndex = null;<br>        scrollH = this.itemH * (this.datas.size + 1);<br><br>    &#125; else if (this.unFoldIndex == null) &#123;<br>        <span class="hljs-comment">//è‹¥æ˜¯å½“å‰æ²¡æœ‰å±•å¼€ï¼Œåˆ™å±•å¼€å½“å‰ç‚¹å‡»</span><br>        <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(this.foldFlag, index, true);<br>        //ç®—ä¸Šå½“å‰é¡µé¢å·²æœ‰çš„ä¸€çº§åˆ—è¡¨é«˜åº¦<br>        scrollH = this.itemH * (this.datas.size +  1 +<br>                  this.datas.<span class="hljs-keyword">get</span>(item[0])["children"].length);<br>        this.unFoldIndex = index;<br>    &#125; else &#123;<br>        <span class="hljs-comment">//è‹¥ç‚¹å‡»æ—¶å·²æœ‰åˆ«çš„åˆ—è¡¨å±•å¼€ï¼Œä¾¿æ”¶èµ·å…¶å®ƒåˆ—è¡¨ï¼Œå±•å¼€å½“å‰åˆ—è¡¨</span><br>        <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(this.foldFlag, this.unFoldIndex, false);<br>        this.$<span class="hljs-keyword">set</span>(this.foldFlag, index, true);<br>        scrollH = this.itemH *  (this.datas.size + 1 +<br>                  this.datas.<span class="hljs-keyword">get</span>(item[0])["children"].length);<br>        this.unFoldIndex = index;<br>    &#125;<br>    //ä¸ç®¡å±•å¼€æˆ–è€…æ”¶èµ·ï¼Œéƒ½å°†æŒ‡é’ˆåˆå§‹åŒ–<br>    this.start = 0; //æ§åˆ¶å½“å‰åˆ—è¡¨çš„æŒ‡é’ˆ<br>    this.end = this.start + this.showNum;<br>    this.$refs.virtualList.style.height = scrollH + "px";<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li><strong>è™šæ‹Ÿåˆ—è¡¨çš„æˆªå–</strong></li></ol><p>æ€è·¯ï¼šå…ˆåˆ¤æ–­æœ‰æ— å±•å¼€ï¼Œæ— å±•å¼€ä¾¿å±•ç¤ºä¸€çº§èœå•ï¼›æœ‰å±•å¼€ä¾¿å»è·å–å½“å‰å±•å¼€çš„ä¸€çº§èœå•çš„idå’ŒäºŒçº§é¡¹ï¼Œç„¶ååœ¨äºŒçº§é¡¹å»æˆªå–ã€‚å‘åå ä½ä¹Ÿè¦åˆ¤æ–­æ˜¯å¦æœ‰å±•å¼€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs javascript">virtualList() &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.datas) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-keyword">this</span>.datas)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.datas.slice(<br>                <span class="hljs-keyword">this</span>.start - <span class="hljs-keyword">this</span>.prevCount,<br>                <span class="hljs-keyword">this</span>.end + <span class="hljs-keyword">this</span>.nextCount<br>            );<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unFoldIndex === <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-comment">//è‹¥å½“å‰æ²¡æœ‰å±•å¼€</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.datas;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">//è‹¥å½“å‰å±•å¼€äº†ï¼Œæ‰¾åˆ°å±•å¼€çš„ä¸€çº§èœå•ï¼Œåˆ‡å‰²å½“å‰åˆ—è¡¨</span><br>                <span class="hljs-comment">//æ·±æ‹·è´å¯¹æ€§èƒ½ä¸å¤ªå¥½</span><br>                <span class="hljs-comment">// let data = _.cloneDeep(this.datas);</span><br>                <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();<br>                <span class="hljs-comment">//ä¼˜åŒ–åå†™æ³•,æˆªå–å½“å‰å±•å¼€çš„äºŒçº§èœå•æ•°ç»„</span><br>                <span class="hljs-keyword">this</span>.datas.forEach(<span class="hljs-function">(<span class="hljs-params">road, name</span>) =&gt;</span> &#123;<br>                    <span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">children</span>: [], <span class="hljs-attr">id</span>: road.id &#125;;<br>                    obj[<span class="hljs-keyword">this</span>.label] = road[<span class="hljs-keyword">this</span>.label];<br>                    obj[<span class="hljs-keyword">this</span>.nodekey] = road[<span class="hljs-keyword">this</span>.nodekey];<br>                    data.set(name, obj);<br>                &#125;);<br>                <span class="hljs-comment">// è¿”å›æˆªå–åçš„Map</span><br>                <span class="hljs-keyword">let</span> key = [...this.datas][<span class="hljs-keyword">this</span>.unFoldIndex][<span class="hljs-number">0</span>];<br>                <span class="hljs-keyword">let</span> roadArr = [...this.datas][<span class="hljs-keyword">this</span>.unFoldIndex][<span class="hljs-number">1</span>][<span class="hljs-string">"children"</span>].slice(<br>                    <span class="hljs-keyword">this</span>.start - <span class="hljs-keyword">this</span>.prevCount,<br>                    <span class="hljs-keyword">this</span>.end + <span class="hljs-keyword">this</span>.nextCount<br>                );<br>                <span class="hljs-comment">//æ›¿æ¢å±•ç°çš„äºŒçº§æ•°ç»„</span><br>                <span class="hljs-keyword">let</span> newObj = data.get(key);<br>                newObj[<span class="hljs-string">"children"</span>] = roadArr;<br>                data.set(key, newObj);<br>                <span class="hljs-keyword">return</span> data;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;,<br><span class="hljs-comment">//å‘åå ä½ä¹Ÿè¦åˆ¤æ–­æ˜¯å¦æœ‰å±•å¼€</span><br>nextCount() &#123;<br>    <span class="hljs-comment">//è‹¥åˆ°è¾¾åˆ—è¡¨æœ«å°¾ï¼Œåˆ™è¿”å›å‰©ä¸‹æ¡æ•°</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-keyword">this</span>.datas)) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.datas.length - <span class="hljs-keyword">this</span>.end, <span class="hljs-keyword">this</span>.showNum);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">//è‹¥å½“å‰æ²¡æœ‰å±•å¼€</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unFoldIndex === <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.datas.size - <span class="hljs-keyword">this</span>.end, <span class="hljs-keyword">this</span>.showNum);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//è‹¥å±•å¼€ï¼Œæ‰¾åˆ°å½“å‰å±•å¼€äºŒçº§èœå•æ‰€æœ‰æ•°æ®</span><br>            <span class="hljs-keyword">let</span> data = [...this.datas][<span class="hljs-keyword">this</span>.unFoldIndex][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(data.length - <span class="hljs-keyword">this</span>.end, <span class="hljs-keyword">this</span>.showNum);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="6"><li><strong>æ»šåŠ¨ç›‘å¬</strong></li></ol><p>æ€è·¯ï¼šå¦‚æœæœ‰å±•å¼€ï¼Œå¹¶ä¸”æ»šåŠ¨è·ç¦»å·²ç»è¶…è¿‡å½“å‰è¦å±•å¼€çš„ä¸€çº§åˆ—è¡¨ä¸Šé¢èœå•çš„æ€»é«˜åº¦ï¼Œä¾¿å»æ›´æ”¹<code>start</code>ï¼Œ<code>end</code>ï¼Œ<code>offset</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript">handleScroll() &#123;<br>    <span class="hljs-keyword">let</span> scrollTop = <span class="hljs-keyword">this</span>.$refs.view.scrollTop;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-keyword">this</span>.datas)) &#123;<br>        <span class="hljs-keyword">this</span>.start = <span class="hljs-built_in">Math</span>.floor(scrollTop / <span class="hljs-keyword">this</span>.itemH); <span class="hljs-comment">//å‘ä¸‹å–æ•´,æ»‘è¿‡å¤šå°‘ä¸ªäº†</span><br>        <span class="hljs-keyword">this</span>.end = <span class="hljs-keyword">this</span>.start + <span class="hljs-keyword">this</span>.showNum;<br>        <span class="hljs-comment">//å¦‚æœæœ‰é¢„ç•™æ¸²æŸ“ï¼Œå‘ä¸Šç§»åŠ¨</span><br>        <span class="hljs-keyword">this</span>.offset = <span class="hljs-keyword">this</span>.start * <span class="hljs-keyword">this</span>.itemH - <span class="hljs-keyword">this</span>.prevCount * <span class="hljs-keyword">this</span>.itemH;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">//å¦‚æœæœ‰å±•å¼€ï¼Œæ‰ä¼šå»æ”¹å˜å±•ç¤ºæ•°æ®</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unFoldIndex != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-comment">//å¦‚æœæ»‘åŠ¨è·ç¦»è¶…è¿‡å±•å¼€ä¸Šé¢ä¸€çº§èœå•çš„é•¿åº¦</span><br>            <span class="hljs-keyword">if</span> (scrollTop &gt; (<span class="hljs-keyword">this</span>.unFoldIndex + <span class="hljs-number">2</span>) * <span class="hljs-keyword">this</span>.itemH) &#123;<br>                <span class="hljs-comment">//æˆªå–çš„å¼€å§‹æŒ‡é’ˆ= æ»‘è¿‡å¤šå°‘ä¸ª</span><br>                <span class="hljs-keyword">this</span>.start = <span class="hljs-built_in">Math</span>.floor(<br>                    (scrollTop - (<span class="hljs-keyword">this</span>.unFoldIndex + <span class="hljs-number">1</span>) * <span class="hljs-keyword">this</span>.itemH) / <span class="hljs-keyword">this</span>.itemH<br>                );<br>                <span class="hljs-comment">//è™šæ‹Ÿåˆ—è¡¨çš„åç§»é‡ï¼Œåº”è¯¥å‘ä¸‹é¡¶å¤šå°‘</span><br>                <span class="hljs-keyword">this</span>.offset = <span class="hljs-keyword">this</span>.start * <span class="hljs-keyword">this</span>.itemH - <span class="hljs-keyword">this</span>.prevCount * <span class="hljs-keyword">this</span>.itemH;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">this</span>.start = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">this</span>.offset = <span class="hljs-number">0</span>;<br>            &#125;<br>            <span class="hljs-keyword">this</span>.end = <span class="hljs-keyword">this</span>.start + <span class="hljs-keyword">this</span>.showNum;<br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="7"><li><strong>å‹¾é€‰åŠŸèƒ½çš„è®¾è®¡</strong></li></ol><p>å¼•å…¥å‹¾é€‰åŠŸèƒ½ï¼Œå¯ä»¥åœ¨åŠ ä¸Šä¸€ä¸ªæ˜¯å¦å¼€å¯å¯ä»¥å‹¾é€‰çš„å˜é‡ã€‚æ€è·¯æ˜¯ï¼šç”¨ä¸€ä¸ªé›†åˆ<code>new Set()</code>æ¥ä¿å­˜å·²é€‰ä¸­çš„item,æ¯æ¡çš„å‹¾é€‰æ¡†çš„<code>v-model</code>ç”¨æ˜¯å¦å­˜åœ¨å‹¾é€‰é›†åˆä¸­æ¥æ˜¾ç¤ºã€‚<br>å‹¾é€‰åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼šå…¨é€‰ï¼Œä¸€çº§å…¨é€‰ï¼ŒäºŒçº§å•æ¡å‹¾é€‰ï¼Œå› æ­¤åœ¨å‹¾é€‰çš„æ—¶å€™è¦åˆ†æƒ…å†µè€ƒè™‘</p><ul><li>å…¨é€‰ï¼šåˆ¤æ–­å½“å‰æ˜¯å¦å‹¾é€‰äº†-&gt;è‹¥å‹¾é€‰äº†ï¼Œå–æ¶ˆå‹¾é€‰ï¼Œå¹¶<code>set.clear()</code>,æ¸…ç©ºé›†åˆï¼›-&gt;è‹¥æ²¡æœ‰å‹¾é€‰ï¼Œå…¨é€‰ï¼Œå¹¶æŠŠæ‰€æœ‰ä¸€çº§èœå•å’ŒäºŒçº§èœå•å…¨éƒ¨<code>add</code></li><li>ä¸€çº§å…¨é€‰ï¼šåˆ¤æ–­å½“å‰æ˜¯å¦å‹¾é€‰äº†-&gt; è‹¥å‹¾é€‰äº†ï¼Œå–æ¶ˆå½“å‰ä¸€çº§å‹¾é€‰å’Œå…¨é€‰å’Œå½“å‰å­é›† -&gt; è‹¥æ²¡æœ‰å‹¾é€‰ï¼Œå‹¾é€‰ä¸€çº§èœå•å’Œå½“å‰å­é›†ï¼Œåˆ¤æ–­å½“å‰ä¸€çº§èœå•æ˜¯å¦å…¨éƒ¨å‹¾é€‰äº†ï¼ˆ<code>arr.every(()=&gt;{})</code>ï¼‰</li><li>äºŒçº§å•æ¡å‹¾é€‰ï¼šåˆ¤æ–­å½“å‰æ˜¯å¦å‹¾é€‰äº† -&gt; è‹¥å‹¾é€‰äº†ï¼Œå–æ¶ˆå‹¾é€‰è‡ªå·±å’Œå½“å‰æ‰€åœ¨ä¸€çº§å‹¾é€‰å’Œå…¨é€‰ -&gt; è‹¥æ²¡æœ‰å‹¾é€‰ï¼Œå‹¾é€‰è‡ªå·±ï¼Œå¹¶ä¸”åˆ¤æ–­å½“å‰æ‰€åœ¨ä¸€çº§èœå•æ˜¯å¦å…¨é€‰äº†å’Œæ˜¯å¦å…¨é€‰äº†</li></ul><ol start="8"><li><strong>è¿‡æ»¤æœç´¢åŠŸèƒ½çš„è®¾è®¡</strong></li></ol><p>æ€è·¯æ˜¯å…ˆç»™æ•°æ®æ‰“ä¸Šæ‹¼éŸ³æ ‡è¯†ï¼Œæ¯”å¦‚ç½‘æ ¼001ï¼ˆwangge001ï¼‰ï¼Œå›½é“s108ï¼ˆguodaos108ï¼‰ï¼Œç„¶åå†è¾“å…¥çš„æ—¶å€™ï¼Œå°†è¾“å…¥å€¼è½¬æˆæ‹¼éŸ³ï¼Œåœ¨æ‰€æœ‰æ•°æ®çš„æ‹¼éŸ³æ ‡è¯†éå†ï¼Œè‹¥åŒ…å«åœ¨é‡Œé¢ä¾¿è¿”å›</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ç»™æ ‡ç­¾åŠ æ‹¼éŸ³æ ‡è¯†</span><br>addPYtag() &#123;<br>    <span class="hljs-comment">//å•æåˆ—è¡¨çš„æƒ…å†µ</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-keyword">this</span>.datas)) &#123;<br>        <span class="hljs-comment">//å…ˆåŠ è½½å†å»æ‰§è¡Œ</span><br>        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>            <span class="hljs-keyword">this</span>.datas = <span class="hljs-keyword">this</span>.datas.map(<br>                e =&gt; &#123;<br>                    e[<span class="hljs-string">"py"</span>] = <span class="hljs-keyword">this</span>.setPinyinConvert(e[<span class="hljs-keyword">this</span>.label]);<br>                    <span class="hljs-keyword">return</span> e;<br>                &#125;<br>            );<br>        &#125;, <span class="hljs-number">0</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>            <span class="hljs-comment">//éå†æ‰€æœ‰æ•°æ®</span><br>            <span class="hljs-keyword">this</span>.datas.forEach(<span class="hljs-function">(<span class="hljs-params">val, key</span>) =&gt;</span> &#123;<br>                <span class="hljs-keyword">if</span> (val[<span class="hljs-string">"children"</span>].length &gt; <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-comment">//è‹¥æœ‰å­é›†</span><br>                    val[<span class="hljs-string">"children"</span>] = val[<span class="hljs-string">"children"</span>].map(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>                        e[<span class="hljs-string">"py"</span>] = <span class="hljs-keyword">this</span>.Pinyin.convertPinyin(e[<span class="hljs-keyword">this</span>.label]);<br>                        <span class="hljs-keyword">return</span> e;<br>                    &#125;);<br>                    <span class="hljs-keyword">this</span>.datas.set(key, val);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    val[<span class="hljs-string">"py"</span>] = <span class="hljs-keyword">this</span>.Pinyin.convertPinyin(val[<span class="hljs-keyword">this</span>.label]);<br>                    <span class="hljs-keyword">this</span>.datas.set(key, val);<br>                &#125;<br>            &#125;);<br>        &#125;, <span class="hljs-number">0</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æ¨¡ç³Šæœç´¢:</span><br><span class="hljs-comment">// @searchValï¼šæœç´¢å€¼</span><br><span class="hljs-comment">// @resultMapNameï¼šè¦ä¿å­˜çš„è¿”å›ç»“æœçš„å˜é‡å</span><br><span class="hljs-comment">// @dataNameï¼šå·²æœ‰æ‹¼éŸ³æ ‡è¯†çš„åŸå§‹æ•°æ®å˜é‡å</span><br>querySearch(searchVal, resultMapName, dataName) &#123;<br>    <span class="hljs-keyword">let</span> results = [];<br>    <span class="hljs-comment">//å¦‚æœæœ‰æœç´¢è¯</span><br>    <span class="hljs-keyword">if</span> (searchVal) &#123;<br>        <span class="hljs-comment">// å°†æœç´¢è¯è½¬æˆæ‹¼éŸ³</span><br>        <span class="hljs-keyword">let</span> py = <span class="hljs-keyword">this</span>.Pinyin.convertPinyin(searchVal.toLowerCase());<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-keyword">this</span>[dataName])) &#123;<br>            <span class="hljs-comment">//åœ¨pyå­—æ®µæœç´¢è¿™ä¸ªæ‹¼éŸ³ï¼Œç¬¦åˆè¿”å›</span><br>            <span class="hljs-keyword">this</span>[dataName].forEach(<span class="hljs-function">(<span class="hljs-params">val, key</span>) =&gt;</span> &#123;<br>                <span class="hljs-keyword">if</span> (val[<span class="hljs-string">"children"</span>].length &gt; <span class="hljs-number">0</span>) &#123;<br>                    results = results.concat(val[<span class="hljs-string">"children"</span>].filter(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>                        e[<span class="hljs-string">"parentKey"</span>] = key;<br>                        <span class="hljs-keyword">return</span> (e[<span class="hljs-string">"py"</span>].toLowerCase().indexOf(py) &gt; <span class="hljs-number">-1</span>);<br>                    &#125;));<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">if</span> (val[<span class="hljs-string">"py"</span>].toLowerCase().indexOf(py) &gt; <span class="hljs-number">-1</span>) &#123;<br>                        results.push(val);<br>                    &#125;<br>                &#125;<br>            &#125;);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">this</span>[dataName].forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>                <span class="hljs-keyword">if</span> (item[<span class="hljs-string">"py"</span>].toLowerCase().indexOf(py) &gt; <span class="hljs-number">-1</span>) &#123;<br>                    results.push(item);<br>                &#125;<br>            &#125;);<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        results = <span class="hljs-keyword">this</span>[dataName];<br>    &#125;<br>    <span class="hljs-keyword">this</span>[resultMapName] = results;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Vueå®æˆ˜</tag>
      
      <tag>æŠ€èƒ½ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯¥æŠ›å¼ƒæ— æ•ˆçš„é‡å¤ç»ƒä¹ äº†</title>
    <link href="/2021/02/26/%E8%AF%A5%E6%8A%9B%E5%BC%83%E6%97%A0%E6%95%88%E7%9A%84%E9%87%8D%E5%A4%8D%E7%BB%83%E4%B9%A0%E4%BA%86/"/>
    <url>/2021/02/26/%E8%AF%A5%E6%8A%9B%E5%BC%83%E6%97%A0%E6%95%88%E7%9A%84%E9%87%8D%E5%A4%8D%E7%BB%83%E4%B9%A0%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<h2 id="è¯¥æŠ›å¼ƒæ— æ•ˆçš„é‡å¤ç»ƒä¹ äº†"><a href="#è¯¥æŠ›å¼ƒæ— æ•ˆçš„é‡å¤ç»ƒä¹ äº†" class="headerlink" title="è¯¥æŠ›å¼ƒæ— æ•ˆçš„é‡å¤ç»ƒä¹ äº†"></a>è¯¥æŠ›å¼ƒæ— æ•ˆçš„é‡å¤ç»ƒä¹ äº†</h2><p><strong>â€”â€”ã€Šåˆ»æ„ç»ƒä¹ ã€‹è¯»åæ„Ÿ</strong></p><p>ä¸çŸ¥é“å¤§å®¶æ˜¯å¦å¬è¿‡ä¸€ä¸‡å°æ—¶ç†è®ºï¼Œè¯¥ç†è®ºè®¤ä¸ºä¸è®ºä½ çš„å¤©èµ‹ã€å‡ºèº«å¦‚ä½•ï¼Œåªè¦åšæŒç»ƒä¹ ä¸€ä¸‡å°æ—¶ï¼Œå°±æœºä¼šæˆä¸ºé¢†åŸŸå†…ä¸“å®¶ã€‚ä½†å¦‚æœçœŸçš„æ˜¯è¿™æ ·çš„è¯ï¼Œé‚£æˆ‘ä»¬ä»å°å­¦å¼€å§‹åˆ°ç°åœ¨ï¼Œä¸€ç›´åœ¨å­¦ä¹ è‹±è¯­ï¼Œæ—¶é—´ä¹Ÿä¸çŸ­äº†ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†å¾ˆæµåˆ©çš„è‹±è¯­å£è¯­èƒ½åŠ›äº†å—ï¼Ÿ</p><p>å•ä¸€é‡å¤çš„ç»ƒä¹ å¹¶ééƒ½æ˜¯æœ‰æ•ˆã€‚é‡å¤ç»ƒä¹ çš„æ ¹æœ¬é—®é¢˜å°±æ˜¯åœ¨äºæˆ‘ä»¬é¢å¯¹å¤§é‡çš„å·¥ä½œä»»åŠ¡æ²¡æœ‰è‡ªå·±æƒ³è¦å¾—åˆ°çš„ä¸€ä¸ªç›®æ ‡æ–¹å‘ï¼Œè€Œæœ‰ç›®æ ‡ç»ƒä¹ çš„æ ¸å¿ƒå°±æ˜¯å…·æœ‰å®šä¹‰æ˜ç¡®çš„ç‰¹å®šç›®æ ‡ã€‚æœ‰æ—¶æˆ‘ä»¬æ‹¼å°½å…¨åŠ›å´ä¾ç„¶åŸåœ°è¸æ­¥ï¼Œè¿™å¤§æ¦‚å°±æ˜¯æ— æ•ˆçš„é‡å¤ç»ƒä¹ ã€‚</p><p>è¿™æœ¬ä¹¦å°±å¾ˆæ˜ç¡®çš„æŒ‡å‡ºäº†ä¸€ä¸‡å°æ—¶å®šå¾‹å­˜åœ¨çš„é—®é¢˜ï¼Œä»è€Œå¼•å‡ºäº†è¿™ä¸‰ä¸ªé—®é¢˜ï¼š</p><p><strong>1. å¤©æ‰çœŸçš„å­˜åœ¨å—ï¼Ÿ</strong></p><p><strong>2. ä»€ä¹ˆæ˜¯åˆ»æ„ç»ƒä¹ ï¼Ÿ</strong></p><p><strong>3. å¦‚ä½•ä»æ–°æ‰‹æˆä¸ºå¤§å¸ˆï¼Ÿ</strong></p><h3 id="1-å¤©æ‰çœŸçš„å­˜åœ¨å—ï¼Ÿ"><a href="#1-å¤©æ‰çœŸçš„å­˜åœ¨å—ï¼Ÿ" class="headerlink" title="1.  å¤©æ‰çœŸçš„å­˜åœ¨å—ï¼Ÿ"></a>1.  <strong>å¤©æ‰çœŸçš„å­˜åœ¨å—ï¼Ÿ</strong></h3><p>ä½œè€…ç ”ç©¶äº†å¤§é‡å¤©æ‰åå‘ç°ï¼Œäººä»¬ä¹‹æ‰€ä»¥å¯¹æ‰€è°“å¤©æ‰æœ‰â€˜ä»–ä»¬ç”Ÿæ¥å°±å…·æœ‰æŸç§ç‰¹æ®Šçš„èƒ½åŠ›ï¼Œä¸ç”¨ç‰¹æ„è®­ç»ƒä»ç„¶å¯ä»¥å˜æˆæ°å‡ºäººç‰©çš„å°è±¡ï¼Œç»è¿‡è®­ç»ƒï¼Œå¯ä»¥è·å¾—å’Œå¤©æ‰ä¸€æ ·çš„è¡¨ç°ã€‚è¿™å¯¹ä¼ ç»Ÿè®¤çŸ¥çš„äº§ç”Ÿé¢ è¦†ï¼š<strong>é€šè¿‡é«˜å¼ºåº¦è®­ç»ƒï¼Œèƒ½å¤Ÿæ”¹é€ èº«ä½“å’Œå¤§è„‘ï¼Œäº§ç”Ÿåƒå¤©èµ‹ä¸€èˆ¬çš„å¥‡è¿¹èƒ½åŠ›ï¼Œä»è€Œé“¸å°±å¤©æ‰</strong>ã€‚</p><p>æ‰€ä»¥å¤©æ‰ä¹Ÿä¸æ˜¯å¤©ç”Ÿçš„ï¼Œå¤©æ‰æ˜¯è®­ç»ƒçš„äº§ç‰©ã€‚</p><h3 id="2-åˆ»æ„ç»ƒä¹ æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-åˆ»æ„ç»ƒä¹ æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.  åˆ»æ„ç»ƒä¹ æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.  <strong>åˆ»æ„ç»ƒä¹ æ˜¯ä»€ä¹ˆ</strong>ï¼Ÿ</h3><p>ä½œè€…åœ¨ä¹¦ä¸­è®²åˆ°ï¼Œå“è¶Šçš„ä¸“å®¶ä¹‹æ‰€ä»¥å“è¶Šï¼Œå°±åœ¨äºä»–ä»¬èƒ½å¤Ÿè°ƒç”¨æ›´å¤§å®¹é‡çš„å·¥ä½œè®°å¿†ã€‚è€Œè¿™ç§è®°å¿†èƒ½åŠ›ï¼Œæ˜¯å¯ä»¥é€šè¿‡åˆ»æ„ç»ƒä¹ å¾—æ¥çš„ã€‚é‚£ä»€ä¹ˆæ˜¯åˆ»æ„ç»ƒä¹ ï¼Ÿä¸ä¸€èˆ¬çš„å­¦ä¹ è·¯å¾„æœ‰å•¥åŒºåˆ«å‘¢ï¼Ÿ</p><p>æ€»ç»“å¦‚ä¸‹<strong>ï¼š</strong></p><ol><li><p><strong>å­¦ä¼šæ‰¾åˆ°ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„è®­ç»ƒæ–¹æ³•</strong></p><ol><li><p>ä¸€æ—¦å·²ç»å­¦ä¼šäº†æŸä¸ªä¸œè¥¿ï¼Œå°±ä¸åº”è¯¥ç»§ç»­åœ¨ä¸Šé¢èŠ±æ—¶é—´ï¼Œåº”è¯¥<strong>ç«‹å³è½¬å…¥</strong>ä¸‹ä¸€ä¸ªéš¾åº¦ï¼Œé•¿æœŸä½¿ç”¨è¿™ç§æ–¹æ³•è®­ç»ƒå¿…ç„¶äº‹åŠåŠŸå€ã€‚</p></li><li><p>éœ€è¦<strong>æŒç»­è·å¾—æœ‰æ•ˆçš„åé¦ˆï¼Œä¸è®ºä½ åœ¨åŠªåŠ›åšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½éœ€è¦åé¦ˆæ¥å‡†ç¡®è¾¨åˆ«ä½ åœ¨å“ªäº›æ–¹é¢è¿˜æœ‰ä¸è¶³ï¼Œä»¥åŠæ€ä¹ˆä¼šå­˜åœ¨è¿™äº›ä¸è¶³ã€‚å¦‚æœæ²¡æœ‰åé¦ˆï¼Œä½ ä¸å¯èƒ½ææ¸…æ¥šä½ åœ¨å“ªäº›æ–¹é¢è¿˜éœ€æé«˜ï¼Œæˆ–è€…ä½ ç°åœ¨ç¦»å®ç°ä½ çš„ç›®æ ‡æœ‰å¤šè¿œã€‚</strong></p></li><li><p><strong>ç²¾ç¥é«˜åº¦é›†ä¸­ï¼Œè®­ç»ƒä¸­å¿…é¡»ä¸“æ³¨ï¼Œä¸èƒ½å¿ƒä¸åœ¨ç„‰ã€‚æˆ‘ä»¬å¸¸å¸¸åªæ˜¯åœ¨åšï¼Œè€Œå¹¶æ²¡æœ‰è®¤çœŸåœ°å»æ€è€ƒï¼Œå°±åƒç¦å°”æ‘©æ–¯è¯´çš„ï¼Œä½ åªæ˜¯åœ¨çœ‹ï¼Œè€Œå¹¶æ²¡æœ‰è§‚å¯Ÿã€‚</strong></p></li></ol></li></ol><h3 id="3-å¦‚ä½•ä»æ–°æ‰‹æˆä¸ºå¤§å¸ˆï¼Ÿ"><a href="#3-å¦‚ä½•ä»æ–°æ‰‹æˆä¸ºå¤§å¸ˆï¼Ÿ" class="headerlink" title="3.  å¦‚ä½•ä»æ–°æ‰‹æˆä¸ºå¤§å¸ˆï¼Ÿ"></a>3.  <strong>å¦‚ä½•ä»æ–°æ‰‹æˆä¸ºå¤§å¸ˆï¼Ÿ</strong></h3><ol start="3"><li><p><strong>äº§ç”Ÿå…´è¶£</strong>ã€‚æ— è®ºä½ æ˜¯å—ä»–äººå½±å“ï¼Œè¿˜æ˜¯è‡ªå·±æ¢ç´¢ä¸–ç•Œçš„æ—¶å€™äº§ç”Ÿå¥½å¥‡å¿ƒï¼Œæˆ–è€…æ˜¯å—åˆ°å…¶ä»–äººçš„é¼“åŠ±ï¼Œä½ å¯èƒ½å°±ä¼šå¯¹æŸä»¶äº‹æˆ–è€…æ˜¯æŸä¸ªé¢†åŸŸäº§ç”Ÿå…´è¶£ï¼Œè¿™æ˜¯ä½ å……æ»¡æ¿€æƒ…å……æ»¡çƒ­æƒ…çš„ç¬¬1æ­¥ã€‚</p></li><li><p><strong>å˜å¾—è®¤çœŸ</strong>ã€‚å½“ä½ æ„Ÿå…´è¶£äº†ï¼Œé‚£ä½ å°±è¦å¼€å§‹æ­£å¼çš„ä¸Šè¯¾ï¼Œè®­ç»ƒå¯ä»¥ç»ƒä¹ äº†ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œèº«è¾¹äººçš„æ”¯æŒå’Œé¼“åŠ±å…¶å®æ˜¯å¾ˆé‡è¦çš„ã€‚å¹¶ä¸”è‡ªå·±åœ¨é€šè¿‡ä¸æ–­çš„ç»ƒä¹ ï¼Œçœ‹åˆ°è‡ªå·±çš„ç»ƒä¹ æˆæœå—åˆ°å°Šé‡å’Œè®¤å¯çš„æ—¶å€™ï¼Œå½“ç„¶ä¹Ÿä¼šè®©ä»è€Œè·å¾—ç»§ç»­ç»ƒä¹ ç»§ç»­åŠªåŠ›çš„åŠ¨æœºã€‚</p></li><li><p><strong>å…¨åŠ›æŠ•å…¥</strong>ã€‚è¿™ä¸ªé˜¶æ®µè¦ä»˜å‡ºå·¨å¤§çš„æŠ•å…¥ï¼Œæ‰èƒ½æˆä¸ºè‡ªå·±é¢†åŸŸæˆ–è¡Œä¸šä¸­æœ€æ°å‡ºçš„äººç‰©ã€‚å­¦ç”Ÿå¸¸å¸¸ä¼šå¯»æ‰¾æœ€å¥½çš„å¯¼å¸ˆæˆ–å­¦æ ¡æ¥æŒ‡å¯¼è‡ªå·±çš„ç»ƒä¹ ï¼Œç”šè‡³éœ€è¦åœ¨å…¨å›½èŒƒå›´å†…å¯»æ‰¾ã€‚</p></li><li><p><strong>å¼€æ‹“åˆ›æ–°</strong>ã€‚è¿™æ˜¯æ°å‡ºæˆå°±çš„ç¬¬å››ä¸ªé˜¶æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œæœ‰äº›äººè¶…è¶Šäº†ä»–ä»¬çš„é¢†åŸŸå’Œè¡Œä¸šä¸­ç°æœ‰çš„çŸ¥è¯†ï¼Œåšå‡ºäº†ç‹¬ç‰¹çš„åˆ›é€ æ€§è´¡çŒ®ã€‚</p></li></ol><p>æœ€åæƒ³è°ˆä¸€è°ˆæˆ‘è¯»å®Œè¿™æœ¬ä¹¦åçš„<strong>æ„Ÿæƒ³</strong>ã€‚</p><p>ç¬¬ä¸€ï¼Œä»€ä¹ˆæ—¶å€™å¼€å§‹éƒ½ä¸æ™šã€‚å¯¹äºè¿™æœ¬ä¹¦æœ‰ç‚¹ç›¸è§æ¨æ™šçš„æ„Ÿè§‰ï¼Œå­¦ç”Ÿæ—¶ä»£è€å¸ˆâ€œåŠªåŠ›å­¦ä¹ â€çš„è¯´æ•™æ˜¾å¾—ååˆ†ç©ºæ´ï¼Œè€Œé€šè¿‡ã€Šåˆ»æ„ç»ƒä¹ ã€‹ä¸­å¤§é‡çš„æ¡ˆä¾‹å’Œæ•°æ®è®©æˆ‘ä»¬çœ‹åˆ°äº†â€œåˆ»æ„ç»ƒä¹ â€çš„åŠ›é‡ï¼Œè¿™ç§è¯´æ•™ä¼¼ä¹æ›´å®¹æ˜“è®©äººä¿¡æœã€‚å¯èƒ½å¤šå°‘ä¼šæœ‰äº›é—æ†¾ï¼Œæ¯”å¦‚è¦æ˜¯æˆ‘é«˜ä¸­æ—¶ä»£é‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œæˆ‘çš„æˆç»©ä¼šæé«˜å¤šå°‘å‘¢ï¼Œä½†è¿™äº›å·²ç„¶æ˜¯æ²‰æ²¡æˆæœ¬ï¼Œæˆ‘ä»¬æ›´å¤šçš„åº”è¯¥æƒ³æƒ³ä»¥åå·¥ä½œç”Ÿæ´»çš„åº”ç”¨ï¼Œ<strong>ä»€ä¹ˆæ—¶å€™å¼€å§‹éƒ½ä¸æ™šï¼Œæ™šçš„æ˜¯ä½ ä¸å¼€å§‹ã€‚</strong></p><p>ç¬¬äºŒï¼Œåœ¨å·¥ä½œä¸­ï¼Œæˆ‘ä»¬åº”è¯¥è¿ç”¨åˆ»æ„ç»ƒä¹ ã€‚ç‰¹åˆ«æ˜¯åœ¨æ¥è§¦æ–°çš„æŠ€æœ¯å’Œé¡¹ç›®ï¼Œéœ€è¦å­¦ä¹ æ–°çš„å·¥ä½œæŠ€èƒ½ï¼Œå¦‚ä½•å¿«é€ŸæŒæ¡ï¼Œä¸æ–­æé«˜å‘¢ï¼Ÿåˆ»æ„ç»ƒä¹ æ˜¯ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œåœ¨å·¥ä½œä¸­ï¼Œå­¦ä¹ å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ–¹é¢ï¼Œä¸€éƒ¨åˆ†æ˜¯<strong>æ˜¾æ€§çŸ¥è¯†çš„å­¦ä¹ </strong>ï¼Œè¿™éƒ¨åˆ†æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ä¸æ–­ç»ƒä¹ å’Œæ¥å—åé¦ˆï¼Œæ¥ä½¿è‡ªå·±å¿«é€Ÿæé«˜ï¼Œæ¯”å¦‚reviewä»£ç ã€å°ç»„å‘¨ä¼šæ€»ç»“ã€PPTåˆ¶ä½œç­‰ç­‰ï¼›å¦ä¸€æ–¹é¢æ˜¯<strong>éšæ€§çŸ¥è¯†</strong>ï¼Œæ¯”å¦‚å·¥ä½œæ–¹æ³•ï¼Œæ²Ÿé€šæŠ€å·§ï¼Œè¿™éƒ¨åˆ†æˆ‘ä»¬è¦å°½é‡è¿ç”¨åˆ»æ„ç»ƒä¹ çš„åŸåˆ™ï¼Œæ‰¾åˆ°éƒ¨é—¨å†…è¯¥æ–¹é¢ä¼˜ç§€çš„è€å¸ˆï¼Œè§‚å¯Ÿä»–ä¸å…¶ä»–äººçš„å¤„ç†æ–¹å¼çš„ä¸åŒï¼Œå¹¶åœ¨è‡ªå·±ä»äº‹ç›¸å…³å·¥ä½œæ—¶ï¼Œå°½å¯èƒ½è®©è€å¸ˆç»™ä½ æŒ‡å¯¼ã€åé¦ˆã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>è¯»åæ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯æ ¸å¿ƒåŸºç¡€çŸ¥è¯†æ€»ç»“</title>
    <link href="/2021/01/28/%E5%89%8D%E7%AB%AF%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
    <url>/2021/01/28/%E5%89%8D%E7%AB%AF%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€-HTMLæ ‡ç­¾çŸ¥å¤šå°‘ï¼Ÿ"><a href="#ä¸€-HTMLæ ‡ç­¾çŸ¥å¤šå°‘ï¼Ÿ" class="headerlink" title="ä¸€. HTMLæ ‡ç­¾çŸ¥å¤šå°‘ï¼Ÿ"></a>ä¸€. HTMLæ ‡ç­¾çŸ¥å¤šå°‘ï¼Ÿ</h3><h4 id="1-metaæ ‡ç­¾ï¼šè‡ªåŠ¨åˆ·æ–°-è·³è½¬"><a href="#1-metaæ ‡ç­¾ï¼šè‡ªåŠ¨åˆ·æ–°-è·³è½¬" class="headerlink" title="1. metaæ ‡ç­¾ï¼šè‡ªåŠ¨åˆ·æ–°/è·³è½¬"></a>1. metaæ ‡ç­¾ï¼šè‡ªåŠ¨åˆ·æ–°/è·³è½¬</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Refresh"</span> <span class="attr">content</span>=<span class="string">"5; URL=page2.html"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸Šé¢çš„ä»£ç ä¼šåœ¨ 5s ä¹‹åè‡ªåŠ¨è·³è½¬åˆ°åŒåŸŸä¸‹çš„ page2.html é¡µé¢ã€‚ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Refresh"</span> <span class="attr">content</span>=<span class="string">"60"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é—´éš”60såˆ·æ–°ä¸€æ¬¡é¡µé¢ --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-è¿ç”¨titleæ ‡ç­¾å®ç°æ¶ˆæ¯æé†’"><a href="#2-è¿ç”¨titleæ ‡ç­¾å®ç°æ¶ˆæ¯æé†’" class="headerlink" title="2. è¿ç”¨titleæ ‡ç­¾å®ç°æ¶ˆæ¯æé†’"></a>2. è¿ç”¨titleæ ‡ç­¾å®ç°æ¶ˆæ¯æé†’</h4><p>æ¶ˆæ¯æé†’åŠŸèƒ½å®ç°åˆ™æ¯”è¾ƒå›°éš¾ï¼ŒHTML5 æ ‡å‡†å‘å¸ƒä¹‹å‰ï¼Œæµè§ˆå™¨æ²¡æœ‰å¼€æ”¾å›¾æ ‡é—ªçƒã€å¼¹å‡ºç³»ç»Ÿæ¶ˆæ¯ä¹‹ç±»çš„æ¥å£ï¼Œåªèƒ½å€ŸåŠ©ä¸€äº› Hack çš„æ‰‹æ®µï¼Œæ¯”å¦‚ä¿®æ”¹ title æ ‡ç­¾æ¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœï¼ˆHTML5 ä¸‹å¯ä½¿ç”¨<code>Web Notifications API</code>å¼¹å‡ºç³»ç»Ÿæ¶ˆæ¯ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> msgNum = <span class="number">1</span> <span class="comment">// æ¶ˆæ¯æ¡æ•°</span></span><br><span class="line"><span class="keyword">let</span> cnt = <span class="number">0</span> <span class="comment">// è®¡æ•°å™¨</span></span><br><span class="line"><span class="keyword">const</span> inerval = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  cnt = (cnt + <span class="number">1</span>) % <span class="number">2</span></span><br><span class="line">  <span class="keyword">if</span>(msgNum===<span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡DOMä¿®æ”¹title</span></span><br><span class="line">    <span class="built_in">document</span>.title += <span class="string">`èŠå¤©é¡µé¢`</span></span><br><span class="line">    clearInterval(interval)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> prefix = cnt % <span class="number">2</span> ? <span class="string">`æ–°æ¶ˆæ¯(<span class="subst">$&#123;msgNum&#125;</span>)`</span> : <span class="string">''</span></span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`<span class="subst">$&#123;prefix&#125;</span>èŠå¤©é¡µé¢`</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>å…³äº<code>Web Notifications API</code>çš„åŸºæœ¬æ–¹æ³•å¯ä»¥åœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/notification/Using_Web_Notifications" target="_blank" rel="noopener">Web Notifications API MDN</a>ä¸Šæµè§ˆã€‚</p><blockquote><p>PSï¼šæ¶ˆæ¯é€šçŸ¥åªæœ‰é€šè¿‡WebæœåŠ¡è®¿é—®è¯¥é¡µé¢æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœç›´æ¥åŒå‡»æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ çš„æ–‡ä»¶éœ€è¦ä½¿ç”¨æœåŠ¡å™¨çš„å½¢å¼æ‰“å¼€ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡ä»¶ã€‚</p></blockquote><h4 id="3-é€šè¿‡æ ‡ç­¾å®ç°çš„æ€§èƒ½ä¼˜åŒ–"><a href="#3-é€šè¿‡æ ‡ç­¾å®ç°çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="3. é€šè¿‡æ ‡ç­¾å®ç°çš„æ€§èƒ½ä¼˜åŒ–"></a>3. é€šè¿‡æ ‡ç­¾å®ç°çš„æ€§èƒ½ä¼˜åŒ–</h4><p>æ€§èƒ½é—®é¢˜æ— å¤–ä¹ä¸¤æ–¹é¢åŸå› ï¼šæ¸²æŸ“é€Ÿåº¦æ…¢ã€è¯·æ±‚æ—¶é—´é•¿ã€‚æ€§èƒ½ä¼˜åŒ–è™½ç„¶æ¶‰åŠå¾ˆå¤šå¤æ‚çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼Œä½†å…¶å®åªè¦é€šè¿‡åˆç†åœ°ä½¿ç”¨æ ‡ç­¾ï¼Œå°±å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæå‡æ¸²æŸ“é€Ÿåº¦ä»¥åŠå‡å°‘è¯·æ±‚æ—¶é—´ã€‚</p><p>a. <strong>script æ ‡ç­¾ï¼šè°ƒæ•´åŠ è½½é¡ºåºæå‡æ¸²æŸ“é€Ÿåº¦</strong></p><p>ç”±äºæµè§ˆå™¨çš„åº•å±‚è¿è¡Œæœºåˆ¶ï¼Œæ¸²æŸ“å¼•æ“åœ¨<code>è§£æHTML</code>æ—¶ï¼Œè‹¥é‡åˆ°<code>scriptæ ‡ç­¾</code>å¼•ç”¨æ–‡ä»¶ï¼Œåˆ™ä¼šæš‚åœè§£æè¿‡ç¨‹ï¼ŒåŒæ—¶é€šçŸ¥ç½‘ç»œçº¿ç¨‹åŠ è½½æ–‡ä»¶ï¼Œæ–‡ä»¶åŠ è½½åä¼šåˆ‡æ¢è‡³<code>JavaScriptå¼•æ“</code>æ¥æ‰§è¡Œå¯¹åº”ä»£ç ï¼Œä»£ç æ‰§è¡Œå®Œæˆä¹‹ååˆ‡æ¢è‡³æ¸²æŸ“å¼•æ“ç»§ç»­æ¸²æŸ“é¡µé¢ã€‚</p><p>åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢æ¸²æŸ“æ—¶é—´ = è¯·æ±‚æ–‡ä»¶ + æ‰§è¡Œæ–‡ä»¶çš„æ—¶é—´ï¼Œä½†é¡µé¢çš„é¦–æ¬¡æ¸²æŸ“å¯èƒ½å¹¶ä¸ä¾èµ–è¿™äº›æ–‡ä»¶ï¼Œè¿™äº›è¯·æ±‚å’Œæ‰§è¡Œæ–‡ä»¶çš„åŠ¨ä½œåè€Œå»¶é•¿äº†ç”¨æˆ·çœ‹åˆ°é¡µé¢çš„æ—¶é—´ï¼Œä»è€Œé™ä½äº†ç”¨æˆ·ä½“éªŒï¼ˆæ¯”å¦‚ç™½å±ï¼‰ã€‚<br>ä¸ºäº†å‡å°‘è¿™äº›æ—¶é—´æŸè€—ï¼Œå¯ä»¥å€ŸåŠ© script æ ‡ç­¾çš„ 3 ä¸ªå±æ€§æ¥å®ç°ã€‚</p><ul><li>async å±æ€§ã€‚ç«‹å³è¯·æ±‚æ–‡ä»¶ï¼Œä½†ä¸é˜»å¡æ¸²æŸ“å¼•æ“ï¼Œè€Œæ˜¯æ–‡ä»¶åŠ è½½å®Œæ¯•åé˜»å¡æ¸²æŸ“å¼•æ“å¹¶ç«‹å³æ‰§è¡Œæ–‡ä»¶å†…å®¹ã€‚</li><li>defer å±æ€§ã€‚ç«‹å³è¯·æ±‚æ–‡ä»¶ï¼Œä½†ä¸é˜»å¡æ¸²æŸ“å¼•æ“ï¼Œç­‰åˆ°è§£æå®Œ HTML ä¹‹åå†æ‰§è¡Œæ–‡ä»¶å†…å®¹ã€‚</li><li>HTML5 æ ‡å‡† type å±æ€§ï¼Œå¯¹åº”å€¼ä¸ºâ€œmoduleâ€ã€‚è®©æµè§ˆå™¨æŒ‰ç…§ ECMA Script 6 æ ‡å‡†å°†æ–‡ä»¶å½“ä½œæ¨¡å—è¿›è¡Œè§£æï¼Œé»˜è®¤é˜»å¡æ•ˆæœåŒ deferï¼Œä¹Ÿå¯ä»¥é…åˆ async åœ¨è¯·æ±‚å®Œæˆåç«‹å³æ‰§è¡Œã€‚</li></ul><blockquote><p>PS: é™¤æ­¤ä¹‹å¤–è¿˜åº”å½“æ³¨æ„ï¼Œå½“æ¸²æŸ“å¼•æ“è§£æ HTML é‡åˆ° script æ ‡ç­¾å¼•å…¥æ–‡ä»¶æ—¶ï¼Œä¼šç«‹å³è¿›è¡Œä¸€æ¬¡æ¸²æŸ“ã€‚æ‰€ä»¥è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ„å»ºå·¥å…·ä¼šæŠŠç¼–è¯‘å¥½çš„å¼•ç”¨ JavaScript ä»£ç çš„ script æ ‡ç­¾æ”¾å…¥åˆ° body æ ‡ç­¾åº•éƒ¨ï¼Œå› ä¸ºå½“æ¸²æŸ“å¼•æ“æ‰§è¡Œåˆ° body åº•éƒ¨æ—¶ä¼šå…ˆå°†å·²è§£æçš„å†…å®¹æ¸²æŸ“å‡ºæ¥ï¼Œç„¶åå†å»è¯·æ±‚ç›¸åº”çš„ JavaScript æ–‡ä»¶ã€‚å¦‚æœæ˜¯å†…è”è„šæœ¬ï¼ˆå³ä¸é€šè¿‡ src å±æ€§å¼•ç”¨å¤–éƒ¨è„šæœ¬æ–‡ä»¶ç›´æ¥åœ¨ HTML ç¼–å†™ JavaScript ä»£ç çš„å½¢å¼ï¼‰ï¼Œæ¸²æŸ“å¼•æ“åˆ™ä¸ä¼šæ¸²æŸ“ã€‚</p></blockquote><p>b. <strong>link æ ‡ç­¾ï¼šé€šè¿‡é¢„å¤„ç†æå‡æ¸²æŸ“é€Ÿåº¦</strong></p><ul><li>dns-prefetchã€‚å½“ link æ ‡ç­¾çš„ rel å±æ€§å€¼ä¸ºâ€œdns-prefetchâ€æ—¶ï¼Œæµè§ˆå™¨ä¼šå¯¹æŸä¸ªåŸŸåé¢„å…ˆè¿›è¡Œ DNS è§£æå¹¶ç¼“å­˜ã€‚è¿™æ ·ï¼Œå½“æµè§ˆå™¨åœ¨è¯·æ±‚åŒåŸŸåèµ„æºçš„æ—¶å€™ï¼Œèƒ½çœå»ä»åŸŸåæŸ¥è¯¢ IP çš„è¿‡ç¨‹ï¼Œä»è€Œå‡å°‘æ—¶é—´æŸè€—ã€‚</li><li>preconnectã€‚è®©æµè§ˆå™¨åœ¨ä¸€ä¸ª HTTP è¯·æ±‚æ­£å¼å‘ç»™æœåŠ¡å™¨å‰é¢„å…ˆæ‰§è¡Œä¸€äº›æ“ä½œï¼Œè¿™åŒ…æ‹¬ DNS è§£æã€TLS åå•†ã€TCP æ¡æ‰‹ï¼Œé€šè¿‡æ¶ˆé™¤å¾€è¿”å»¶è¿Ÿæ¥ä¸ºç”¨æˆ·èŠ‚çœæ—¶é—´ã€‚</li><li>prefetch/preloadã€‚ä¸¤ä¸ªå€¼éƒ½æ˜¯è®©æµè§ˆå™¨é¢„å…ˆä¸‹è½½å¹¶ç¼“å­˜æŸä¸ªèµ„æºï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œprefetch å¯èƒ½ä¼šåœ¨æµè§ˆå™¨å¿™æ—¶è¢«å¿½ç•¥ï¼Œè€Œ preload åˆ™æ˜¯ä¸€å®šä¼šè¢«é¢„å…ˆä¸‹è½½ã€‚</li><li>prerenderã€‚æµè§ˆå™¨ä¸ä»…ä¼šåŠ è½½èµ„æºï¼Œè¿˜ä¼šè§£ææ‰§è¡Œé¡µé¢ï¼Œè¿›è¡Œé¢„æ¸²æŸ“</li></ul><p>ä»¥ä¸Šç‰¹æ€§ä¹Ÿåæ˜ å‡ºäº†æµè§ˆå™¨è·å–èµ„æºæ–‡ä»¶çš„æµç¨‹ï¼š</p><p>æµè§ˆå™¨å¤„ç†èµ„æºå¼•ç”¨ -&gt; DNSè§£æ -&gt; å»ºç«‹TCPè¿æ¥ -&gt; è·å–HTTPè¯·æ±‚å†…å®¹ -&gt; æ¸²æŸ“é¡µé¢</p><h4 id="4-æœç´¢ä¼˜åŒ–"><a href="#4-æœç´¢ä¼˜åŒ–" class="headerlink" title="4. æœç´¢ä¼˜åŒ–"></a>4. æœç´¢ä¼˜åŒ–</h4><ul><li>metaæ ‡ç­¾ï¼šæå–å…³é”®ä¿¡æ¯</li></ul><p>ä¸ºäº†è®©æœç´¢å¼•æ“æ›´å¥½çš„è¯†åˆ«é¡µé¢ï¼Œæœ€å¥½æ˜¯ç»™ç½‘ç«™æ·»åŠ åˆé€‚çš„æœç´¢å…³é”®è¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">content</span>=<span class="string">"æœç´¢å…³é”®è¯ï¼Œç”¨é€—å·éš”å¼€"</span> <span class="attr">name</span>=<span class="string">"keywords"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæ¨èä½¿ç”¨ä¸€äº›å…³é”®å­—å·¥å…·æ¥æŒ‘é€‰ï¼Œæ¯”å¦‚ ã€<a href="http://tool.chinaz.com/" target="_blank" rel="noopener">ç«™é•¿å·¥å…·</a>ã€Google Trendsã€‚</p><ul><li>linkæ ‡ç­¾ï¼šå‡å°‘é‡å¤<br>æœ‰æ—¶å€™ä¸ºäº†ç”¨æˆ·è®¿é—®æ–¹ä¾¿æˆ–è€…å‡ºäºå†å²åŸå› ï¼Œå¯¹äºåŒä¸€ä¸ªé¡µé¢ä¼šæœ‰å¤šä¸ªç½‘å€ï¼Œåˆæˆ–è€…å­˜åœ¨æŸäº›é‡å®šå‘é¡µé¢ï¼Œæ¯”å¦‚ï¼š<br>  <a href="https://xx.com/a.html" target="_blank" rel="noopener">https://xx.com/a.html</a><br>  <a href="https://xx.com/detail?id=&quot;abcd&quot;" target="_blank" rel="noopener">https://xx.com/detail?id=&quot;abcd&quot;</a></li></ul><p>é‚£ä¹ˆåœ¨è¿™äº›é¡µé¢ä¸­å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://xx.com/a.html"</span> <span class="attr">rel</span>=<span class="string">"canonical"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥è®©æœç´¢å¼•æ“é¿å…èŠ±è´¹æ—¶é—´æŠ“å–é‡å¤ç½‘é¡µã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒè¿˜æœ‰ä¸ªé™åˆ¶æ¡ä»¶ï¼Œé‚£å°±æ˜¯æŒ‡å‘çš„ç½‘ç«™ä¸å…è®¸è·¨åŸŸã€‚</p><p>å½“ç„¶ï¼Œè¦åˆå¹¶ç½‘å€è¿˜æœ‰å…¶ä»–çš„æ–¹å¼ï¼Œæ¯”å¦‚ä½¿ç”¨ç«™ç‚¹åœ°å›¾ã€‚</p><h3 id="äºŒ-å…³äºDOMå…ƒç´ "><a href="#äºŒ-å…³äºDOMå…ƒç´ " class="headerlink" title="äºŒ. å…³äºDOMå…ƒç´ "></a>äºŒ. å…³äºDOMå…ƒç´ </h3><h4 id="1-DOM"><a href="#1-DOM" class="headerlink" title="1. DOM"></a>1. DOM</h4><p>å¤§éƒ¨åˆ†å‰ç«¯åŠŸèƒ½éœ€è¦å€ŸåŠ©DOMæ¥å®ç°ï¼Œæ¯”å¦‚ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼ŒåŠ¨æ€æ¸²æŸ“åˆ—è¡¨ï¼Œæ‡’åŠ è½½è„šæœ¬æˆ–æ ·å¼ã€‚æ ¹æ®DOM V3æ ‡å‡†ï¼Œä¼šå‘ç°åŒ…å«å¤šä¸ªå†…å®¹ï¼Œå½’çº³èµ·æ¥ç”±3å¤§éƒ¨åˆ†çš„å†…å®¹ç»„æˆï¼š</p><ul><li>DOM èŠ‚ç‚¹</li><li>DOM äº‹ä»¶</li><li>é€‰æ‹©åŒºåŸŸ</li></ul><p>a. <strong>DOM èŠ‚ç‚¹</strong><br>å¯¹äº DOM èŠ‚ç‚¹ï¼Œéœ€ä¸å¦å¤–ä¸¤ä¸ªæ¦‚å¿µæ ‡ç­¾å’Œå…ƒç´ è¿›è¡ŒåŒºåˆ†ï¼š</p><p><code>æ ‡ç­¾</code>æ˜¯ HTML çš„åŸºæœ¬å•ä½ï¼Œæ¯”å¦‚ pã€divã€inputï¼›<br><code>èŠ‚ç‚¹</code>æ˜¯ DOM æ ‘çš„åŸºæœ¬å•ä½ï¼Œæœ‰å¤šç§ç±»å‹ï¼Œæ¯”å¦‚æ³¨é‡ŠèŠ‚ç‚¹ã€æ–‡æœ¬èŠ‚ç‚¹ï¼›<br><code>å…ƒç´ </code>æ˜¯èŠ‚ç‚¹ä¸­çš„ä¸€ç§ï¼Œä¸ HTML æ ‡ç­¾ç›¸å¯¹åº”ï¼Œæ¯”å¦‚ p æ ‡ç­¾ä¼šå¯¹åº” p å…ƒç´ ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    "p" æ˜¯æ ‡ç­¾ï¼Œ </span></span><br><span class="line"><span class="comment">    ç”Ÿæˆ DOM æ ‘çš„æ—¶å€™ä¼šäº§ç”Ÿä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯å…ƒç´ èŠ‚ç‚¹ pï¼Œå¦ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ä¸º"è‹¹æœè‹¹æœ"çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è‹¹æœè‹¹æœ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>b. <strong>DOM æ“ä½œ</strong></p><p>DOMé¢‘ç¹çš„æ“ä½œå…¶å®å¯¹æµè§ˆå™¨çš„æ€§èƒ½æ¥è¯´å¾ˆä¸å‹å¥½ï¼Œæœ‰å¾ˆå¤§çš„æ€§èƒ½æŸè€—é—®é¢˜ã€‚è¿™å…¶ä¸­çš„åŸå› ï¼Œå°±è¦å…ˆäº†è§£ä¸€ä¸‹<strong>æµè§ˆå™¨çš„å·¥ä½œæœºåˆ¶</strong>ã€‚</p><ul><li>çº¿ç¨‹åˆ‡æ¢<br>æµè§ˆå™¨åŒ…å«<code>æ¸²æŸ“å¼•æ“</code>ï¼ˆä¹Ÿç§°æµè§ˆå™¨å†…æ ¸ï¼‰å’Œ <code>JavaScriptå¼•æ“</code>ï¼Œå®ƒä»¬éƒ½æ˜¯å•çº¿ç¨‹è¿è¡Œã€‚å•çº¿ç¨‹çš„ä¼˜åŠ¿æ˜¯å¼€å‘æ–¹ä¾¿ï¼Œé¿å…å¤šçº¿ç¨‹ä¸‹çš„æ­»é”ã€ç«äº‰ç­‰é—®é¢˜ï¼ŒåŠ£åŠ¿æ˜¯å¤±å»äº†å¹¶å‘èƒ½åŠ›ã€‚</li></ul><p>æµè§ˆå™¨ä¸ºäº†é¿å…ä¸¤ä¸ªå¼•æ“åŒæ—¶ä¿®æ”¹é¡µé¢è€Œé€ æˆæ¸²æŸ“ç»“æœä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¢åŠ äº†å¦å¤–ä¸€ä¸ªæœºåˆ¶ï¼Œè¿™ä¸¤ä¸ªå¼•æ“å…·æœ‰<strong>äº’æ–¥æ€§</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æŸä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªå¼•æ“åœ¨è¿è¡Œï¼Œå¦ä¸€ä¸ªå¼•æ“ä¼šè¢«é˜»å¡ã€‚æ“ä½œç³»ç»Ÿåœ¨è¿›è¡Œçº¿ç¨‹åˆ‡æ¢çš„æ—¶å€™éœ€è¦ä¿å­˜ä¸Šä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶çš„çŠ¶æ€ä¿¡æ¯å¹¶è¯»å–ä¸‹ä¸€ä¸ªçº¿ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¿—ç§°ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚è€Œè¿™ä¸ªæ“ä½œç›¸å¯¹è€Œè¨€æ˜¯æ¯”è¾ƒè€—æ—¶çš„ã€‚</p><p>æ¯æ¬¡ DOM æ“ä½œå°±ä¼šå¼•å‘çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢â€”â€”ä» JavaScriptå¼•æ“åˆ‡æ¢åˆ°æ¸²æŸ“å¼•æ“æ‰§è¡Œå¯¹åº”æ“ä½œï¼Œç„¶åå†åˆ‡æ¢å› JavaScript å¼•æ“ç»§ç»­æ‰§è¡Œï¼Œè¿™å°±å¸¦æ¥äº†<strong>æ€§èƒ½æŸè€—</strong>ã€‚å•æ¬¡åˆ‡æ¢æ¶ˆè€—çš„æ—¶é—´æ˜¯éå¸¸å°‘çš„ï¼Œä½†æ˜¯å¦‚æœé¢‘ç¹çš„å¤§é‡åˆ‡æ¢ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•æ¬¡æ•°ï¼šä¸€ç™¾ä¸‡æ¬¡</span></span><br><span class="line"><span class="keyword">const</span> times = <span class="number">1000000</span></span><br><span class="line"><span class="comment">// ç¼“å­˜bodyå…ƒç´ </span></span><br><span class="line"><span class="keyword">let</span> body = <span class="built_in">document</span>.body</span><br><span class="line"><span class="comment">// å¾ªç¯èµ‹å€¼å¯¹è±¡ä½œä¸ºå¯¹ç…§å‚è€ƒ</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;times;i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = body</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'object'</span>)<span class="comment">// object: 1.77197265625ms</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯è¯»å–bodyå…ƒç´ å¼•å‘çº¿ç¨‹åˆ‡æ¢</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;times;i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = <span class="built_in">document</span>.body</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'dom'</span>)<span class="comment">// dom: 18.302001953125ms</span></span><br></pre></td></tr></table></figure><ul><li>é‡æ’å’Œé‡ç»˜</li></ul><p>å¦ä¸€ä¸ªæ›´åŠ è€—æ—¶çš„å› ç´ æ˜¯å…ƒç´ åŠæ ·å¼å˜åŒ–å¼•èµ·çš„å†æ¬¡æ¸²æŸ“ï¼Œåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æœ€è€—æ—¶çš„ä¸¤ä¸ªæ­¥éª¤ä¸º<strong>é‡æ’</strong>ï¼ˆReflowï¼‰ä¸<strong>é‡ç»˜</strong>ï¼ˆRepaintï¼‰ã€‚</p><p>æµè§ˆå™¨åœ¨æ¸²æŸ“é¡µé¢æ—¶ä¼šå°† <code>HTML</code> å’Œ <code>CSS</code> åˆ†åˆ«è§£ææˆ <code>DOM æ ‘</code>å’Œ <code>CSSOM æ ‘</code>ï¼Œç„¶ååˆå¹¶è¿›è¡Œæ’å¸ƒï¼Œå†ç»˜åˆ¶æˆæˆ‘ä»¬å¯è§çš„é¡µé¢ã€‚å¦‚æœåœ¨æ“ä½œ DOM æ—¶æ¶‰åŠåˆ°å…ƒç´ ã€æ ·å¼çš„ä¿®æ”¹ï¼Œå°±ä¼šå¼•èµ·æ¸²æŸ“å¼•æ“é‡æ–°è®¡ç®—æ ·å¼ç”Ÿæˆ CSSOM æ ‘ï¼ŒåŒæ—¶è¿˜æœ‰å¯èƒ½è§¦å‘å¯¹å…ƒç´ çš„<strong>é‡æ’</strong>å’Œ<strong>é‡ç»˜</strong>ã€‚</p><ul><li><p>å¦‚ä½•é«˜æ•ˆæ“ä½œDOM</p><ul><li>åœ¨å¾ªç¯å¤–æ“ä½œå…ƒç´ </li><li>æ‰¹é‡æ“ä½œå…ƒç´ <br>æ¯”å¦‚è¯´è¦åˆ›å»º 1 ä¸‡ä¸ª div å…ƒç´ ï¼Œåœ¨å¾ªç¯ä¸­ç›´æ¥åˆ›å»ºå†æ·»åŠ åˆ°çˆ¶å…ƒç´ ä¸Šè€—æ—¶ä¼šéå¸¸å¤šã€‚å¦‚æœé‡‡ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„å½¢å¼ï¼Œå…ˆå°† 1 ä¸‡ä¸ª div å…ƒç´ çš„ html å­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªå®Œæ•´å­—ç¬¦ä¸²ï¼Œç„¶åèµ‹å€¼ç»™ body å…ƒç´ çš„ innerHTML å±æ€§å°±å¯ä»¥æ˜æ˜¾å‡å°‘è€—æ—¶ã€‚</li><li>ç¼“å­˜å…ƒç´ é›†åˆ<br>æ¯”å¦‚å°†é€šè¿‡é€‰æ‹©å™¨å‡½æ•°è·å–åˆ°çš„ DOM å…ƒç´ èµ‹å€¼ç»™å˜é‡ï¼Œä¹‹åé€šè¿‡å˜é‡æ“ä½œè€Œä¸æ˜¯å†æ¬¡ä½¿ç”¨é€‰æ‹©å™¨å‡½æ•°æ¥è·å–ã€‚<br>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å°†ä¸Šé¢ä»£ç æ‰€åˆ›å»ºçš„ 1 ä¸‡ä¸ª div å…ƒç´ çš„æ–‡æœ¬å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚æ¯æ¬¡é‡å¤ä½¿ç”¨è·å–é€‰æ‹©å™¨å‡½æ•°æ¥è·å–å…ƒç´ ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>).length; i++) &#123;</span><br><span class="line">  <span class="built_in">document</span>.querySelectorAll(<span class="string">`div`</span>)[i].innerText = i</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//21965ms</span></span><br></pre></td></tr></table></figure>å¦‚æœèƒ½å¤Ÿå°†å…ƒç´ é›†åˆèµ‹å€¼ç»™ JavaScript å˜é‡ï¼Œæ¯æ¬¡é€šè¿‡å˜é‡å»ä¿®æ”¹å…ƒç´ ï¼Œé‚£ä¹ˆæ€§èƒ½å°†ä¼šå¾—åˆ°ä¸å°çš„æå‡ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.length; i++) &#123;</span><br><span class="line">  divs[i].innerText = i</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//211ms</span></span><br></pre></td></tr></table></figure>c. <strong>æ€»ç»“</strong></li></ul></li><li><p>å°½é‡ä¸è¦ä½¿ç”¨å¤æ‚çš„åŒ¹é…è§„åˆ™å’Œå¤æ‚çš„æ ·å¼ï¼Œä»è€Œå‡å°‘æ¸²æŸ“å¼•æ“è®¡ç®—æ ·å¼è§„åˆ™ç”Ÿæˆ CSSOM æ ‘çš„æ—¶é—´ï¼›</p></li><li><p>å°½é‡å‡å°‘é‡æ’å’Œé‡ç»˜å½±å“çš„åŒºåŸŸï¼›</p></li><li><p>ä½¿ç”¨ CSS3 ç‰¹æ€§æ¥å®ç°åŠ¨ç”»æ•ˆæœã€‚</p></li></ul><h4 id="2-DOMäº‹ä»¶"><a href="#2-DOMäº‹ä»¶" class="headerlink" title="2. DOMäº‹ä»¶"></a>2. DOMäº‹ä»¶</h4><p>a. <strong>é˜²æŠ–</strong><br>å¯¹äºä¸€äº›è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œæœ‰æ—¶å€™å¹¶ä¸éœ€è¦é‚£ä¹ˆé¢‘ç¹å»è§¦å‘ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªâ€é˜²æŠ–â€åŠŸèƒ½ï¼Œä¸ºå‡½æ•°çš„æ‰§è¡Œè®¾ç½®ä¸€ä¸ªåˆç†çš„æ—¶é—´é—´éš”ï¼Œé¿å…äº‹ä»¶åœ¨æ—¶é—´é—´éš”å†…é¢‘ç¹è§¦å‘ï¼ŒåŒæ—¶åˆä¿è¯äº‹ä»¶çš„æ­£å¸¸ä½¿ç”¨åŠŸèƒ½ã€‚<br>è¦å®ç°é˜²æŠ–ï¼Œè‡ªç„¶è€Œç„¶å°±æ˜¯æƒ³åˆ°ä½¿ç”¨å®šæ—¶å™¨æ¥å»¶è¿Ÿæ‰§è¡Œã€‚æ¯”å¦‚ï¼šè¾“å…¥æœç´¢çš„åŠŸèƒ½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ipt = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>)</span><br><span class="line"><span class="keyword">let</span> timeout = <span class="literal">null</span>; <span class="comment">//å­˜å‚¨è®¡æ—¶å™¨</span></span><br><span class="line">ipt.addEventListener(<span class="string">'input'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(timeout) &#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    search(e.target.value).then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æœç´¢å›è°ƒ</span></span><br><span class="line">    &#125;, e =&gt; &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;)  </span><br><span class="line">  &#125;, <span class="number">500</span>)  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é—®é¢˜ç¡®å®æ˜¯è§£å†³äº†ï¼Œä½†è¿™å¹¶ä¸æ˜¯æœ€ä¼˜ç­”æ¡ˆï¼Œæˆ–è€…è¯´æˆ‘ä»¬éœ€å¯¹è¿™ä¸ªé˜²æŠ–æ“ä½œè¿›è¡Œä¸€äº›â€œä¼˜åŒ–â€ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå¦ä¸€ä¸ªæœç´¢æ¡†ä¹Ÿéœ€è¦æ·»åŠ é˜²æŠ–ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿè¦æŠŠ timeout ç›¸å…³çš„ä»£ç å†ç¼–å†™ä¸€æ¬¡ï¼Ÿè€Œå…¶å®è¿™ä¸ªæ“ä½œæ˜¯å®Œå…¨å¯ä»¥æŠ½å–æˆå…¬å…±å‡½æ•°çš„ã€‚</p><p>åœ¨æŠ½å–æˆå…¬å…±å‡½æ•°çš„åŒæ—¶ï¼Œè¿˜éœ€è¦è€ƒè™‘æ›´å¤æ‚çš„æƒ…å†µï¼š</p><ul><li>å‚æ•°å’Œè¿”å›å€¼å¦‚ä½•ä¼ é€’ï¼Ÿ</li><li>é˜²æŠ–åŒ–ä¹‹åçš„å‡½æ•°æ˜¯å¦å¯ä»¥ç«‹å³æ‰§è¡Œï¼Ÿ</li><li>é˜²æŠ–åŒ–çš„å‡½æ•°æ˜¯å¦å¯ä»¥æ‰‹åŠ¨å–æ¶ˆï¼Ÿ</li></ul><p>å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œé¦–å…ˆå°†åŸå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ <code>debounce()</code> å‡½æ•°ä¸­ï¼ŒåŒæ—¶æŒ‡å®šå»¶è¿Ÿç­‰å¾…æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åŒ…å« <code>cancel</code> å±æ€§ï¼Œç”¨æ¥å–æ¶ˆåŸå‡½æ•°æ‰§è¡Œã€‚<code>flush</code> å±æ€§ç”¨æ¥ç«‹å³è°ƒç”¨åŸå‡½æ•°ï¼ŒåŒæ—¶å°†åŸå‡½æ•°çš„æ‰§è¡Œç»“æœä»¥ <code>Promise</code> çš„å½¢å¼è¿”å›ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°è£…API</span></span><br><span class="line"><span class="keyword">const</span> debounce = <span class="function">(<span class="params">func, wait = <span class="number">0</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">let</span> args</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">debounced</span>(<span class="params">...arg</span>) </span>&#123;</span><br><span class="line">    args = arg</span><br><span class="line">    <span class="keyword">if</span>(timeout) &#123;</span><br><span class="line">      clearTimeout(timeout)</span><br><span class="line">      timeout = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»¥Promiseçš„å½¢å¼è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">      timeout = setTimeout(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">          res(result)</span><br><span class="line">        &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">          rej(e)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, wait)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å…è®¸å–æ¶ˆ</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">cancel</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å…è®¸ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">flush</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    cancel()</span><br><span class="line">    <span class="keyword">return</span> func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">  &#125;</span><br><span class="line">  debounced.cancel = cancel</span><br><span class="line">  debounced.flush = flush</span><br><span class="line">  <span class="keyword">return</span> debounced</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯ä»¥å‚è€ƒlodshçš„debounce()å‡½æ•°</p></blockquote><p>b. <strong>èŠ‚æµ</strong><br>ä¸€èˆ¬ç›‘å¬æ»šåŠ¨äº‹ä»¶çš„æ—¶å€™éœ€è¦è€ƒè™‘èŠ‚æµï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®åœ¨æŒ‡å®šä¸€æ®µæ—¶é—´å†…åªè°ƒç”¨ä¸€æ¬¡å‡½æ•°ï¼Œä»è€Œé™ä½å‡½æ•°è°ƒç”¨é¢‘ç‡ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œèŠ‚æµâ€ã€‚</p><p>å®ç°èŠ‚æµå‡½æ•°çš„è¿‡ç¨‹å’Œé˜²æŠ–å‡½æ•°æœ‰äº›ç±»ä¼¼ï¼Œåªæ˜¯å¯¹äºèŠ‚æµå‡½æ•°è€Œè¨€ï¼Œæœ‰ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶æ‰§è¡Œæœ€å…ˆä¸€æ¬¡è°ƒç”¨è¿˜æ˜¯æœ€è¿‘ä¸€æ¬¡è°ƒç”¨ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®æ—¶é—´æˆ³åŠ ä»¥åˆ¤æ–­ã€‚æˆ‘ä»¬å¯ä»¥åŸºäº debounce() å‡½æ•°åŠ ä»¥ä¿®æ”¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> throttle = <span class="function">(<span class="params">func, wait = <span class="number">0</span>, execFirstCall</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">let</span> args</span><br><span class="line">  <span class="keyword">let</span> firstCallTimestamp</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">throttled</span>(<span class="params">...arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!firstCallTimestamp) firstCallTimestamp = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">    <span class="keyword">if</span> (!execFirstCall || !args) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'set args:'</span>, arg)</span><br><span class="line">      args = arg</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">      clearTimeout(timeout)</span><br><span class="line">      timeout = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»¥Promiseçš„å½¢å¼è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="keyword">async</span>(res, rej) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - firstCallTimestamp &gt;= wait) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">          res(result)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">          rej(e)</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          cancel()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        timeout = setTimeout(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> result = <span class="keyword">await</span> func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">            res(result)</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            rej(e)</span><br><span class="line">          &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            cancel()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, firstCallTimestamp + wait - <span class="keyword">new</span> <span class="built_in">Date</span>().getTime())</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å…è®¸å–æ¶ˆ</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">cancel</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    args = <span class="literal">null</span></span><br><span class="line">    timeout = <span class="literal">null</span></span><br><span class="line">    firstCallTimestamp = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å…è®¸ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">flush</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    cancel()</span><br><span class="line">    <span class="keyword">return</span> func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">  &#125;</span><br><span class="line">  throttled.cancel = cancel</span><br><span class="line">  throttled.flush = flush</span><br><span class="line">  <span class="keyword">return</span> throttle</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>èŠ‚æµä¸é˜²æŠ–éƒ½æ˜¯é€šè¿‡å»¶è¿Ÿæ‰§è¡Œï¼Œå‡å°‘è°ƒç”¨æ¬¡æ•°ï¼Œæ¥ä¼˜åŒ–é¢‘ç¹è°ƒç”¨å‡½æ•°æ—¶çš„æ€§èƒ½ã€‚ä¸åŒçš„æ˜¯ï¼Œå¯¹äºä¸€æ®µæ—¶é—´å†…çš„é¢‘ç¹è°ƒç”¨ï¼Œé˜²æŠ–æ˜¯å»¶è¿Ÿæ‰§è¡Œåä¸€æ¬¡è°ƒç”¨ï¼ŒèŠ‚æµæ˜¯å»¶è¿Ÿå®šæ—¶å¤šæ¬¡è°ƒç”¨ã€‚</p><p>c. <strong>ä»£ç†</strong></p><p>ä¸‹é¢çš„ HTML ä»£ç æ˜¯ä¸€ä¸ªç®€å•çš„æ— åºåˆ—è¡¨ï¼Œç°åœ¨å¸Œæœ›ç‚¹å‡»æ¯ä¸ªé¡¹ç›®çš„æ—¶å€™è°ƒç”¨ getInfo() å‡½æ•°ï¼Œå½“ç‚¹å‡»â€œç¼–è¾‘â€æ—¶ï¼Œè°ƒç”¨ä¸€ä¸ª edit() å‡½æ•°ï¼Œå½“ç‚¹å‡»â€œåˆ é™¤â€æ—¶ï¼Œè°ƒç”¨ä¸€ä¸ª del() å‡½æ•°ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">id</span>=<span class="string">"item1"</span>&gt;</span>é¡¹ç›®1<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"edit"</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"delete"</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">id</span>=<span class="string">"item2"</span>&gt;</span>é¡¹ç›®2<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"edit"</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"delete"</span> &gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">id</span>=<span class="string">"item3"</span>&gt;</span>é¡¹ç›®3<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"edit"</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"delete"</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¦å®ç°è¿™ä¸ªåŠŸèƒ½å¹¶ä¸éš¾ï¼Œåªéœ€è¦å¯¹åˆ—è¡¨ä¸­æ¯ä¸€é¡¹ï¼Œåˆ†åˆ«ç›‘å¬ 3 ä¸ªå…ƒç´ çš„ click äº‹ä»¶å³å¯ã€‚</p><p>ä½†å¦‚æœæ•°æ®é‡ä¸€æ—¦å¢å¤§ï¼Œäº‹ä»¶ç»‘å®šå ç”¨çš„å†…å­˜ä»¥åŠæ‰§è¡Œæ—¶é—´å°†ä¼šæˆçº¿æ€§å¢åŠ ï¼Œè€Œå…¶å®è¿™äº›äº‹ä»¶ç›‘å¬å‡½æ•°é€»è¾‘ä¸€è‡´ï¼Œåªæ˜¯å‚æ•°ä¸åŒè€Œå·²ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä»¥äº‹ä»¶ä»£ç†æˆ–äº‹ä»¶å§”æ‰˜æ¥è¿›è¡Œä¼˜åŒ–ã€‚</p><ul><li>DOMäº‹ä»¶è§¦å‘æµç¨‹ï¼ˆä¸‰ä¸ªé˜¶æ®µï¼‰<ul><li><strong>æ•è·</strong>ï¼šäº‹ä»¶å¯¹è±¡ Window ä¼ æ’­åˆ°ç›®æ ‡çš„çˆ¶å¯¹è±¡,å¦‚å›¾<span style="color:red;">çº¢è‰²çº¿</span></li><li><strong>ç›®æ ‡</strong>ï¼šäº‹ä»¶å¯¹è±¡åˆ°è¾¾äº‹ä»¶å¯¹è±¡çš„äº‹ä»¶ç›®æ ‡ï¼Œå¦‚å›¾<span style="color:blue;">è“è‰²è¿‡ç¨‹</span></li><li><strong>å†’æ³¡</strong>ï¼šäº‹ä»¶å¯¹è±¡ä»ç›®æ ‡çš„çˆ¶èŠ‚ç‚¹å¼€å§‹ä¼ æ’­åˆ° Window,å¦‚å›¾<span style="color:green;">ç»¿è‰²çº¿</span></li></ul></li></ul><p><img src="https://wx2.sbimg.cn/2020/06/09/mapao.png" alt="å†’æ³¡æµç¨‹å›¾"></p><p><strong>æˆ‘ä»¬ä¸Šé¢æåˆ°çš„ç»™å…ƒç´ çš„äº‹ä»¶è¡Œä¸ºç»‘å®šæ–¹æ³•éƒ½æ˜¯åœ¨å½“å‰å…ƒç´ äº‹ä»¶è¡Œä¸ºçš„å†’æ³¡é˜¶æ®µ(æˆ–è€…ç›®æ ‡é˜¶æ®µ)æ‰§è¡Œçš„ã€‚</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.querySelector(<span class="string">'button'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'bubble'</span>)</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.querySelector(<span class="string">'button'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'capture'</span>)</span></span><br><span class="line"><span class="actionscript">&#125;, <span class="literal">true</span>)</span></span><br><span class="line"><span class="actionscript"><span class="comment">// æ‰§è¡Œç»“æœ</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// buble</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// capture</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢é¢çš„ä»£ç ä¸­ï¼Œè™½ç„¶æˆ‘ä»¬ç¬¬äºŒæ¬¡è¿›è¡Œäº‹ä»¶ç›‘å¬æ—¶è®¾ç½®ä¸ºæ•è·é˜¶æ®µï¼Œä½†ç‚¹å‡»äº‹ä»¶æ—¶ä»ä¼šæŒ‰ç…§ç›‘å¬é¡ºåºè¿›è¡Œæ‰§è¡Œã€‚ï¼ˆè‹¥æ˜¯è°ƒæ¢ä¸¤ä¸ªç›‘å¬å‡½æ•°çš„é¡ºåºï¼Œåˆ™è¾“å‡ºç›¸åçš„ç»“æœï¼‰</p><p>æˆ‘ä»¬å†å›åˆ°äº‹ä»¶ä»£ç†ï¼Œäº‹ä»¶ä»£ç†çš„å®ç°åŸç†å°±æ˜¯åˆ©ç”¨ä¸Šè¿° DOM äº‹ä»¶çš„è§¦å‘æµç¨‹æ¥å¯¹ä¸€ç±»äº‹ä»¶è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚æ¯”å¦‚å¯¹äºä¸Šé¢çš„åˆ—è¡¨ï¼Œæˆ‘ä»¬åœ¨ ul å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶ç»Ÿä¸€å¤„ç†ï¼Œé€šè¿‡å¾—åˆ°çš„äº‹ä»¶å¯¹è±¡æ¥è·å–å‚æ•°ï¼Œè°ƒç”¨å¯¹åº”çš„å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'.list'</span>)</span><br><span class="line">ul.addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> t = e.target || e.srcElement</span><br><span class="line">  <span class="keyword">if</span> (t.classList.contains(<span class="string">'item'</span>)) &#123;</span><br><span class="line">    getInfo(t.id)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    id = t.parentElement.id</span><br><span class="line">    <span class="keyword">if</span> (t.classList.contains(<span class="string">'edit'</span>)) &#123;</span><br><span class="line">      edit(id)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t.classList.contains(<span class="string">'delete'</span>)) &#123;</span><br><span class="line">      del(id)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™é‡Œæˆ‘ä»¬é€‰æ‹©äº†é»˜è®¤åœ¨å†’æ³¡é˜¶æ®µç›‘å¬äº‹ä»¶ï¼Œä½†å’Œæ•è·é˜¶æ®µç›‘å¬å¹¶æ²¡æœ‰åŒºåˆ«ã€‚<br>å¯¹äºå…¶ä»–æƒ…å†µè¿˜éœ€è¦å…·ä½“æƒ…å†µå…·ä½“ç»†åˆ†æï¼Œæ¯”å¦‚æœ‰äº›åˆ—è¡¨é¡¹ç›®éœ€è¦åœ¨ç›®æ ‡é˜¶æ®µè¿›è¡Œä¸€äº›é¢„å¤„ç†æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©å†’æ³¡é˜¶æ®µè¿›è¡Œäº‹ä»¶ä»£ç†ã€‚</p><blockquote><p><strong>äº‹ä»¶ç›‘å¬æ–¹å¼çš„åŒºåˆ«</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼1</span></span><br><span class="line">&lt;input type=<span class="string">"text"</span> onclick=<span class="string">"click()"</span>/&gt;</span><br><span class="line"><span class="comment">// æ–¹å¼2</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'input'</span>).onClick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;<span class="comment">// ...&#125;</span></span><br><span class="line"><span class="comment">// æ–¹å¼3</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'input'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;<span class="comment">//...&#125;)</span></span><br></pre></td></tr></table></figure><p>æ–¹å¼ 1 å’Œæ–¹å¼ 2 åŒå±äº DOM0 æ ‡å‡†ï¼Œé€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œäº‹ä»¶ç›‘ä¼š<strong>è¦†ç›–</strong>ä¹‹å‰çš„äº‹ä»¶ç›‘å¬å‡½æ•°ã€‚<br>æ–¹å¼ 3 å±äº DOM2 æ ‡å‡†ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹å¼ã€‚åŒä¸€å…ƒç´ ä¸Šçš„äº‹ä»¶ç›‘å¬å‡½æ•°<strong>äº’ä¸å½±å“</strong>ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹å–æ¶ˆï¼Œè°ƒç”¨é¡ºåºå’Œç›‘å¬é¡ºåºä¸€è‡´ã€‚</p></blockquote><h4 id="3-æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹-å­—èŠ‚-â†’-å­—ç¬¦-â†’-ä»¤ç‰Œ-â†’-æ ‘-â†’-é¡µé¢"><a href="#3-æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹-å­—èŠ‚-â†’-å­—ç¬¦-â†’-ä»¤ç‰Œ-â†’-æ ‘-â†’-é¡µé¢" class="headerlink" title="3.æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹:å­—èŠ‚ â†’ å­—ç¬¦ â†’ ä»¤ç‰Œ â†’ æ ‘ â†’ é¡µé¢"></a>3.æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹:å­—èŠ‚ â†’ å­—ç¬¦ â†’ ä»¤ç‰Œ â†’ æ ‘ â†’ é¡µé¢</h4><p>å‡å¦‚æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥äº†ä¸€ä¸ªç½‘å€ï¼Œå¾—åˆ°äº†ä¸‹é¢çš„ html æ–‡ä»¶ï¼Œæ¸²æŸ“å¼•æ“æ˜¯æ€æ ·é€šè¿‡è§£æä»£ç ç”Ÿæˆé¡µé¢çš„å‘¢ï¼Ÿ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">Â  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">Â  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Â  Â  æ–‡æœ¬</span><br><span class="line">Â  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1.å­—ç¬¦æµè§£ç <br>å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯å®ƒçš„å­—ç¬¦å½¢å¼ã€‚è€Œæµè§ˆå™¨é€šè¿‡ HTTP åè®®æ¥æ”¶åˆ°çš„æ–‡æ¡£å†…å®¹æ˜¯<code>å­—èŠ‚æ•°æ®</code>ï¼Œã€‚å½“æµè§ˆå™¨å¾—åˆ°å­—èŠ‚æ•°æ®åï¼Œé€šè¿‡â€œç¼–ç å—…æ¢ç®—æ³•â€æ¥ç¡®å®šå­—ç¬¦ç¼–ç ï¼Œç„¶åæ ¹æ®å­—ç¬¦ç¼–ç å°†å­—èŠ‚æµæ•°æ®è¿›è¡Œ<code>è§£ç </code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç¼–å†™çš„ä»£ç ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">69</span> <span class="number">6f</span> <span class="number">6</span>e <span class="number">23</span> <span class="number">2</span>b <span class="number">65</span>  |&lt;html&gt; &lt;head&gt;&lt;/head&gt;...</span><br><span class="line"><span class="number">0</span>a <span class="number">43</span> <span class="number">52</span> <span class="number">45</span> <span class="number">4</span>a <span class="number">66</span>  |</span><br><span class="line"><span class="number">6</span>c <span class="number">37</span> <span class="number">77</span> <span class="number">41</span> <span class="number">3</span>d <span class="number">0</span>a  |</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæŠŠå­—èŠ‚æ•°æ®è§£ç æˆå­—ç¬¦æ•°æ®çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºâ€œå­—èŠ‚æµè§£ç â€ã€‚</p><p>2.è¾“å…¥æµé¢„å¤„ç†<br>é€šè¿‡ä¸Šä¸€æ­¥è§£ç å¾—åˆ°çš„å­—ç¬¦æµæ•°æ®åœ¨è¿›å…¥è§£æç¯èŠ‚ä¹‹å‰è¿˜éœ€è¦è¿›è¡Œä¸€äº›é¢„å¤„ç†æ“ä½œã€‚æ¯”å¦‚å°†æ¢è¡Œç¬¦è½¬æ¢æˆç»Ÿä¸€çš„æ ¼å¼ï¼Œæœ€ç»ˆç”Ÿæˆè§„èŒƒåŒ–çš„å­—ç¬¦æµæ•°æ®ï¼Œè¿™ä¸ªæŠŠå­—ç¬¦æ•°æ®è¿›è¡Œç»Ÿä¸€æ ¼å¼åŒ–çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºâ€œè¾“å…¥æµé¢„å¤„ç†â€ã€‚</p><p>3.ä»¤ç‰ŒåŒ–<br>ç»è¿‡å‰ä¸¤æ­¥çš„æ•°æ®è§£ç å’Œé¢„å¤„ç†ï¼Œä¸‹é¢å°±è¦è¿›å…¥é‡è¦çš„è§£ææ­¥éª¤äº†ã€‚</p><p>è§£æåŒ…å«ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯å°†<code>å­—ç¬¦æ•°æ®</code>è½¬åŒ–æˆ<code>ä»¤ç‰Œ</code>ï¼ˆTokenï¼‰ï¼Œç¬¬äºŒæ­¥æ˜¯è§£æ <code>HTML</code> ç”Ÿæˆ<code>DOM æ ‘</code>ã€‚å…ˆæ¥è¯´è¯´ä»¤ç‰ŒåŒ–ï¼Œå…¶è¿‡ç¨‹æ˜¯ä½¿ç”¨äº†ä¸€ç§ç±»ä¼¼<code>çŠ¶æ€æœº</code>çš„ç®—æ³•ï¼Œå³æ¯æ¬¡æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥æµä¸­çš„å­—ç¬¦ï¼›ç„¶åæ ¹æ®å½“å‰çŠ¶æ€å’Œè¿™äº›å­—ç¬¦æ¥æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹æ¥æ”¶åŒæ ·çš„å­—ç¬¦æ•°æ®å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œæ¯”å¦‚å½“æ¥æ”¶åˆ°<code>body</code>å­—ç¬¦ä¸²æ—¶ï¼Œåœ¨æ ‡ç­¾æ‰“å¼€çŠ¶æ€ä¼šè§£ææˆæ ‡ç­¾ï¼Œåœ¨æ ‡ç­¾å…³é—­çŠ¶æ€åˆ™ä¼šè§£ææˆæ–‡æœ¬èŠ‚ç‚¹ã€‚<br>æœ€åç”Ÿæˆçš„ä»¤ç‰Œç»“æ„ç±»ä¼¼å¦‚ä¸‹:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å¼€å§‹æ ‡ç­¾<span class="selector-pseudo">:html</span></span><br><span class="line">  å¼€å§‹æ ‡ç­¾<span class="selector-pseudo">:head</span></span><br><span class="line">  ç»“æŸæ ‡ç­¾<span class="selector-pseudo">:head</span></span><br><span class="line">  å¼€å§‹æ ‡ç­¾<span class="selector-pseudo">:body</span></span><br><span class="line">    å­—ç¬¦ä¸²:æ–‡æœ¬</span><br><span class="line">  ç»“æŸæ ‡ç­¾<span class="selector-pseudo">:body</span></span><br><span class="line">ç»“æŸæ ‡ç­¾<span class="selector-pseudo">:html</span></span><br></pre></td></tr></table></figure><p>4.æ„å»ºDOMæ ‘<br>æµè§ˆå™¨åœ¨åˆ›å»º<code>è§£æå™¨</code>çš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ª <code>Document å¯¹è±¡</code>ã€‚åœ¨æ ‘æ„å»ºé˜¶æ®µï¼Œ<code>Document</code> ä¼šä½œä¸º<strong>æ ¹èŠ‚ç‚¹</strong>è¢«ä¸æ–­åœ°ä¿®æ”¹å’Œæ‰©å……ã€‚æ ‡è®°æ­¥éª¤äº§ç”Ÿçš„ä»¤ç‰Œä¼šè¢«é€åˆ°<code>æ ‘æ„å»ºå™¨</code>è¿›è¡Œå¤„ç†ã€‚HTML 5 æ ‡å‡†ä¸­å®šä¹‰äº†æ¯ç±»ä»¤ç‰Œå¯¹åº”çš„ DOM å…ƒç´ ï¼Œå½“æ ‘æ„å»ºå™¨æ¥æ”¶åˆ°æŸä¸ªä»¤ç‰Œæ—¶å°±ä¼šåˆ›å»ºè¯¥ä»¤ç‰Œå¯¹åº”çš„ DOM å…ƒç´ å¹¶å°†è¯¥å…ƒç´ æ’å…¥åˆ° DOM æ ‘ä¸­ã€‚<br>ä¸ºäº†çº æ­£å…ƒç´ æ ‡ç­¾åµŒå¥—é”™ä½çš„é—®é¢˜å’Œå¤„ç†æœªå…³é—­çš„å…ƒç´ æ ‡ç­¾ï¼Œæ ‘æ„å»ºå™¨åˆ›å»ºçš„æ–° DOM å…ƒç´ è¿˜ä¼šè¢«æ’å…¥åˆ°ä¸€ä¸ªå¼€æ”¾å…ƒç´ æ ˆä¸­ã€‚<br>æœ€ç»ˆç”Ÿæˆä¸‹é¢çš„ DOM æ ‘ç»“æ„ï¼š</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      Document</span><br><span class="line">      /       <span class="string">\</span></span><br><span class="line">DocumentType   HTMLHtmlElement</span><br><span class="line">                  /         <span class="string">\</span></span><br><span class="line">    HTMLHeadElement         HTMLBodyElement</span><br><span class="line">                                  |</span><br><span class="line">                                TextNode</span><br></pre></td></tr></table></figure><p>5.æ„å»ºæ¸²æŸ“æ ‘<br>æœ‰äº† DOM æ ‘å’Œ CSSOM æ ‘ä¹‹åï¼Œæ¸²æŸ“å¼•æ“å°±å¯ä»¥å¼€å§‹ç”Ÿæˆé¡µé¢äº†ã€‚<br><code>DOM æ ‘</code>åŒ…å«çš„ç»“æ„å†…å®¹ä¸ <code>CSSOM æ ‘</code>åŒ…å«çš„æ ·å¼è§„åˆ™éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ºäº†æ›´æ–¹ä¾¿æ¸²æŸ“ï¼Œå…ˆéœ€è¦å°†å®ƒä»¬åˆå¹¶æˆä¸€æ£µæ¸²æŸ“æ ‘ã€‚<br>è¿™ä¸ªè¿‡ç¨‹ä¼šä» DOM æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œç„¶ååœ¨ CSSOM æ ‘ä¸Šæ‰¾åˆ°æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”çš„æ ·å¼ã€‚<br>éå†è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨å¿½ç•¥é‚£äº›ä¸éœ€è¦æ¸²æŸ“çš„èŠ‚ç‚¹ï¼ˆæ¯”å¦‚è„šæœ¬æ ‡è®°ã€å…ƒæ ‡è®°ç­‰ï¼‰ä»¥åŠä¸å¯è§çš„èŠ‚ç‚¹ï¼ˆæ¯”å¦‚è®¾ç½®äº†â€œdisplay:noneâ€æ ·å¼ï¼‰ã€‚åŒæ—¶ä¹Ÿä¼šå°†ä¸€äº›éœ€è¦æ˜¾ç¤ºçš„ä¼ªç±»å…ƒç´ åŠ åˆ°æ¸²æŸ“æ ‘ä¸­ã€‚<br>å¯¹äºä¸Šé¢çš„ HTML å’Œ CSS ä»£ç ï¼Œæœ€ç»ˆç”Ÿæˆçš„æ¸²æŸ“æ ‘å°±åªæœ‰ä¸€ä¸ª body èŠ‚ç‚¹ï¼Œæ ·å¼ä¸º font-size:12px(æµè§ˆå™¨é»˜è®¤csså±æ€§)ã€‚</p><p>6.å¸ƒå±€<br>ç”Ÿæˆäº†æ¸²æŸ“æ ‘ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥å¸ƒå±€é˜¶æ®µäº†ï¼Œå¸ƒå±€å°±æ˜¯è®¡ç®—å…ƒç´ çš„å¤§å°åŠä½ç½®ã€‚<br>è®¡ç®—å…ƒç´ å¸ƒå±€æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ“ä½œï¼Œå› ä¸ºéœ€è¦è€ƒè™‘çš„å› ç´ æœ‰å¾ˆå¤šï¼ŒåŒ…æ‹¬å­—ä½“å¤§å°ã€æ¢è¡Œä½ç½®ç­‰ï¼Œè¿™äº›å› ç´ ä¼šå½±å“æ®µè½çš„å¤§å°å’Œå½¢çŠ¶ï¼Œè¿›è€Œå½±å“ä¸‹ä¸€ä¸ªæ®µè½çš„ä½ç½®ã€‚<br>å¸ƒå±€å®Œæˆåä¼šè¾“å‡ºå¯¹åº”çš„â€œç›’æ¨¡å‹â€ï¼Œå®ƒä¼šç²¾ç¡®åœ°æ•è·æ¯ä¸ªå…ƒç´ çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ï¼Œå°†æ‰€æœ‰ç›¸å¯¹å€¼éƒ½è½¬æ¢ä¸ºå±å¹•ä¸Šçš„<code>ç»å¯¹åƒç´ </code>ã€‚(å…³äºåƒç´ æ–¹é¢çš„çŸ¥è¯†å¯ä»¥å‚è€ƒ<a href="http://Appleking10.github.io/2020/06/10/csså¸ƒå±€å¿ƒå¾—ï¼ˆæŒç»­æ›´æ–°ï¼‰" target="_blank" rel="noopener">csså¸ƒå±€å¿ƒå¾—</a>)</p><p>7.ç»˜åˆ¶<br>ç»˜åˆ¶å°±æ˜¯å°†æ¸²æŸ“æ ‘ä¸­çš„æ¯ä¸ª<code>èŠ‚ç‚¹</code>è½¬æ¢æˆå±å¹•ä¸Šçš„<code>å®é™…åƒç´ </code>çš„è¿‡ç¨‹ã€‚å¾—åˆ°å¸ƒå±€æ ‘è¿™ä»½â€œæ–½å·¥å›¾â€ä¹‹åï¼Œæ¸²æŸ“å¼•æ“å¹¶ä¸èƒ½ç«‹å³ç»˜åˆ¶ï¼Œå› ä¸ºè¿˜ä¸çŸ¥é“ç»˜åˆ¶é¡ºåºï¼Œå¦‚æœæ²¡æœ‰å¼„æ¸…æ¥šç»˜åˆ¶é¡ºåºï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šå¯¼è‡´é¡µé¢è¢«é”™è¯¯åœ°æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä½¿ç”¨ z-index å±æ€§çš„å…ƒç´ ï¼ˆå¦‚é®ç½©å±‚ï¼‰å¦‚æœæœªæŒ‰ç…§æ­£ç¡®çš„é¡ºåºç»˜åˆ¶ï¼Œåˆ™å°†å¯¼è‡´æ¸²æŸ“ç»“æœå’Œé¢„æœŸä¸ç¬¦ï¼ˆå¤±å»é®ç½©ä½œç”¨ï¼‰ã€‚<br>æ‰€ä»¥ç»˜åˆ¶è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€æ­¥å°±æ˜¯<strong>éå†å¸ƒå±€æ ‘ï¼Œç”Ÿæˆç»˜åˆ¶è®°å½•ï¼Œç„¶åæ¸²æŸ“å¼•æ“ä¼šæ ¹æ®ç»˜åˆ¶è®°å½•å»ç»˜åˆ¶ç›¸åº”çš„å†…å®¹</strong>ã€‚</p><blockquote><p>å¯¹äºæ— åŠ¨ç”»æ•ˆæœçš„æƒ…å†µï¼Œåªéœ€è¦è€ƒè™‘ç©ºé—´ç»´åº¦ï¼Œç”Ÿæˆä¸åŒçš„å›¾å±‚ï¼Œç„¶åå†æŠŠè¿™äº›å›¾å±‚è¿›è¡Œåˆæˆï¼Œæœ€ç»ˆæˆä¸ºæˆ‘ä»¬çœ‹åˆ°çš„é¡µé¢ã€‚å½“ç„¶è¿™ä¸ªç»˜åˆ¶è¿‡ç¨‹å¹¶ä¸æ˜¯é™æ€ä¸å˜çš„ï¼Œä¼šéšç€é¡µé¢æ»šåŠ¨ä¸æ–­åˆæˆæ–°çš„å›¾å½¢ã€‚</p></blockquote><h3 id="ä¸‰-å…³äºJSçš„å°äº‹"><a href="#ä¸‰-å…³äºJSçš„å°äº‹" class="headerlink" title="ä¸‰. å…³äºJSçš„å°äº‹"></a>ä¸‰. å…³äºJSçš„å°äº‹</h3><h4 id="1-æ•°æ®ç±»å‹çš„ç†è§£"><a href="#1-æ•°æ®ç±»å‹çš„ç†è§£" class="headerlink" title="1. æ•°æ®ç±»å‹çš„ç†è§£"></a>1. æ•°æ®ç±»å‹çš„ç†è§£</h4><p>JavaScript çš„æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸º 7 ç§ï¼šç©ºï¼ˆNullï¼‰ã€æœªå®šä¹‰ï¼ˆUndefinedï¼‰ã€æ•°å­—ï¼ˆNumberï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€ç¬¦å·ï¼ˆSymbolï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚</p><ul><li>1.undefined<br>Undefined æ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šçš„æ•°æ®ç±»å‹ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯ undefinedã€‚<br>å¯ä»¥é€šè¿‡ä¸‹é¢å‡ ç§æ–¹å¼æ¥å¾—åˆ° undefinedï¼š<blockquote><ul><li>å¼•ç”¨å·²å£°æ˜ä½†æœªåˆå§‹åŒ–çš„å˜é‡ï¼›</li><li>å¼•ç”¨æœªå®šä¹‰çš„å¯¹è±¡å±æ€§ï¼›</li><li>æ‰§è¡Œæ— è¿”å›å€¼å‡½æ•°ï¼›</li><li>æ‰§è¡Œ void è¡¨è¾¾å¼ï¼›</li><li>å…¨å±€å¸¸é‡ window.undefined æˆ– undefinedã€‚</li></ul></blockquote></li></ul><p>æ¨èé€šè¿‡ void è¡¨è¾¾å¼<code>void 0</code>æ¥å¾—åˆ° undefined å€¼ï¼Œå› ä¸ºè¿™ç§æ–¹å¼æ—¢ç®€ä¾¿ï¼ˆwindow.undefined æˆ– undefined å¸¸é‡çš„å­—ç¬¦é•¿åº¦éƒ½å¤§äº â€œvoid 0â€ è¡¨è¾¾å¼ï¼‰åˆä¸éœ€è¦å¼•ç”¨é¢å¤–çš„å˜é‡å’Œå±æ€§ï¼›åŒæ—¶å®ƒä½œä¸ºè¡¨è¾¾å¼è¿˜å¯ä»¥é…åˆä¸‰ç›®è¿ç®—ç¬¦ä½¿ç”¨ï¼Œ<strong>ä»£è¡¨ä¸æ‰§è¡Œä»»ä½•æ“ä½œ</strong>ã€‚<br>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡çš„å€¼æ˜¯å¦ä¸º undefined å‘¢ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> x === <span class="string">'undefined'</span></span><br></pre></td></tr></table></figure><ul><li><p>2.null<br><code>Null</code> æ•°æ®ç±»å‹å’Œ <code>Undefined</code> ç±»ä¼¼ï¼Œåªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå€¼nullï¼Œéƒ½å¯ä»¥è¡¨ç¤ºç©ºå€¼ï¼Œç”šè‡³æˆ‘ä»¬é€šè¿‡ â€œ==â€ æ¥æ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰çš„æ—¶å€™å¾—åˆ°çš„ç»“æœéƒ½æ˜¯ trueï¼Œä½† null æ˜¯ JavaScript ä¿ç•™å…³é”®å­—ï¼Œè€Œ undefined åªæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚ä¹Ÿå°±æ˜¯è¯´å¯ä»¥å£°æ˜åç§°ä¸º undefined çš„å˜é‡ï¼ˆè™½ç„¶åªèƒ½åœ¨è€ç‰ˆæœ¬çš„ IE æµè§ˆå™¨ä¸­ç»™å®ƒé‡æ–°èµ‹å€¼ï¼‰ï¼Œä½†å°† null ä½œä¸ºå˜é‡ä½¿ç”¨æ—¶åˆ™ä¼šæŠ¥é”™ã€‚</p></li><li><p>3.Boolean<br>Booleanæ•°æ®ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼štrue å’Œ falseã€‚ä½†æ˜¯å¸¸å¸¸ä¼šå°†å„ç§è¡¨è¾¾å¼å’Œå˜é‡è½¬æ¢æˆ Boolean æ•°æ®ç±»å‹æ¥å½“ä½œåˆ¤æ–­æ¡ä»¶ã€‚</p></li><li><p>4.number<br>æ•°å€¼ç±»å‹ï¼Œæœ‰ 2 ä¸ªç‰¹æ®Šæ•°å€¼éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå³ NaN å’Œ Infinityã€‚</p><blockquote><ul><li>NaNï¼ˆNot a Numberï¼‰é€šå¸¸åœ¨è®¡ç®—å¤±è´¥çš„æ—¶å€™ä¼šå¾—åˆ°è¯¥å€¼ã€‚è¦åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸º NaNï¼Œåˆ™å¯ä»¥é€šè¿‡ Number.isNaN å‡½æ•°è¿›è¡Œåˆ¤æ–­ã€‚</li><li>Infinity æ˜¯æ— ç©·å¤§ï¼ŒåŠ ä¸Šè´Ÿå· â€œ-â€ ä¼šå˜æˆæ— ç©·å°ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹æ¯”è¾ƒæœ‰ç”¨ï¼Œæ¯”å¦‚é€šè¿‡æ•°å€¼æ¥è¡¨ç¤ºæƒé‡æˆ–è€…ä¼˜å…ˆçº§ï¼ŒInfinity å¯ä»¥è¡¨ç¤ºæœ€é«˜ä¼˜å…ˆçº§æˆ–æœ€å¤§æƒé‡ã€‚</li></ul></blockquote></li><li><p><em>ç²¾åº¦è½¬æ¢*</em><br>åœ¨è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—æ—¶ã€‚æ¯”å¦‚æˆ‘ä»¬æ‰§è¡Œç®€å•çš„è¿ç®— 0.1 + 0.2ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ 0.30000000000000004ï¼Œå¦‚æœç›´æ¥å’Œ 0.3 ä½œç›¸ç­‰åˆ¤æ–­æ—¶å°±ä¼šå¾—åˆ° falseã€‚<br>å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› åœ¨äºè®¡ç®—çš„æ—¶å€™ï¼ŒJavaScript å¼•æ“ä¼šå…ˆå°†åè¿›åˆ¶æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå†å°†æ‰€å¾—ç»“æœè½¬æ¢ä¸ºåè¿›åˆ¶ã€‚åœ¨è¿›åˆ¶è½¬æ¢è¿‡ç¨‹ä¸­å¦‚æœå°æ•°ä½æ˜¯æ— é™çš„ï¼Œå°±ä¼šå‡ºç°è¯¯å·®ã€‚åŒæ ·çš„ï¼Œå°†æ•°å­— 5 å¼€æ–¹åå†å¹³æ–¹å¾—åˆ°çš„ç»“æœä¹Ÿå’Œæ•°å­— 5 ä¸ç›¸ç­‰ã€‚</p></li><li><p><em>è§£å†³åŠæ³•*</em>ï¼š</p><blockquote><ul><li>å…ˆè½¬æ¢æˆæ•´æ•°è¿›è¡Œè®¡ç®—ï¼Œç„¶åå†è½¬æ¢å›å°æ•°ï¼Œè¿™ç§æ–¹å¼é€‚åˆåœ¨å°æ•°ä½ä¸æ˜¯å¾ˆå¤šçš„æ—¶å€™ã€‚æ¯”å¦‚ä¸€äº›ç¨‹åºçš„æ”¯ä»˜åŠŸèƒ½ API ä»¥â€œåˆ†â€ä¸ºå•ä½ï¼Œä»è€Œé¿å…ä½¿ç”¨å°æ•°è¿›è¡Œè®¡ç®—ã€‚</li><li>èˆå¼ƒæœ«å°¾çš„å°æ•°ä½ã€‚æ¯”å¦‚å¯¹ä¸Šé¢çš„åŠ æ³•å°±å¯ä»¥å…ˆè°ƒç”¨ toPrecision æˆªå– 12 ä½ï¼Œç„¶åè°ƒç”¨ parseFloat å‡½æ•°è½¬æ¢å›æµ®ç‚¹æ•°ã€‚</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>((<span class="number">0.1</span> + <span class="number">0.2</span>).toPrecision(<span class="number">12</span>)) <span class="comment">// 0.3</span></span><br></pre></td></tr></table></figure></li><li><p>5.string</p></li></ul><p>åƒä½åˆ†éš”ç¬¦æ˜¯æŒ‡ä¸ºäº†æ–¹ä¾¿è¯†åˆ«è¾ƒå¤§æ•°å­—ï¼Œæ¯éš”ä¸‰ä½æ•°ä¼šåŠ å…¥ä¸€ä¸ªé€—å·ï¼Œè¯¥é€—å·å°±æ˜¯åƒä½åˆ†éš”ç¬¦ã€‚å¦‚æœè¦ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥ä¸ºè¾“å…¥å€¼çš„æ•°å­—æ·»åŠ åƒåˆ†ä½åˆ†éš”ç¬¦ï¼Œè¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿ<br>ä¸€ç§å®ç°æ–¹å¼æ˜¯é€šè¿‡ for å¾ªç¯çš„ç´¢å¼•å€¼æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼›è€Œå¦ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡æ•°ç»„åè½¬ï¼Œä»è€Œå˜æˆä»å·¦åˆ°å³æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å­—ç¬¦ä¸²æ•°æ®è½¬åŒ–æˆå¼•ç”¨ç±»å‹æ•°æ®ï¼Œå³ç”¨æ•°ç»„æ¥å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sep</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">let</span> [i, c] = n.toString().split(<span class="regexp">/(\.\d+)/</span>)<span class="comment">//å°†æ•°å€¼è½¬æ¢æˆå­—ç¬¦æ•°ç»„</span></span><br><span class="line">  <span class="comment">// é€šè¿‡æ•°ç»„åè½¬ï¼Œä»è€Œå˜æˆä»å·¦åˆ°å³éå†æ•°å€¼æ¯ä¸€ä½ï¼Œæ¯éš” 3 ä½æ·»åŠ åˆ†éš”ç¬¦</span></span><br><span class="line">Â  <span class="keyword">return</span> i.split(<span class="string">''</span>).reverse().map(<span class="function">(<span class="params">c, idx</span>) =&gt;</span> (idx+<span class="number">1</span>) % <span class="number">3</span> === <span class="number">0</span> ? <span class="string">','</span> + c: c).reverse().join(<span class="string">''</span>).replace(<span class="regexp">/^,/</span>, <span class="string">''</span>) + c</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡å¼•ç”¨ç±»å‹ï¼Œå³ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹å­—ç¬¦è¿›è¡Œæ›¿æ¢æ¥å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sep2</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">Â  <span class="keyword">let</span> str = n.toString()</span><br><span class="line">Â  str.indexOf(<span class="string">'.'</span>) &lt; <span class="number">0</span> ? str+= <span class="string">'.'</span> : <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">Â  <span class="keyword">return</span> str.replace(<span class="regexp">/(\d)(?=(\d&#123;3&#125;)+\.)/g</span>, <span class="string">'$1,'</span>).replace(<span class="regexp">/\.$/</span>, <span class="string">''</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>6.symbol<br>symbol æ˜¯ ES6 ä¸­å¼•å…¥çš„æ–°æ•°æ®ç±»å‹ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå”¯ä¸€çš„å¸¸é‡ï¼Œé€šè¿‡ Symbol å‡½æ•°æ¥åˆ›å»ºå¯¹åº”çš„æ•°æ®ç±»å‹ï¼Œåˆ›å»ºæ—¶å¯ä»¥æ·»åŠ <code>å˜é‡æè¿°</code>ï¼Œè¯¥å˜é‡æè¿°åœ¨ä¼ å…¥æ—¶ä¼šè¢«å¼ºè¡Œè½¬æ¢æˆ<code>å­—ç¬¦ä¸²</code>è¿›è¡Œå­˜å‚¨ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Symbol</span>(<span class="string">'1'</span>)</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Symbol</span>(<span class="number">1</span>)</span><br><span class="line">a.description === b.description <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">Symbol</span>(&#123;<span class="attr">id</span>: <span class="number">1</span>&#125;)</span><br><span class="line">c.description <span class="comment">// [object Object]</span></span><br><span class="line"><span class="keyword">var</span> _a = <span class="built_in">Symbol</span>(<span class="string">'1'</span>)</span><br><span class="line">_a == a <span class="comment">// false</span></span><br></pre></td></tr></table></figure>symbol å±æ€§ç±»å‹æ¯”è¾ƒé€‚åˆç”¨äºä¸¤ç±»åœºæ™¯ä¸­ï¼šå¸¸é‡å€¼å’Œå¯¹è±¡å±æ€§<blockquote><ul><li>é¿å…å¸¸é‡å€¼é‡å¤</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">switch</span>(key)&#123;</span><br><span class="line">Â  Â  <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">Â  Â  Â  <span class="comment">//...</span></span><br><span class="line">Â  Â  ...</span><br><span class="line">Â  Â  <span class="keyword">case</span> <span class="string">'B'</span>:</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">Â  &#125;</span><br><span class="line">&#125;</span><br><span class="line">getValue(<span class="string">'B'</span>);</span><br></pre></td></tr></table></figure>è¿™æ®µä»£ç å¯¹è°ƒç”¨è€…è€Œè¨€éå¸¸ä¸å‹å¥½ï¼Œå› ä¸ºä»£ç ä¸­ä½¿ç”¨äº†<code>é­”æœ¯å­—ç¬¦ä¸²</code>ï¼ˆé­”æœ¯å­—ç¬¦ä¸²æ˜¯æŒ‡åœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºç°ã€ä¸ä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ï¼‰ï¼Œå¯¼è‡´è°ƒç”¨ getValue å‡½æ•°æ—¶éœ€è¦æŸ¥çœ‹å‡½æ•°æºç æ‰èƒ½æ‰¾åˆ°å‚æ•° key çš„å¯é€‰å€¼ã€‚æ‰€ä»¥å¯ä»¥å°†å‚æ•° key çš„å€¼ä»¥å¸¸é‡çš„æ–¹å¼å£°æ˜å‡ºæ¥ã€‚<br>æ”¹è¿›ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> KEY = &#123;</span><br><span class="line">Â  apple: <span class="string">'A'</span>,</span><br><span class="line">Â  banana: <span class="string">'B'</span>,</span><br><span class="line">Â  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">switch</span>(key)&#123;</span><br><span class="line">Â  Â  <span class="keyword">case</span> KEY.apple:</span><br><span class="line">Â  Â  Â  ...</span><br><span class="line">Â  Â  ...</span><br><span class="line">Â  Â  <span class="keyword">case</span> KEY.banana:</span><br><span class="line">Â  Â  Â  ...</span><br><span class="line">Â  &#125;</span><br><span class="line">&#125;</span><br><span class="line">getValue(KEY.baidu);</span><br></pre></td></tr></table></figure>ä½†è¿™æ ·ä¹Ÿå¹¶éå®Œç¾ï¼Œå‡è®¾ç°åœ¨æˆ‘ä»¬è¦åœ¨ KEY å¸¸é‡ä¸­åŠ å…¥ä¸€ä¸ª keyï¼Œæ ¹æ®å¯¹åº”çš„è§„åˆ™ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºç°å€¼é‡å¤çš„æƒ…å†µï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> KEY = &#123;</span><br><span class="line">  apple: <span class="string">'A'</span>,</span><br><span class="line">  banana: <span class="string">'B'</span>,</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  bear: <span class="string">'B'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å› æ­¤å¯ä»¥ä½¿ç”¨symbolï¼Œä¸å…³å¿ƒå€¼æœ¬èº«ï¼Œåªå…³å¿ƒå€¼å¾—å”¯ä¸€æ€§</span></span><br><span class="line"><span class="keyword">const</span> KEY = &#123;</span><br><span class="line">Â  apple: <span class="built_in">Symbol</span>(),</span><br><span class="line">Â  banana: <span class="built_in">Symbol</span>(),</span><br><span class="line">Â  <span class="comment">//...</span></span><br><span class="line">Â  bear: <span class="built_in">Symbol</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>é¿å…å¯¹è±¡å±æ€§è¦†ç›–<br>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•° fnï¼Œéœ€è¦å¯¹ä¼ å…¥çš„å¯¹è±¡å‚æ•°æ·»åŠ ä¸€ä¸ªä¸´æ—¶å±æ€§ userï¼Œä½†å¯èƒ½è¯¥å¯¹è±¡å‚æ•°ä¸­å·²ç»æœ‰è¿™ä¸ªå±æ€§äº†ï¼Œå¦‚æœç›´æ¥èµ‹å€¼å°±ä¼šè¦†ç›–ä¹‹å‰çš„å€¼ã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ Symbol æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">o</span>) </span>&#123; <span class="comment">// &#123;user: &#123;id: xx, name: yy&#125;&#125;</span></span><br><span class="line">Â  <span class="keyword">const</span> s = <span class="built_in">Symbol</span>()</span><br><span class="line">Â  o[s] = <span class="string">'zzz'</span></span><br><span class="line">Â  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>7.Object<br>ç›¸å¯¹äºåŸºç¡€ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ Object åˆ™å¤æ‚å¾ˆå¤šã€‚ç®€å•åœ°è¯´ï¼ŒObject ç±»å‹æ•°æ®å°±æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œé”®æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆæˆ–è€… Symbolï¼‰ ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ï¼› å¤æ‚åœ°è¯´ï¼ŒObject åˆåŒ…æ‹¬å¾ˆå¤šå­ç±»å‹ï¼Œæ¯”å¦‚ Dateã€Arrayã€Setã€RegExpã€‚</li></ul><p>ç”±äºå¼•ç”¨ç±»å‹åœ¨èµ‹å€¼æ—¶åªä¼ é€’æŒ‡é’ˆï¼Œè¿™ç§æ‹·è´æ–¹å¼ç§°ä¸º<strong>æµ…æ‹·è´</strong>ã€‚<br>è€Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä¸ä¹‹ç›¸åŒçš„å¼•ç”¨ç±»å‹æ•°æ®çš„è¿‡ç¨‹ç§°ä¹‹ä¸º<strong>æ·±æ‹·è´</strong>ã€‚<br>ç°åœ¨æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªæ‹·è´å‡½æ•°ï¼Œæ”¯æŒä¸Šé¢ 7 ç§ç±»å‹çš„æ•°æ®æ‹·è´ã€‚</p><p>å¯¹äº 6 ç§åŸºç¡€ç±»å‹ï¼Œæˆ‘ä»¬åªéœ€ç®€å•çš„èµ‹å€¼å³å¯ï¼Œè€Œ Object ç±»å‹å˜é‡éœ€è¦ç‰¹æ®Šæ“ä½œã€‚å› ä¸ºé€šè¿‡ç­‰å·â€œ=â€èµ‹å€¼åªæ˜¯æµ…æ‹·è´ï¼Œè¦å®ç°çœŸæ­£çš„æ‹·è´æ“ä½œåˆ™éœ€è¦é€šè¿‡éå†é”®æ¥èµ‹å€¼å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ° Object ç±»å‹è¿˜éœ€è¦å†æ¬¡è¿›è¡Œéå†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºäº†å‡†ç¡®åˆ¤æ–­æ¯ç§æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡ typeof æ¥æŸ¥çœ‹æ¯ç§æ•°æ®ç±»å‹çš„æè¿°</span></span><br><span class="line">[<span class="literal">undefined</span>,Â <span class="literal">null</span>,Â <span class="literal">true</span>,Â <span class="string">''</span>,Â <span class="number">0</span>,Â <span class="built_in">Symbol</span>(),Â &#123;&#125;].map(<span class="function"><span class="params">it</span>Â =&gt;</span>Â <span class="keyword">typeof</span>Â it)<span class="comment">//Â ["undefined",Â "object",Â "boolean",Â "string",Â "number",Â "symbol",Â "object"]</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">clone</span>(<span class="params">data</span>)Â </span>&#123;</span><br><span class="line">Â Â <span class="keyword">let</span>Â resultÂ =Â &#123;&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡ getOwnPropertyNames å’Œ getOwnPropertySymbols å‡½æ•°å°†é”®åç»„åˆæˆæ•°ç»„</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â keysÂ =Â [...Object.getOwnPropertyNames(data),Â ...Object.getOwnPropertySymbols(data)]</span><br><span class="line">Â Â <span class="keyword">if</span>(!keys.length)Â <span class="keyword">return</span>Â data <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºnull</span></span><br><span class="line">Â Â keys.forEach(<span class="function"><span class="params">key</span>Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="keyword">let</span>Â itemÂ =Â data[key]</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â (<span class="keyword">typeof</span>Â itemÂ ===Â <span class="string">'object'</span>Â &amp;&amp;Â item)Â &#123;</span><br><span class="line">Â Â Â Â Â Â result[key]Â =Â clone(item)<span class="comment">//é€’å½’</span></span><br><span class="line">Â Â Â Â &#125;Â <span class="keyword">else</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â result[key]Â =Â item</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;)</span><br><span class="line">Â Â <span class="keyword">return</span>Â result</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸ºäº†é¿å…æ•°æ®åµŒå¥—é™·å…¥é€’å½’æ­»å¾ªç¯ï¼Œéœ€è¦æŠŠå·²æ·»åŠ çš„å¯¹è±¡è®°å½•ä¸‹æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">clone</span>(<span class="params">obj</span>)Â </span>&#123;</span><br><span class="line">Â Â <span class="keyword">let</span>Â mapÂ =Â <span class="keyword">new</span>Â <span class="built_in">WeakMap</span>()</span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">deep</span>(<span class="params">data</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">let</span>Â resultÂ =Â &#123;&#125;</span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â keysÂ =Â [...Object.getOwnPropertyNames(data),Â ...Object.getOwnPropertySymbols(data)]</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>(!keys.length)Â <span class="keyword">return</span>Â data</span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â existÂ =Â map.get(data)</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â (exist)Â <span class="keyword">return</span>Â exist</span><br><span class="line">Â Â Â Â map.set(data,Â result)</span><br><span class="line">Â Â Â Â keys.forEach(<span class="function"><span class="params">key</span>Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">let</span>Â itemÂ =Â data[key]</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">if</span>Â (<span class="keyword">typeof</span>Â itemÂ ===Â <span class="string">'object'</span>Â &amp;&amp;Â item)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â result[key]Â =Â deep(item)</span><br><span class="line">Â Â Â Â Â Â &#125;Â <span class="keyword">else</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â result[key]Â =Â item</span><br><span class="line">Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;)</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â result</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">return</span>Â deep(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-åŸå‹å’ŒåŸå‹é“¾çš„ç†è§£"><a href="#2-åŸå‹å’ŒåŸå‹é“¾çš„ç†è§£" class="headerlink" title="2. åŸå‹å’ŒåŸå‹é“¾çš„ç†è§£"></a>2. åŸå‹å’ŒåŸå‹é“¾çš„ç†è§£</h4><ul><li>ä»€ä¹ˆæ˜¯åŸå‹å’ŒåŸå‹é“¾ï¼Ÿ<br>ç®€å•åœ°ç†è§£ï¼Œ<strong>åŸå‹</strong>å°±æ˜¯å¯¹è±¡çš„<strong>å±æ€§</strong>ï¼ŒåŒ…æ‹¬è¢«ç§°ä¸º<code>éšå¼åŸå‹çš„protoå±æ€§</code>å’Œè¢«ç§°ä¸º<code>æ˜¾å¼åŸå‹çš„prototypeå±æ€§</code>ã€‚</li><li><em><code>éšå¼åŸå‹</code>é€šå¸¸åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æŒ‡å‘æ„é€ å‡½æ•°çš„<code>æ˜¾å¼åŸå‹</code>*</em>ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;&#125;</span><br><span class="line">a.__proto__ === <span class="built_in">Object</span>.prototype <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> b= <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">b.__proto__ === a.__proto__ <span class="comment">// true</span></span><br><span class="line"><span class="comment">// å½“åˆ›å»ºå¯¹è±¡ a æ—¶ï¼Œa çš„éšå¼åŸå‹ä¼šæŒ‡å‘æ„é€ å‡½æ•° Object() çš„æ˜¾å¼åŸå‹ã€‚</span></span><br></pre></td></tr></table></figure>æ˜¾å¼åŸå‹æ˜¯å†…ç½®å‡½æ•°ï¼ˆæ¯”å¦‚ Date() å‡½æ•°ï¼‰çš„é»˜è®¤å±æ€§ï¼Œåœ¨è‡ªå®šä¹‰å‡½æ•°æ—¶ï¼ˆç®­å¤´å‡½æ•°é™¤å¤–ï¼‰ä¹Ÿä¼šé»˜è®¤ç”Ÿæˆï¼Œç”Ÿæˆçš„æ˜¾å¼åŸå‹å¯¹è±¡åªæœ‰ä¸€ä¸ªå±æ€§ constructor ï¼Œè¯¥å±æ€§æŒ‡å‘å‡½æ•°è‡ªèº«ã€‚é€šå¸¸é…åˆ new å…³é”®å­—ä¸€èµ·ä½¿ç”¨ï¼Œå½“é€šè¿‡ new å…³é”®å­—åˆ›å»ºå‡½æ•°å®ä¾‹æ—¶ï¼Œä¼šå°†å®ä¾‹çš„éšå¼åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ã€‚è¯´äººè¯å°±æ˜¯<strong>æ˜¾å¼åŸå‹å¯¹è±¡åœ¨ä½¿ç”¨ new å…³é”®å­—çš„æ—¶å€™ä¼šè¢«è‡ªåŠ¨åˆ›å»º</strong></li><li>new æ“ä½œç¬¦å®ç°äº†ä»€ä¹ˆï¼Ÿ<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params">init</span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> F(args)</span><br></pre></td></tr></table></figure>å…¶ä¸­ä¸»è¦åŒ…å«äº† 3 ä¸ªæ­¥éª¤ï¼š</li><li>1.åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ç©ºå¯¹è±¡ï¼Œä¸ºäº†è¡¨è¿°æ–¹ä¾¿ï¼Œæˆ‘ä»¬å‘½åä¸º fnï¼Œè®©å¯¹è±¡ fn çš„<code>éšå¼åŸå‹(_proto_)</code>æŒ‡å‘å‡½æ•° F çš„<code>æ˜¾å¼åŸå‹(prototype)</code>ï¼›</li><li>2.æ‰§è¡Œå‡½æ•° F()ï¼Œå°† <code>this</code> æŒ‡å‘å¯¹è±¡ fnï¼Œå¹¶ä¼ å…¥å‚æ•° argsï¼Œå¾—åˆ°æ‰§è¡Œç»“æœ resultï¼›</li><li>3.åˆ¤æ–­ä¸Šä¸€æ­¥çš„æ‰§è¡Œç»“æœ resultï¼Œå¦‚æœ result ä¸ºéç©ºå¯¹è±¡ï¼Œåˆ™è¿”å› resultï¼Œå¦åˆ™è¿”å› fnã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å³æ‰§è¡Œäº†ä¸‹é¢ä»£ç </span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="built_in">Object</span>.create(F.prototype)</span><br><span class="line"><span class="keyword">var</span> obj = F.apply(fn, args)</span><br><span class="line"><span class="keyword">var</span> f = obj &amp;&amp; <span class="keyword">typeof</span> obj === <span class="string">'object'</span> ? obj : fn;</span><br></pre></td></tr></table></figure></li><li>æ€ä¹ˆé€šè¿‡åŸå‹é“¾å®ç°å¤šå±‚ç»§æ‰¿ï¼Ÿ<br>å‡è®¾æ„é€ å‡½æ•° B() éœ€è¦ç»§æ‰¿æ„é€ å‡½æ•° A()ï¼Œå°±å¯ä»¥é€šè¿‡å°†å‡½æ•° B() çš„æ˜¾å¼åŸå‹æŒ‡å‘ä¸€ä¸ªå‡½æ•° A() çš„å®ä¾‹ï¼Œç„¶åå†å¯¹ B çš„æ˜¾å¼åŸå‹è¿›è¡Œæ‰©å±•ã€‚é‚£ä¹ˆé€šè¿‡å‡½æ•° B() åˆ›å»ºçš„å®ä¾‹ï¼Œæ—¢èƒ½è®¿é—®ç”¨å‡½æ•° B() çš„å±æ€§ bï¼Œä¹Ÿèƒ½è®¿é—®å‡½æ•° A() çš„å±æ€§ aï¼Œä»è€Œå®ç°äº†å¤šå±‚ç»§æ‰¿ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">A.prototype.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">return</span> <span class="string">'a'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">B.prototype = <span class="keyword">new</span> A(); <span class="comment">//Bç»§æ‰¿äº†A</span></span><br><span class="line">B.prototype.b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">return</span> <span class="string">'b'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> B()</span><br><span class="line">c.b() <span class="comment">// 'b'</span></span><br><span class="line">c.a() <span class="comment">// 'a'</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="å››-å…³äºæµè§ˆå™¨æˆ‘ä»¬è¦æ³¨æ„ä»€ä¹ˆ"><a href="#å››-å…³äºæµè§ˆå™¨æˆ‘ä»¬è¦æ³¨æ„ä»€ä¹ˆ" class="headerlink" title="å››. å…³äºæµè§ˆå™¨æˆ‘ä»¬è¦æ³¨æ„ä»€ä¹ˆ"></a>å››. å…³äºæµè§ˆå™¨æˆ‘ä»¬è¦æ³¨æ„ä»€ä¹ˆ</h3><h4 id="1-æµè§ˆå™¨åŠ è½½ç½‘ç»œèµ„æºçš„é€Ÿåº¦æå‡"><a href="#1-æµè§ˆå™¨åŠ è½½ç½‘ç»œèµ„æºçš„é€Ÿåº¦æå‡" class="headerlink" title="1. æµè§ˆå™¨åŠ è½½ç½‘ç»œèµ„æºçš„é€Ÿåº¦æå‡"></a>1. æµè§ˆå™¨åŠ è½½ç½‘ç»œèµ„æºçš„é€Ÿåº¦æå‡</h4><p>å¯ä»¥é€šè¿‡å‡å°‘å“åº”å†…å®¹å¤§å°ï¼Œæ¯”å¦‚ä½¿ç”¨ gzip ç®—æ³•å‹ç¼©å“åº”ä½“å†…å®¹å’Œ HTTP/2 çš„å‹ç¼©å¤´éƒ¨åŠŸèƒ½ï¼›å¦ä¸€ç§æ›´é€šç”¨ä¹Ÿæ›´ä¸ºé‡è¦çš„æŠ€æœ¯å°±æ˜¯ä½¿ç”¨<strong>ç¼“å­˜</strong>ã€‚</p><ul><li>HTTPç¼“å­˜<br>ä½¿ç”¨ç¼“å­˜æœ€å¤§çš„é—®é¢˜å¾€å¾€ä¸åœ¨äºå°†èµ„æºç¼“å­˜åœ¨ä»€ä¹ˆä½ç½®æˆ–è€…å¦‚ä½•è¯»å†™èµ„æºï¼Œè€Œåœ¨äºå¦‚ä½•ä¿è¯ç¼“å­˜ä¸å®é™…èµ„æºä¸€è‡´çš„åŒæ—¶ï¼Œæé«˜ç¼“å­˜çš„å‘½ä¸­ç‡ã€‚ä¹Ÿå°±æ˜¯è¯´å°½å¯èƒ½åœ°è®©æµè§ˆå™¨ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼Œä½†åŒæ—¶åˆè¦ä¿è¯è¢«ä½¿ç”¨çš„ç¼“å­˜ä¸æœåŠ¡ç«¯æœ€æ–°çš„èµ„æºä¿æŒä¸€è‡´ã€‚</li></ul><p>ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œéœ€è¦åˆ¶å®šåˆé€‚çš„ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼ˆç®€ç§°â€œç¼“å­˜ç­–ç•¥â€ï¼‰ï¼ŒHTTP æ”¯æŒçš„ç¼“å­˜ç­–ç•¥æœ‰ä¸¤ç§ï¼šå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚<br><code>å¼ºåˆ¶ç¼“å­˜</code>:å¼ºåˆ¶ç¼“å­˜æ˜¯åœ¨æµè§ˆå™¨åŠ è½½èµ„æºçš„æ—¶å€™ï¼Œå…ˆç›´æ¥ä»ç¼“å­˜ä¸­æŸ¥æ‰¾è¯·æ±‚ç»“æœï¼Œå¦‚æœä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœï¼Œåˆ™ç›´æ¥å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ã€‚<br><code>åå•†ç¼“å­˜</code>:åå•†ç¼“å­˜çš„æ›´æ–°ç­–ç•¥æ˜¯ä¸å†æŒ‡å®šç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´äº†ï¼Œè€Œæ˜¯æµè§ˆå™¨ç›´æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯è¿›è¡Œç¡®è®¤ç¼“å­˜æ˜¯å¦æ›´æ–°ï¼Œå¦‚æœè¯·æ±‚å“åº”è¿”å›çš„ HTTP çŠ¶æ€ä¸º 304ï¼Œåˆ™è¡¨ç¤ºç¼“å­˜ä»ç„¶æœ‰æ•ˆã€‚æ§åˆ¶ç¼“å­˜çš„éš¾é¢˜å°±æ˜¯ä»æµè§ˆå™¨ç«¯è½¬ç§»åˆ°äº†æœåŠ¡ç«¯ã€‚</p><h4 id="2-æ‰‹å†™promiseã€async-await"><a href="#2-æ‰‹å†™promiseã€async-await" class="headerlink" title="2. æ‰‹å†™promiseã€async/await"></a>2. æ‰‹å†™promiseã€async/await</h4><p><strong>Promise çŠ¶æ€</strong></p><p>  Promise çš„ 3 ä¸ªçŠ¶æ€åˆ†åˆ«ä¸º pendingã€fulfilled å’Œ rejectedã€‚</p><ul><li>pendingï¼šâ€œç­‰å¾…â€çŠ¶æ€ï¼Œå¯ä»¥è½¬ç§»åˆ° fulfilled æˆ–è€… rejected çŠ¶æ€</li><li>fulfilledï¼šâ€œæ‰§è¡Œâ€ï¼ˆæˆ–â€œå±¥è¡Œâ€ï¼‰çŠ¶æ€ï¼Œæ˜¯ Promise çš„æœ€ç»ˆæ€ï¼Œè¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œè¯¥çŠ¶æ€ä¸‹ä¸å¯å†æ”¹å˜ã€‚</li><li>rejectedï¼šâ€œæ‹’ç»â€çŠ¶æ€ï¼Œæ˜¯ Promise çš„æœ€ç»ˆæ€ï¼Œè¡¨ç¤ºæ‰§è¡Œå¤±è´¥ï¼Œè¯¥çŠ¶æ€ä¸å¯å†æ”¹å˜ã€‚</li></ul><p><strong>Promise è§£å†³è¿‡ç¨‹</strong></p><p>  Promise è§£å†³è¿‡ç¨‹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ“ä½œï¼Œå³æ¥æ”¶ä¸€ä¸ª promise å’Œä¸€ä¸ªå€¼ xï¼Œç›®çš„å°±æ˜¯å¯¹ Promise å½¢å¼çš„æ‰§è¡Œç»“æœè¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚éœ€è¦è€ƒè™‘ä»¥ä¸‹ 4 ç§æƒ…å†µã€‚</p><ul><li><p>æƒ…å†µ 1ï¼š x ç­‰äº promise<br>æŠ›å‡ºä¸€ä¸ª TypeError é”™è¯¯ï¼Œæ‹’ç» promiseã€‚</p></li><li><p>æƒ…å†µ 2ï¼šx ä¸º Promise çš„å®ä¾‹<br>å¦‚æœ x å¤„äºç­‰å¾…çŠ¶æ€ï¼Œé‚£ä¹ˆ promise ç»§ç»­ç­‰å¾…è‡³ x æ‰§è¡Œæˆ–æ‹’ç»ï¼Œå¦åˆ™æ ¹æ® x çš„çŠ¶æ€æ‰§è¡Œ/æ‹’ç» promiseã€‚</p></li><li><p>æƒ…å†µ 3ï¼šx ä¸ºå¯¹è±¡æˆ–å‡½æ•°<br>è¯¥æƒ…å†µçš„æ ¸å¿ƒæ˜¯å–å‡º x.then å¹¶è°ƒç”¨ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™å°† this æŒ‡å‘ xã€‚å°† then å›è°ƒå‡½æ•°ä¸­å¾—åˆ°ç»“æœ y ä¼ å…¥æ–°çš„ Promise è§£å†³è¿‡ç¨‹ä¸­ï¼Œå½¢æˆä¸€ä¸ªé€’å½’è°ƒç”¨ã€‚å…¶ä¸­ï¼Œå¦‚æœæ‰§è¡ŒæŠ¥é”™ï¼Œåˆ™ä»¥å¯¹åº”çš„é”™è¯¯ä¸ºåŸå› æ‹’ç» promiseã€‚<br>è¿™ä¸€æ­¥æ˜¯å¤„ç†æ‹¥æœ‰ then() å‡½æ•°çš„å¯¹è±¡æˆ–å‡½æ•°ï¼Œè¿™ç±»å¯¹è±¡æˆ–å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œthenableâ€ã€‚æ³¨æ„ï¼Œå®ƒåªæ˜¯æ‹¥æœ‰ then() å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ Promise å®ä¾‹ã€‚</p></li><li><p>æƒ…å†µ 4ï¼šå¦‚æœ x ä¸ä¸ºå¯¹è±¡æˆ–å‡½æ•°<br>ä»¥ x ä½œä¸ºå€¼ï¼Œæ‰§è¡Œ promiseã€‚</p></li></ul><p><strong>Promise å®ç°</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>å®æˆ˜å¿ƒå¾—</tag>
      
      <tag>æŒç»­æ›´æ–°</tag>
      
      <tag>å‰ç«¯åŸºç¡€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯ä»¥çœ‹æ‡‚çš„webpackæ•™ç¨‹</title>
    <link href="/2020/10/26/%E5%8F%AF%E4%BB%A5%E7%9C%8B%E6%87%82%E7%9A%84webpack%E6%95%99%E7%A8%8B/"/>
    <url>/2020/10/26/%E5%8F%AF%E4%BB%A5%E7%9C%8B%E6%87%82%E7%9A%84webpack%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>å…³äºwebpackï¼ŒçœŸæ˜¯è®©äººåˆçˆ±åˆæ¨ã€‚ä½œä¸ºå‰å°ç«¯æ°´çš„ä¸€å‘˜ï¼Œææ‡‚webpackæ˜¯å¿…ä¸å¯å°‘çš„ï¼<br>Webpackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„é¢„ç¼–è¯‘è¯­è¨€ï¼ˆscssï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</p><p>ä¸€ä»½webpacké…ç½®ï¼ˆ<code>webpack.config.js</code>ï¼‰åŒ…å«ä»¥ä¸‹å†…å®¹:</p><ul><li>Entryï¼š<strong>å…¥å£</strong>ï¼ŒWebpack æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥å°†ä» Entry å¼€å§‹ï¼Œå¯æŠ½è±¡æˆè¾“å…¥ã€‚</li><li>Moduleï¼š<strong>æ¨¡å—</strong>ï¼Œåœ¨ Webpack é‡Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ã€‚Webpack ä¼šä»é…ç½®çš„ Entry å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ã€‚</li><li>Chunkï¼š<strong>ä»£ç å—</strong>ï¼Œä¸€ä¸ª Chunk ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²ã€‚</li><li>Loaderï¼š<strong>æ¨¡å—è½¬æ¢å™¨</strong>ï¼Œç”¨äºæŠŠæ¨¡å—åŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹ã€‚</li><li>Pluginï¼š<strong>æ‰©å±•æ’ä»¶</strong>ï¼Œåœ¨ Webpack æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ…ã€‚</li><li>Outputï¼š<strong>è¾“å‡ºç»“æœ</strong>ï¼Œåœ¨ Webpack ç»è¿‡ä¸€ç³»åˆ—å¤„ç†å¹¶å¾—å‡ºæœ€ç»ˆæƒ³è¦çš„ä»£ç åè¾“å‡ºç»“æœã€‚</li></ul><p><strong>ä»é›¶å¼€å§‹é…ç½®</strong></p><h3 id="é¦–å…ˆï¼Œå½“ç„¶æ˜¯éœ€è¦å®‰è£…webpackå·¥å…·"><a href="#é¦–å…ˆï¼Œå½“ç„¶æ˜¯éœ€è¦å®‰è£…webpackå·¥å…·" class="headerlink" title="é¦–å…ˆï¼Œå½“ç„¶æ˜¯éœ€è¦å®‰è£…webpackå·¥å…·"></a>é¦–å…ˆï¼Œå½“ç„¶æ˜¯éœ€è¦å®‰è£…webpackå·¥å…·</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init <span class="params">--yes</span> <span class="string">//</span> ç”Ÿæˆä¸€ä»½package.jsonæ–‡ä»¶ï¼Œæ–¹ä¾¿ç®¡ç†ç‰ˆæœ¬</span><br><span class="line">npm i webpack webpack-cli <span class="params">--save-dev</span> <span class="string">//</span> å®‰è£…webpack</span><br></pre></td></tr></table></figure><p>æœ‰äº† Webpack åï¼Œå°±å¯ä»¥ç›´æ¥è¿è¡Œ webpack å‘½ä»¤æ¥æ‰“åŒ… JS æ¨¡å—ä»£ç </p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">npx webpack</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒWebpack ä¼šè‡ªåŠ¨ä» <code>src/index.js</code> æ–‡ä»¶å¼€å§‹æ‰“åŒ…ï¼Œç„¶åæ ¹æ®ä»£ç ä¸­çš„æ¨¡å—å¯¼å…¥æ“ä½œï¼Œè‡ªåŠ¨å°†æ‰€æœ‰ç”¨åˆ°çš„æ¨¡å—ä»£ç æ‰“åŒ…åˆ°ä¸€èµ·ã€‚å®Œæˆä¹‹åï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ä¼šå‡ºç°åœ¨<code>dist</code>æ–‡ä»¶å¤¹é‡Œçš„<code>main.js</code>æ–‡ä»¶</p><ul><li><strong>ä¸€ä¸ªå°tipsï¼šè®©vs codeæ”¯æŒwebpackæ™ºèƒ½æç¤º</strong><br>æˆ‘ä»¬é€šè¿‡ import çš„æ–¹å¼å¯¼å…¥ Webpack æ¨¡å—ä¸­çš„ Configuration ç±»å‹ï¼Œç„¶åæ ¹æ®ç±»å‹æ³¨é‡Šçš„æ–¹å¼å°†å˜é‡æ ‡æ³¨ä¸ºè¿™ä¸ªç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ç¼–å†™è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨ç»“æ„æ—¶å°±å¯ä»¥æœ‰æ­£ç¡®çš„æ™ºèƒ½æç¤ºäº†<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Configuration &#125; <span class="keyword">from</span> <span class="string">'webpack'</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;Configuration&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…æ˜¯è¿™ç§å†™æ³•</span></span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;import('webpack').Configuration&#125;</span> </span>*/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// some config</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ³¨æ„ï¼šåœ¨é…ç½®å®Œæˆåè®°å¾—æ³¨é‡Šæ‰è¿™æ®µimportä»£ç ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå‡ºé”™ã€‚å› ä¸ºnodeç¯å¢ƒè¿˜ä¸æ”¯æŒimportè¯­å¥</strong></p><h3 id="å¯ä»¥å¼€å§‹è‡ªå®šä¹‰é…ç½®webpackäº†"><a href="#å¯ä»¥å¼€å§‹è‡ªå®šä¹‰é…ç½®webpackäº†" class="headerlink" title="å¯ä»¥å¼€å§‹è‡ªå®šä¹‰é…ç½®webpackäº†"></a>å¯ä»¥å¼€å§‹è‡ªå®šä¹‰é…ç½®webpackäº†</h3><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šæœ‰ä¸€äº›è‡ªå®šä¹‰çš„éœ€æ±‚ï¼Œå› æ­¤ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶æ¥è‡ªå®šä¹‰é…ç½®webpackã€‚<br>webpack.config.js æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ Node.js ç¯å¢ƒä¸­çš„ JS æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦æŒ‰ç…§ CommonJS çš„æ–¹å¼ç¼–å†™ä»£ç ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰€å¯¼å‡ºå¯¹è±¡çš„å±æ€§å®Œæˆç›¸åº”çš„é…ç½®é€‰é¡¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// some config</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰å…¥å£æ–‡ä»¶-entry-å’Œè¾“å‡ºç»“æœ-output"><a href="#è‡ªå®šä¹‰å…¥å£æ–‡ä»¶-entry-å’Œè¾“å‡ºç»“æœ-output" class="headerlink" title="è‡ªå®šä¹‰å…¥å£æ–‡ä»¶(entry)å’Œè¾“å‡ºç»“æœ(output)"></a>è‡ªå®šä¹‰å…¥å£æ–‡ä»¶(<code>entry</code>)å’Œè¾“å‡ºç»“æœ(<code>output</code>)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">   entry: <span class="string">'./src/main.js'</span>, <span class="comment">// @å…¥å£æ–‡ä»¶ string | object | array</span></span><br><span class="line">   output:&#123;                <span class="comment">// @è¾“å‡ºé€‰é¡¹ï¼š</span></span><br><span class="line">        filename: <span class="string">'[name].[hash].js'</span>, <span class="comment">// æ–‡ä»¶åï¼š string</span></span><br><span class="line">        path: path.join(__dirname, <span class="string">'output'</span>), <span class="comment">// æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„å‡ºå£ç›®å½•</span></span><br><span class="line">        publicPath: <span class="string">"/assets/"</span>, <span class="comment">// æ„å»ºæ–‡ä»¶çš„è¾“å‡ºç›®å½•</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="built_in">module</span>:&#123;&#125;,</span><br><span class="line">   plugins:[],</span><br><span class="line">   devServer:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç†æƒ³å¼€å‘æ¨¡å¼"><a href="#ç†æƒ³å¼€å‘æ¨¡å¼" class="headerlink" title="ç†æƒ³å¼€å‘æ¨¡å¼"></a>ç†æƒ³å¼€å‘æ¨¡å¼</h4><p>å¦‚æœæˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å®Œä»£ç ï¼Œéƒ½æ˜¯é€šè¿‡å‘½ä»¤è¡Œæ‰‹åŠ¨é‡å¤è¿è¡Œ Webpack å‘½ä»¤ï¼Œä»è€Œå¾—åˆ°æœ€æ–°çš„æ‰“åŒ…ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ“ä½œè¿‡ç¨‹æ ¹æœ¬æ²¡æœ‰ä»»ä½•å¼€å‘ä½“éªŒå¯è¨€ã€‚<br>ç†æƒ³çš„å¼€å‘æ¨¡å¼åº”è¯¥æ˜¯ï¼šä¿®æ”¹ä»£ç  â†’ Webpack è‡ªåŠ¨æ‰“åŒ… â†’ è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ â†’ é¢„è§ˆè¿è¡Œç»“æœ</p><h5 id="æ›²çº¿æ•‘å›½æ–¹æ¡ˆï¼š"><a href="#æ›²çº¿æ•‘å›½æ–¹æ¡ˆï¼š" class="headerlink" title="æ›²çº¿æ•‘å›½æ–¹æ¡ˆï¼š"></a>æ›²çº¿æ•‘å›½æ–¹æ¡ˆï¼š</h5><ul><li>Webpack è‡ªåŠ¨æ‰“åŒ…ï¼šåœ¨å¯åŠ¨ Webpack æ—¶ï¼Œæ·»åŠ ä¸€ä¸ª â€“watch çš„ CLI å‚æ•°</li><li>è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼š BrowserSync å°±å¯ä»¥å¸®æˆ‘ä»¬å®ç°æ–‡ä»¶å˜åŒ–è¿‡åæµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°çš„åŠŸèƒ½ã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥å…ˆé€šè¿‡ npm å…¨å±€å®‰è£… browser-sync æ¨¡å—ï¼Œç„¶åå†ä½¿ç”¨è¿™ä¸ªæ¨¡å—</span></span><br><span class="line">npm <span class="keyword">install</span> browser-<span class="keyword">sync</span> <span class="comment">--global</span></span><br><span class="line">browser-<span class="keyword">sync</span> dist <span class="comment">--watch</span></span><br></pre></td></tr></table></figure>å®ƒçš„åŸç†å°±æ˜¯ Webpack ç›‘è§†æºä»£ç å˜åŒ–ï¼Œè‡ªåŠ¨æ‰“åŒ…æºä»£ç åˆ° dist ä¸­ï¼Œè€Œ dist ä¸­æ–‡ä»¶çš„å˜åŒ–åˆè¢« BrowserSync ç›‘å¬äº†ï¼Œä»è€Œå®ç°è‡ªåŠ¨ç¼–è¯‘å¹¶ä¸”è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨çš„åŠŸèƒ½ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”±ä¸¤ä¸ªå·¥å…·åˆ†åˆ«ç›‘è§†ä¸åŒçš„å†…å®¹ã€‚</li></ul><h5 id="é…ç½®å¼€å‘æœåŠ¡å™¨"><a href="#é…ç½®å¼€å‘æœåŠ¡å™¨" class="headerlink" title="é…ç½®å¼€å‘æœåŠ¡å™¨"></a>é…ç½®å¼€å‘æœåŠ¡å™¨</h5><p>webpack-dev-server æ˜¯ Webpack å®˜æ–¹æ¨å‡ºçš„ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå¹¶ä¸”å°†è‡ªåŠ¨ç¼–è¯‘å’Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ç­‰ä¸€ç³»åˆ—å¯¹å¼€å‘å‹å¥½çš„åŠŸèƒ½å…¨éƒ¨é›†æˆåœ¨äº†ä¸€èµ·ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å®‰è£… webpack-dev-<span class="keyword">server</span></span><br><span class="line"> npm install webpack-dev-<span class="keyword">server</span> <span class="comment">--save-dev</span></span><br><span class="line"># è¿è¡Œ webpack-dev-<span class="keyword">server</span>, <span class="comment">--openå‚æ•°ï¼Œç”¨äºè‡ªåŠ¨å”¤èµ·æµè§ˆå™¨æ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨</span></span><br><span class="line"> npx webpack-dev-<span class="keyword">server</span> <span class="comment">--open</span></span><br></pre></td></tr></table></figure><p>é…ç½®é€‰é¡¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: path.resolve(__dirname,<span class="string">"dist"</span>), <span class="comment">// é™æ€æ–‡ä»¶ç›®å½•</span></span><br><span class="line">    port: <span class="number">5000</span>, <span class="comment">// ç«¯å£å·</span></span><br><span class="line">    host: <span class="string">'localhost'</span>,</span><br><span class="line">    contentBase: <span class="string">'public'</span>, <span class="comment">// é™æ€èµ„æºè·¯å¾„è®¿é—®</span></span><br><span class="line">    overlay: <span class="literal">true</span>,</span><br><span class="line">    compress: <span class="literal">true</span> <span class="comment">// æœåŠ¡å™¨è¿”å›æµè§ˆå™¨çš„æ—¶å€™æ˜¯å¦å¯åŠ¨gzipå‹ç¼©</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äº webpack-dev-server æ˜¯ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åº”ç”¨åœ¨å¼€å‘é˜¶æ®µæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ localhost çš„ä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œåç«¯æœåŠ¡åˆæ˜¯è¿è¡Œåœ¨å¦å¤–ä¸€ä¸ªåœ°å€ä¸Šã€‚ä½†æ˜¯æœ€ç»ˆä¸Šçº¿è¿‡åï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¸€èˆ¬åˆä¼šå’Œåç«¯æœåŠ¡éƒ¨ç½²åˆ°åŒæºåœ°å€ä¸‹ã€‚<br>é‚£è¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªéå¸¸å¸¸è§çš„é—®é¢˜ï¼šåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­èƒ½å¤Ÿç›´æ¥è®¿é—®çš„ APIï¼Œå›åˆ°æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒåï¼Œå†æ¬¡è®¿é—®è¿™äº› API å°±ä¼šäº§ç”Ÿ<strong>è·¨åŸŸ</strong>è¯·æ±‚é—®é¢˜ã€‚<br>webpack-dev-server å°±æ”¯æŒç›´æ¥é€šè¿‡é…ç½®çš„æ–¹å¼ï¼Œæ·»åŠ ä»£ç†æœåŠ¡ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">'/api'</span>: &#123; <span class="comment">// </span></span><br><span class="line">        target: <span class="string">'https://www.xxx.com'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¯·æ±‚ <a href="http://localhost:8080/api/users" target="_blank" rel="noopener">http://localhost:8080/api/users</a> â€“&gt; <a href="https://www.xxx.com/api/usersã€‚" target="_blank" rel="noopener">https://www.xxx.com/api/usersã€‚</a><br>å¦‚æœå¸Œæœ›è¯·æ±‚çš„åœ°å€æ˜¯ <a href="https://www.xxx.com/users" target="_blank" rel="noopener">https://www.xxx.com/users</a> ï¼Œæ‰€ä»¥å¯¹äºä»£ç†è·¯å¾„å¼€å¤´çš„ /api è¦é‡å†™æ‰ã€‚æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ª <code>pathRewrite</code> å±æ€§æ¥å®ç°ä»£ç†è·¯å¾„é‡å†™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">'/api'</span>: &#123; <span class="comment">// </span></span><br><span class="line">        target: <span class="string">'https://www.xxx.com'</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">''</span> <span class="comment">// æ›¿æ¢æ‰ä»£ç†åœ°å€ä¸­çš„ /api</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ä¼šä»¥å®é™…ä»£ç†è¯·æ±‚åœ°å€ä¸­çš„ä¸»æœºåå»è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯æ­£å¸¸è¯·æ±‚è¿™ä¸ªåœ°å€çš„ä¸»æœºåæ˜¯ä»€ä¹ˆï¼Œå®é™…è¯·æ±‚ xxx æ—¶å°±ä¼šè®¾ç½®æˆä»€ä¹ˆã€‚</span></span><br><span class="line">         changeOrigin: <span class="literal">true</span>,</span><br><span class="line">         </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¯·æ±‚ <a href="http://localhost:8080/api/users" target="_blank" rel="noopener">http://localhost:8080/api/users</a> â€“&gt; <a href="https://wwww.xxx.com/usersã€‚" target="_blank" rel="noopener">https://wwww.xxx.com/usersã€‚</a></p><h5 id="è¿™æ ·çš„é…ç½®ä»£ç æ‰èƒ½è°ƒè¯•"><a href="#è¿™æ ·çš„é…ç½®ä»£ç æ‰èƒ½è°ƒè¯•" class="headerlink" title="è¿™æ ·çš„é…ç½®ä»£ç æ‰èƒ½è°ƒè¯•"></a>è¿™æ ·çš„é…ç½®ä»£ç æ‰èƒ½è°ƒè¯•</h5><p>è¿è¡Œwebpackå‘½ä»¤åï¼Œæ‰“å¼€è°ƒè¯•å™¨æŸ¥çœ‹æºä»£ç ï¼Œä¼šå‘ç°source/index.jséƒ½æ˜¯å‹ç¼©è¿‡çš„ä»£ç ï¼Œéš¾ä»¥è¿›è¡Œè°ƒè¯•ï¼ˆæ¯”å¦‚æ‰“æ–­ç‚¹ï¼‰ã€‚<br>é€šè¿‡Source Mapå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆåŸç†å¤§æ¦‚å°±æ˜¯é€†å‘è½¬è¯‘æˆæºç ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devtool: <span class="string">'source-map'</span> <span class="comment">// source map è®¾ç½®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>source-map: æŠŠæ˜ å°„æ–‡ä»¶ç”Ÿæˆåˆ°å•ç‹¬çš„æ–‡ä»¶ï¼Œæœ€å®Œæ•´æœ€æ…¢</li><li>cheap-module-source-map: åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªä¸å¸¦åˆ—æ˜ å°„çš„Map</li><li>eval-source-map: ä½¿ç”¨evalæ‰“åŒ…æºæ–‡ä»¶æ¨¡å—,åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ç”Ÿæˆå®Œæ•´sourcemap</li><li>cheap-module-eval-source-map: sourcemapå’Œæ‰“åŒ…åçš„JSåŒè¡Œæ˜¾ç¤ºï¼Œæ²¡æœ‰æ˜ å°„åˆ—<br>ç°é˜¶æ®µ Webpack æ”¯æŒçš„ Source Map æ¨¡å¼æœ‰å¾ˆå¤šç§ã€‚æ¯ç§æ¨¡å¼ä¸‹æ‰€ç”Ÿæˆçš„ Source Map æ•ˆæœå’Œç”Ÿæˆé€Ÿåº¦éƒ½ä¸ä¸€æ ·<br>å¯ä»¥ä»<a href="https://webpack.js.org/configuration/devtool/#devtool" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>å‚è€ƒä¸åŒæ¨¡å¼çš„æ•ˆç‡ã€‚</li></ul><blockquote><p>tipï¼š Evalæ¨¡å¼<br>Webpack ä¼šå°†æ¯ä¸ªæ¨¡å—è½¬æ¢åçš„ä»£ç éƒ½æ”¾åˆ° eval å‡½æ•°ä¸­æ‰§è¡Œï¼Œå¹¶ä¸”é€šè¿‡ sourceURL å£°æ˜å¯¹åº”çš„æ–‡ä»¶è·¯å¾„ï¼Œè¿™æ ·æµè§ˆå™¨å°±èƒ½çŸ¥é“æŸä¸€è¡Œä»£ç åˆ°åº•æ˜¯åœ¨æºä»£ç çš„å“ªä¸ªæ–‡ä»¶ä¸­ã€‚å› ä¸ºåœ¨ eval æ¨¡å¼ä¸‹å¹¶ä¸ä¼šç”Ÿæˆ Source Mapæ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒçš„æ„å»ºé€Ÿåº¦æœ€å¿«ï¼Œä½†æ˜¯ç¼ºç‚¹åŒæ ·æ˜æ˜¾ï¼šå®ƒåªèƒ½å®šä½æºä»£ç çš„æ–‡ä»¶è·¯å¾„ï¼Œæ— æ³•çŸ¥é“å…·ä½“çš„è¡Œåˆ—ä¿¡æ¯ã€‚</p></blockquote><h5 id="è¿™æ ·çš„é…ç½®è°ƒè¯•èµ·æ¥æ›´æ–¹ä¾¿"><a href="#è¿™æ ·çš„é…ç½®è°ƒè¯•èµ·æ¥æ›´æ–¹ä¾¿" class="headerlink" title="è¿™æ ·çš„é…ç½®è°ƒè¯•èµ·æ¥æ›´æ–¹ä¾¿"></a>è¿™æ ·çš„é…ç½®è°ƒè¯•èµ·æ¥æ›´æ–¹ä¾¿</h5><p>è§£å†³å®Œå¼€å‘ç¯å¢ƒä¼šäº§ç”Ÿçš„è·¨åŸŸå’Œæºç ä¸å¯æš´éœ²è°ƒè¯•çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ä¸ªå¸¸è§çš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ã€‚<br>åœ¨è°ƒè¯•ä¸­ï¼Œç»å¸¸é‡åˆ°å› ä¸ºä¿®æ”¹äº†ä¸€å¤„å°ç»†èŠ‚ï¼ˆæ¯”å¦‚cssæ ·å¼ï¼‰ï¼Œè°ƒæ•´åï¼ŒåŸºäºä¸Šé¢çš„è®¾ç½®ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œé‚£å‰é¢è°ƒè¯•çš„æ­¥éª¤å°±ä¼šä¸¢å¤±ï¼Œåˆè¦é‡å¤å»è¿›è¡Œè°ƒè¯•æ­¥éª¤ã€‚</p><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ï¼Œæ˜¯å› ä¸º<strong>æˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å®Œä»£ç ï¼ŒWebpack éƒ½å¯ä»¥ç›‘è§†åˆ°å˜åŒ–ï¼Œç„¶åè‡ªåŠ¨æ‰“åŒ…ï¼Œå†é€šçŸ¥æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ï¼Œä¸€æ—¦é¡µé¢æ•´ä½“åˆ·æ–°ï¼Œé‚£é¡µé¢ä¸­çš„ä»»ä½•æ“ä½œçŠ¶æ€éƒ½å°†ä¼šä¸¢å¤±</strong>ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°æˆ‘ä»¬ä¸Šé¢æ‰€çœ‹åˆ°çš„æƒ…å†µã€‚</p><p>å¦‚æœèƒ½å¤Ÿå®ç°åœ¨é¡µé¢ä¸åˆ·æ–°çš„æƒ…å†µä¸‹ï¼Œä»£ç ä¹Ÿå¯ä»¥åŠæ—¶çš„æ›´æ–°åˆ°æµè§ˆå™¨çš„é¡µé¢ä¸­ï¼Œé‡æ–°æ‰§è¡Œï¼Œé¿å…é¡µé¢çŠ¶æ€ä¸¢å¤±ï¼Œé‚£å°±æœ€å¥½äº†ï¼<br><strong><code>æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰</code></strong>å°±å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ï¼</p><p>ä½¿ç”¨è¿™ä¸ªç‰¹æ€§æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ï¼Œåœ¨è¿è¡Œ <code>webpack-dev-server</code> å‘½ä»¤æ—¶ï¼Œé€šè¿‡<code>--hot</code>å‚æ•°å»å¼€å¯è¿™ä¸ªç‰¹æ€§<br>æˆ–è€…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    <span class="comment">// å¼€å¯ HMR ç‰¹æ€§ï¼Œå¦‚æœèµ„æºä¸æ”¯æŒ HMR ä¼š fallback åˆ° live reloading</span></span><br><span class="line">    hot: <span class="literal">true</span></span><br><span class="line">    <span class="comment">// åªä½¿ç”¨ HMRï¼Œä¸ä¼š fallback åˆ° live reloading</span></span><br><span class="line">    <span class="comment">// hotOnly: true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="comment">// HMR ç‰¹æ€§æ‰€éœ€è¦çš„æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºcssæ–‡ä»¶çš„çƒ­æ›¿æ¢ï¼Œä¸ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œå¯¹äºjsæ–‡ä»¶çš„çƒ­æ›¿æ¢ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨é…åˆwebpack</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.hot.accept(<span class="string">'./user'</span>, () =&gt; &#123;</span><br><span class="line">   <span class="comment">// å›¾ç‰‡çš„çƒ­æ›¿æ¢ä¹Ÿæ˜¯ä¸€æ ·çš„å†™æ³•</span></span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤"><a href="#é…ç½®ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤" class="headerlink" title="é…ç½®ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤"></a>é…ç½®ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤</h4><p>é€šè¿‡ä¿®æ”¹<code>package.json</code>ï¼Œå¯ä»¥ç®€åŒ–åœ¨ä¸åŒç¯å¢ƒä¸‹è¦æ‰§è¡Œçš„æ‰“åŒ…ä»»åŠ¡</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"script"</span>: &#123;</span><br><span class="line">    <span class="string">"build"</span>: <span class="string">"webpack --mode production"</span>, <span class="comment">// å¼€å¯ä»£ç å‹ç¼©ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-sever --open --mode development"</span> <span class="comment">// çƒ­åŠ è½½ï¼Œç”¨äºå¼€å‘ç¯å¢ƒ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ”¯æŒå„ç§æ¡†æ¶å’Œé¢„ç¼–è¯‘è¯­è¨€"><a href="#æ”¯æŒå„ç§æ¡†æ¶å’Œé¢„ç¼–è¯‘è¯­è¨€" class="headerlink" title="æ”¯æŒå„ç§æ¡†æ¶å’Œé¢„ç¼–è¯‘è¯­è¨€"></a>æ”¯æŒå„ç§æ¡†æ¶å’Œé¢„ç¼–è¯‘è¯­è¨€</h4><ul><li><p>å¤„ç†cssï¼Œsassï¼Œä»¥åŠcss3å±æ€§å‰ç¼€</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cmd</span></span><br><span class="line">npm install style-loader css-loader postcss-loader autoprefixer -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack.config.json</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">module</span>: &#123;</span><br><span class="line">        rules:[</span><br><span class="line">            <span class="comment">// å¤„ç†css</span></span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                include: path.resolve(__dirname,<span class="string">'src'</span>), <span class="comment">// é™åˆ¶èŒƒå›´ï¼Œæé«˜æ‰“åŒ…é€Ÿåº¦</span></span><br><span class="line">                use: [</span><br><span class="line">                    <span class="comment">// å¤šä¸ªloaderæ˜¯æœ‰é¡ºåºçš„ï¼Œä»åå¾€å‰å†™</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"style-loader"</span>,</span><br><span class="line">                        options:&#123;</span><br><span class="line">                            singleton: <span class="literal">true</span> <span class="comment">// å¤„ç†ä¸ºå•ä¸ªstyleæ ‡ç­¾</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"css-loader"</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"postcss-loader"</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// å¤„ç†scssæ–‡ä»¶ï¼šå°†sassç¼–è¯‘æˆcssï¼Œå†å°†cssè½¬æˆCommonJSæ¨¡å—ï¼Œå†å°†jså­—ç¬¦ä¸²è½¬æˆstyleèŠ‚ç‚¹</span></span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">                use:[<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>,<span class="string">'sass-loader'</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†csså‰ç¼€ï¼šæ–°å»ºä¸€ä¸ªpostcss.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ”¯æŒES6,react,vue</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cmd</span></span><br><span class="line">npm install babel-loader <span class="meta">@babel</span>/core <span class="meta">@babel</span>/preset-env <span class="meta">@babel</span>/preset-react -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack.config.json</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">module</span>: &#123;</span><br><span class="line">        rules:[</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"babel-loader"</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// .babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [<span class="string">"@babel/core"</span>, <span class="string">"@babel/preset-env"</span>, <span class="string">"@babel/preset-react"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å¸¸è§çš„åŠ åˆ†é…ç½®"><a href="#å¸¸è§çš„åŠ åˆ†é…ç½®" class="headerlink" title="å¸¸è§çš„åŠ åˆ†é…ç½®"></a>å¸¸è§çš„åŠ åˆ†é…ç½®</h4><ul><li>æå–cssæ–‡ä»¶ä¸ºå•ç‹¬æ–‡ä»¶</li><li>äº§å‡ºhtml</li><li>å¤„ç†å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå°†ç¬¬ä¸‰æ–¹åº“å…¨å±€å˜é‡æš´éœ²å‡ºæ¥ä½¿ç”¨</li><li>æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</li><li>å›¾ç‰‡å¤„ç†ï¼š å°†å°å›¾ç‰‡ä½¿ç”¨base64ç¼–ç ï¼Œå¤§å›¾ç‰‡ä½¿ç”¨file-loader</li><li>å…¨å±€æ³¨å…¥ç¯å¢ƒå˜é‡ï¼šç¼–è¯‘çš„æ—¶å€™å°†å®šä¹‰çš„å˜é‡æ›¿æ¢æˆå¯¹åº”çš„å­—ç¬¦ä¸²</li></ul><h3 id="webpackè¿›é˜¶éƒ¨åˆ†"><a href="#webpackè¿›é˜¶éƒ¨åˆ†" class="headerlink" title="webpackè¿›é˜¶éƒ¨åˆ†"></a>webpackè¿›é˜¶éƒ¨åˆ†</h3><h4 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h4><p>æ‘‡åˆ°æœªå¼•ç”¨å’Œå†—ä½™çš„ä»£ç ï¼Œä½¿ç”¨ Webpack ç”Ÿäº§æ¨¡å¼æ‰“åŒ…çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå°±ä½¿ç”¨è‡ªåŠ¨å¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚<br>Tree-shaking çš„æœ¬èº«æ²¡æœ‰å¤ªå¤šéœ€è¦ä½ ç†è§£å’Œæ€è€ƒçš„åœ°æ–¹ï¼Œä½ åªéœ€è¦äº†è§£å®ƒçš„æ•ˆæœï¼Œä»¥åŠç›¸å…³çš„é…ç½®å³å¯ã€‚</p><h4 id="sideEffects"><a href="#sideEffects" class="headerlink" title="sideEffects"></a>sideEffects</h4><p>Webpack 4 ä¸­æ–°å¢äº†ä¸€ä¸ª sideEffects ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡é…ç½®æ ‡è¯†æˆ‘ä»¬çš„ä»£ç æ˜¯å¦æœ‰å‰¯ä½œç”¨ï¼Œä»è€Œæä¾›æ›´å¤§çš„å‹ç¼©ç©ºé—´ã€‚</p><blockquote><p>TIPSï¼šæ¨¡å—çš„å‰¯ä½œç”¨æŒ‡çš„å°±æ˜¯æ¨¡å—æ‰§è¡Œçš„æ—¶å€™é™¤äº†å¯¼å‡ºæˆå‘˜ï¼Œæ˜¯å¦è¿˜åšäº†å…¶ä»–çš„äº‹æƒ…<br>Tree-shaking åªèƒ½ç§»é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æˆå‘˜ï¼Œè€Œæƒ³è¦å®Œæ•´ç§»é™¤æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ï¼Œé‚£å°±éœ€è¦å¼€å¯ sideEffects ç‰¹æ€§äº†ã€‚<br>TIPSï¼šæ³¨æ„è¿™ä¸ªç‰¹æ€§åœ¨ production æ¨¡å¼ä¸‹åŒæ ·ä¼šè‡ªåŠ¨å¼€å¯ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'none'</span>,</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    sideEffects: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sideEffects å¯èƒ½éœ€è¦èŠ±ç‚¹æ—¶é—´å»ç†è§£ä¸€ä¸‹ï¼Œé‡ç‚¹å°±æ˜¯æƒ³æ˜ç™½å“ªäº›å‰¯ä½œç”¨ä»£ç æ˜¯å¯ä»¥éšç€æ¨¡å—çš„ç§»é™¤è€Œç§»é™¤ï¼Œå“ªäº›åˆæ˜¯ä¸å¯ä»¥ç§»é™¤çš„ã€‚æ€»ç»“ä¸‹æ¥å…¶å®ä¹Ÿå¾ˆç®€å•ï¼šå¯¹å…¨å±€æœ‰å½±å“çš„å‰¯ä½œç”¨ä»£ç ä¸èƒ½ç§»é™¤ï¼Œè€Œåªæ˜¯å¯¹æ¨¡å—æœ‰å½±å“çš„å‰¯ä½œç”¨ä»£ç å°±å¯ä»¥ç§»é™¤ã€‚<br>æ‰€ä»¥ï¼Œ<strong>å°½å¯èƒ½ä¸è¦å†™å½±å“å…¨å±€çš„å‰¯ä½œç”¨ä»£ç </strong>ã€‚</p><h4 id="Code-Splittingï¼ˆä»£ç åˆ†å‰²ï¼‰"><a href="#Code-Splittingï¼ˆä»£ç åˆ†å‰²ï¼‰" class="headerlink" title="Code Splittingï¼ˆä»£ç åˆ†å‰²ï¼‰"></a>Code Splittingï¼ˆä»£ç åˆ†å‰²ï¼‰</h4><p>ä¸ºäº†è§£å†³æ‰“åŒ…ç»“æœè¿‡å¤§å¯¼è‡´çš„é—®é¢˜ï¼Œwebpackæä¾›äº†ä¸€ç§åˆ†åŒ…åŠŸèƒ½â€”â€”â€”â€”ä»£ç åˆ†å‰²</p><ul><li><p>å¤šå…¥å£æ‰“åŒ…<br>åˆ’åˆ†è§„åˆ™å°±æ˜¯ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªæ‰“åŒ…å…¥å£ï¼Œå¯¹äºä¸åŒé¡µé¢é—´å…¬ç”¨çš„éƒ¨åˆ†ï¼Œå†æå–åˆ°å…¬å…±çš„ç»“æœä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    album: <span class="string">'./src/album.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span> <span class="comment">// [name] æ˜¯å…¥å£åç§°</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ... å…¶ä»–é…ç½®</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Multi Entry'</span>,</span><br><span class="line">      template: <span class="string">'./src/index.html'</span>,</span><br><span class="line">      filename: <span class="string">'index.html'</span>,</span><br><span class="line">      chunks: [<span class="string">'index'</span>] <span class="comment">// æŒ‡å®šä½¿ç”¨ index.bundle.js</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Multi Entry'</span>,</span><br><span class="line">      template: <span class="string">'./src/album.html'</span>,</span><br><span class="line">      filename: <span class="string">'album.html'</span>,</span><br><span class="line">      chunks: [<span class="string">'album'</span>] <span class="comment">// æŒ‡å®šä½¿ç”¨ album.bundle.js</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬ entry å±æ€§ä¸­åªä¼šé…ç½®ä¸€ä¸ªæ‰“åŒ…å…¥å£ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦é…ç½®å¤šä¸ªå…¥å£ï¼Œå¯ä»¥æŠŠ entry å®šä¹‰æˆä¸€ä¸ªå¯¹è±¡ã€‚ä¸€æ—¦æˆ‘ä»¬çš„å…¥å£é…ç½®ä¸ºå¤šå…¥å£å½¢å¼ï¼Œé‚£è¾“å‡ºæ–‡ä»¶åä¹Ÿéœ€è¦ä¿®æ”¹ï¼Œå› ä¸ºä¸¤ä¸ªå…¥å£å°±æœ‰ä¸¤ä¸ªæ‰“åŒ…ç»“æœï¼Œä¸èƒ½éƒ½å« bundle.jsã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ [name] è¿™ç§å ä½ç¬¦æ¥è¾“å‡ºåŠ¨æ€çš„æ–‡ä»¶åï¼Œ[name] æœ€ç»ˆä¼šè¢«æ›¿æ¢ä¸ºå…¥å£çš„åç§°ã€‚</p></li><li><p>æŠ½å–å…¬å…±æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;&#125;,</span><br><span class="line">  output: &#123;&#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      <span class="comment">// è‡ªåŠ¨æå–æ‰€æœ‰å…¬å…±æ¨¡å—åˆ°å•ç‹¬ bundle</span></span><br><span class="line">      chunks: <span class="string">'all'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>æŠ€èƒ½ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¨‹åºå‘˜å¿…å¤‡ç®—æ³•åŸºç¡€</title>
    <link href="/2020/09/18/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BF%85%E5%A4%87%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"/>
    <url>/2020/09/18/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BF%85%E5%A4%87%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€-å¤æ‚åº¦"><a href="#ä¸€-å¤æ‚åº¦" class="headerlink" title="ä¸€.å¤æ‚åº¦"></a>ä¸€.å¤æ‚åº¦</h3><h4 id="1-å¤æ‚åº¦æ˜¯ä»€ä¹ˆ"><a href="#1-å¤æ‚åº¦æ˜¯ä»€ä¹ˆ" class="headerlink" title="1. å¤æ‚åº¦æ˜¯ä»€ä¹ˆ"></a>1. å¤æ‚åº¦æ˜¯ä»€ä¹ˆ</h4><p><strong>å¤æ‚åº¦</strong>æ˜¯è¡¡é‡ä»£ç è¿è¡Œæ•ˆç‡çš„é‡è¦çš„åº¦é‡å› ç´ ã€‚<br>å…ˆçœ‹ä¸€ä¸‹<strong>å¤æ‚åº¦</strong>å’Œè®¡ç®—æœº<strong>å®é™…ä»»åŠ¡å¤„ç†æ•ˆç‡</strong>çš„å…³ç³»ï¼Œä»è€Œäº†è§£é™ä½å¤æ‚åº¦çš„å¿…è¦æ€§ã€‚</p><p>è®¡ç®—æœºé€šè¿‡ä¸€ä¸ªä¸ªç¨‹åºå»æ‰§è¡Œè®¡ç®—ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯å¯¹è¾“å…¥æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œå¹¶æœ€ç»ˆå¾—åˆ°ç»“æœçš„è¿‡ç¨‹ã€‚æ¯ä¸ªç¨‹åºéƒ½æ˜¯ç”±ä»£ç æ„æˆçš„ã€‚å¯è§ï¼Œç¼–å†™ä»£ç çš„æ ¸å¿ƒå°±æ˜¯è¦å®Œæˆè®¡ç®—ã€‚ä½†å¯¹äºåŒä¸€ä¸ªè®¡ç®—ä»»åŠ¡ï¼Œä¸åŒè®¡ç®—æ–¹æ³•å¾—åˆ°ç»“æœçš„è¿‡ç¨‹å¤æ‚ç¨‹åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å¯¹ä½ å®é™…çš„ä»»åŠ¡å¤„ç†æ•ˆç‡å°±æœ‰äº†éå¸¸å¤§çš„å½±å“ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œä½ è¦åœ¨ä¸€ä¸ªåœ¨çº¿ç³»ç»Ÿä¸­å®æ—¶å¤„ç†æ•°æ®ã€‚å‡è®¾è¿™ä¸ªç³»ç»Ÿå¹³å‡æ¯åˆ†é’Ÿä¼šæ–°å¢ 300M çš„æ•°æ®é‡ã€‚å¦‚æœä½ çš„ä»£ç ä¸èƒ½åœ¨ 1 åˆ†é’Ÿå†…å®Œæˆå¯¹è¿™ 300M æ•°æ®çš„å¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªç³»ç»Ÿå°±ä¼šå‘ç”Ÿæ—¶é—´çˆ†ç‚¸å’Œç©ºé—´çˆ†ç‚¸ã€‚è¡¨ç°å°±æ˜¯ï¼Œç”µè„‘æ‰§è¡Œè¶Šæ¥è¶Šæ…¢ï¼Œç›´åˆ°æ­»æœºã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®²ç©¶åˆç†çš„è®¡ç®—æ–¹æ³•ï¼Œå»é€šè¿‡å°½å¯èƒ½ä½å¤æ‚ç¨‹åº¦çš„ä»£ç å®Œæˆè®¡ç®—ä»»åŠ¡ã€‚</p><p>é‚£å¦‚ä½•é™ä½å¤æ‚ç¨‹åº¦å‘¢ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“æ€ä¹ˆè¡¡é‡å¤æ‚åº¦ã€‚è€Œåœ¨å®é™…è¡¡é‡æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå›´ç»•ä»¥ä¸‹2 ä¸ªç»´åº¦è¿›è¡Œã€‚<br>é¦–å…ˆï¼Œ<em>è¿™æ®µä»£ç æ¶ˆè€—çš„èµ„æºæ˜¯ä»€ä¹ˆ</em>ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæ¶ˆè€—è®¡ç®—æ—¶é—´å’Œè®¡ç®—ç©ºé—´ï¼Œé‚£éœ€è¦è¡¡é‡çš„å°±æ˜¯</p><ul><li>æ—¶é—´å¤æ‚åº¦</li><li>ç©ºé—´å¤æ‚åº¦ã€‚</li></ul><p>å…¶æ¬¡ï¼Œ<em>è¿™æ®µä»£ç å¯¹äºèµ„æºçš„æ¶ˆè€—æ˜¯å¤šå°‘</em>ã€‚ä¸èƒ½åªçœ‹å½“å‰èµ„æºæ¶ˆè€—äº†å¤šå°‘ï¼Œå› ä¸ºä¸ç®¡æ˜¯æ—¶é—´è¿˜æ˜¯ç©ºé—´ï¼Œå®ƒä»¬çš„æ¶ˆè€—éƒ½å’Œè¾“å…¥é‡æœ‰å¾ˆå¤§å…³ç³»ã€‚ä¸ºäº†æ›´å®¢è§‚åœ°è¡¡é‡æ¶ˆè€—ç¨‹åº¦ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå…³æ³¨æ—¶é—´æˆ–è€…<strong>ç©ºé—´æ¶ˆè€—é‡</strong>ä¸<strong>è¾“å…¥æ•°æ®é‡</strong>ä¹‹é—´çš„å…³ç³»ã€‚</p><p>å¤æ‚åº¦æ˜¯ä¸€ä¸ªå…³äºè¾“å…¥æ•°æ®é‡ n çš„å‡½æ•°ã€‚å‡è®¾ä½ çš„ä»£ç å¤æ‚åº¦æ˜¯ f(n)ï¼Œå³ O(f(n))ã€‚ä¾‹å¦‚ï¼ŒO(n) è¡¨ç¤ºçš„æ˜¯ï¼Œå¤æ‚åº¦ä¸è®¡ç®—å®ä¾‹çš„ä¸ªæ•° n çº¿æ€§ç›¸å…³ï¼›O(logn) è¡¨ç¤ºçš„æ˜¯ï¼Œå¤æ‚åº¦ä¸è®¡ç®—å®ä¾‹çš„ä¸ªæ•° n å¯¹æ•°ç›¸å…³ã€‚</p><p>é€šå¸¸ï¼Œå¤æ‚åº¦çš„è®¡ç®—æ–¹æ³•éµå¾ªä»¥ä¸‹å‡ ä¸ªåŸåˆ™ï¼š</p><ul><li>é¦–å…ˆï¼Œå¤æ‚åº¦ä¸å…·ä½“çš„å¸¸ç³»æ•°æ— å…³ï¼Œä¾‹å¦‚ O(n) å’Œ O(2n) è¡¨ç¤ºçš„æ˜¯åŒæ ·çš„å¤æ‚åº¦ã€‚æˆ‘ä»¬è¯¦ç»†åˆ†æä¸‹ï¼ŒO(2n) ç­‰äº O(n+n)ï¼Œä¹Ÿç­‰äº O(n) + O(n)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ®µ O(n) å¤æ‚åº¦çš„ä»£ç åªæ˜¯å…ˆåæ‰§è¡Œä¸¤é O(n)ï¼Œå…¶å¤æ‚åº¦æ˜¯ä¸€è‡´çš„ã€‚</li><li>å…¶æ¬¡ï¼Œå¤šé¡¹å¼çº§çš„å¤æ‚åº¦ç›¸åŠ çš„æ—¶å€™ï¼Œé€‰æ‹©é«˜è€…ä½œä¸ºç»“æœï¼Œä¾‹å¦‚ O(nÂ²)+O(n) å’Œ O(nÂ²) è¡¨ç¤ºçš„æ˜¯åŒæ ·çš„å¤æ‚åº¦ã€‚å…·ä½“åˆ†æä¸€ä¸‹å°±æ˜¯ï¼ŒO(nÂ²)+O(n) = O(nÂ²+n)ã€‚éšç€ n è¶Šæ¥è¶Šå¤§ï¼ŒäºŒé˜¶å¤šé¡¹å¼çš„å˜åŒ–ç‡æ˜¯è¦æ¯”ä¸€é˜¶å¤šé¡¹å¼æ›´å¤§çš„ã€‚å› æ­¤ï¼Œåªéœ€è¦é€šè¿‡æ›´å¤§å˜åŒ–ç‡çš„äºŒé˜¶å¤šé¡¹å¼æ¥è¡¨å¾å¤æ‚åº¦å°±å¯ä»¥äº†ã€‚</li></ul><blockquote><p>O(1) ä¹Ÿæ˜¯è¡¨ç¤ºä¸€ä¸ªç‰¹æ®Šå¤æ‚åº¦ï¼Œå«ä¹‰ä¸ºæŸä¸ªä»»åŠ¡é€šè¿‡æœ‰é™å¯æ•°çš„èµ„æºå³å¯å®Œæˆã€‚æ­¤å¤„æœ‰é™å¯æ•°çš„å…·ä½“æ„ä¹‰æ˜¯:æ•°æ®é‡å¤šå°‘å’Œèµ„æºæ¶ˆè€—æ— å…³ã€‚</p></blockquote><h4 id="2-æ—¶é—´å¤æ‚åº¦ä¸ä»£ç ç»“æ„çš„å…³ç³»"><a href="#2-æ—¶é—´å¤æ‚åº¦ä¸ä»£ç ç»“æ„çš„å…³ç³»" class="headerlink" title="2.æ—¶é—´å¤æ‚åº¦ä¸ä»£ç ç»“æ„çš„å…³ç³»"></a>2.æ—¶é—´å¤æ‚åº¦ä¸ä»£ç ç»“æ„çš„å…³ç³»</h4><p>ä»£ç çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸ä»£ç çš„ç»“æ„æœ‰éå¸¸å¼ºçš„å…³ç³»ã€‚ä¸¾ä¸ªæ —å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMaxVal</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max_val = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &gt; max_val) &#123;</span><br><span class="line">            max_val = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max_val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æš‚å­˜å½“å‰æœ€å¤§å€¼å¹¶æŠŠæ‰€æœ‰å…ƒç´ éå†ä¸€éå³å¯ã€‚å› ä¸ºä»£ç çš„ç»“æ„ä¸Šéœ€è¦ä½¿ç”¨ä¸€ä¸ª for å¾ªç¯ï¼Œå¯¹æ•°ç»„æ‰€æœ‰å…ƒç´ å¤„ç†ä¸€éï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</p><p>ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªæ•°ç»„ a = [1, 3, 4, 3, 4, 1, 3]ï¼Œå¹¶ä¼šåœ¨è¿™ä¸ªæ•°ç»„ä¸­æŸ¥æ‰¾å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªæ•°å­—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMostVal</span>(<span class="params">arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span> ] </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> val_max = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">let</span> time_max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> time_tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        time_tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">            time_tmp += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (time_tmp &gt; time_max) &#123;</span><br><span class="line">            time_max = time_tmp;</span><br><span class="line">            val_max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> val_max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸¤é‡å¾ªç¯çš„æ–¹å¼è®¡ç®—ï¼šç¬¬ä¸€å±‚å¾ªç¯ï¼Œå¯¹æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¿›è¡Œéå†ï¼›ç¬¬äºŒå±‚å¾ªç¯ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ è®¡ç®—å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶ä¸”é€šè¿‡å½“å‰å…ƒç´ æ¬¡æ•° <code>time_tmp</code> å’Œå…¨å±€æœ€å¤§æ¬¡æ•°å˜é‡ <code>time_max</code> çš„å¤§å°å…³ç³»ï¼Œä¿å­˜å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå…ƒç´ åŠå…¶å‡ºç°æ¬¡æ•°ã€‚ç”±äºæ˜¯ä¸¤é‡å¾ªç¯ï¼Œè¿™æ®µä»£ç åœ¨æ—¶é—´å¤æ‚åº¦æ˜¯ n*nï¼Œä¹Ÿå°±æ˜¯ O(nÂ²)ã€‚</p><p>é€šè¿‡ä¸€äº›ç»éªŒï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€äº›ç»“è®ºï¼š</p><ul><li>ä¸€ä¸ªé¡ºåºç»“æ„çš„ä»£ç ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</li><li>äºŒåˆ†æŸ¥æ‰¾ï¼ˆåˆ†è€Œæ²»ä¹‹çš„äºŒåˆ†ç­–ç•¥ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(logn)ã€‚</li><li>ä¸€ä¸ªç®€å•çš„ for å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚</li><li>ä¸¤ä¸ªé¡ºåºæ‰§è¡Œçš„ for å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)+O(n)=O(2n)ï¼Œå…¶å®ä¹Ÿæ˜¯ O(n)ã€‚</li><li>ä¸¤ä¸ªåµŒå¥—çš„ for å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(nÂ²)ã€‚</li></ul><h4 id="3-é™ä½æ—¶é—´å¤æ‚åº¦çš„å¿…è¦æ€§"><a href="#3-é™ä½æ—¶é—´å¤æ‚åº¦çš„å¿…è¦æ€§" class="headerlink" title="3.é™ä½æ—¶é—´å¤æ‚åº¦çš„å¿…è¦æ€§"></a>3.é™ä½æ—¶é—´å¤æ‚åº¦çš„å¿…è¦æ€§</h4><p>å‡è®¾æŸä¸ªè®¡ç®—ä»»åŠ¡éœ€è¦å¤„ç† 10ä¸‡ æ¡æ•°æ®ã€‚ä½ ç¼–å†™çš„ä»£ç ï¼š</p><ul><li>å¦‚æœæ˜¯ O(nÂ²) çš„æ—¶é—´å¤æ‚åº¦ï¼Œé‚£ä¹ˆè®¡ç®—çš„æ¬¡æ•°å°±å¤§æ¦‚æ˜¯ 100 äº¿æ¬¡å·¦å³ã€‚</li><li>å¦‚æœæ˜¯ O(n)ï¼Œé‚£ä¹ˆè®¡ç®—çš„æ¬¡æ•°å°±æ˜¯ 10ä¸‡ æ¬¡å·¦å³ã€‚</li><li>å¦‚æœè¿™ä¸ªå·¥ç¨‹å¸ˆå†å‰å®³ä¸€äº›ï¼Œèƒ½åœ¨ O(log n) çš„å¤æ‚åº¦ä¸‹å®Œæˆä»»åŠ¡ï¼Œé‚£ä¹ˆè®¡ç®—çš„æ¬¡æ•°å°±æ˜¯ 17 æ¬¡å·¦å³ã€‚</li></ul><p>é€šå¸¸åœ¨å°æ•°æ®é‡çš„è®¡ç®—ä¸Šï¼Œæ—¶é—´å¤æ‚åº¦çš„é™ä½åœ¨ç»å¯¹å¤„ç†æ—¶é—´ä¸Šæ²¡æœ‰å¤ªå¤šä½“ç°ã€‚ä½†åœ¨å½“ä»Šçš„å¤§æ•°æ®ç¯å¢ƒä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦çš„ä¼˜åŒ–å°†ä¼šå¸¦æ¥å·¨å¤§çš„ç³»ç»Ÿæ”¶ç›Šã€‚</p><h3 id="äºŒ-å­¦ä¼šå°†æ—¶é—´å¤æ‚åº¦è½¬æ¢æˆç©ºé—´å¤æ‚åº¦"><a href="#äºŒ-å­¦ä¼šå°†æ—¶é—´å¤æ‚åº¦è½¬æ¢æˆç©ºé—´å¤æ‚åº¦" class="headerlink" title="äºŒ.å­¦ä¼šå°†æ—¶é—´å¤æ‚åº¦è½¬æ¢æˆç©ºé—´å¤æ‚åº¦"></a>äºŒ.å­¦ä¼šå°†æ—¶é—´å¤æ‚åº¦è½¬æ¢æˆç©ºé—´å¤æ‚åº¦</h3><p>åœ¨ä¸¤å…¨å…¶ç¾çš„æƒ…å†µä¸‹ï¼Œè¦é‡‡ç”¨å°½å¯èƒ½ä½çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ï¼Œå»å®Œæˆä¸€æ®µä»£ç çš„å¼€å‘ã€‚ä½†æœ‰æ—¶å€™åªèƒ½é€‰æ‹©ç‰ºç‰²ä¸€éƒ¨åˆ†æ¥æ‰¾åˆ°æœ€ä½³ç¼–ç æ–¹æ³•ã€‚</p><h4 id="è¦è¯€ï¼šæ—¶é—´æ˜‚è´µã€ç©ºé—´å»‰ä»·"><a href="#è¦è¯€ï¼šæ—¶é—´æ˜‚è´µã€ç©ºé—´å»‰ä»·" class="headerlink" title="è¦è¯€ï¼šæ—¶é—´æ˜‚è´µã€ç©ºé—´å»‰ä»·"></a>è¦è¯€ï¼šæ—¶é—´æ˜‚è´µã€ç©ºé—´å»‰ä»·</h4><p>ä¸€æ®µä»£ç ä¼šæ¶ˆè€—è®¡ç®—æ—¶é—´ã€èµ„æºç©ºé—´ï¼Œä»è€Œäº§ç”Ÿæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚<br>å‡è®¾ä¸€æ®µä»£ç ç»è¿‡ä¼˜åŒ–åï¼Œè™½ç„¶é™ä½äº†æ—¶é—´å¤æ‚åº¦ï¼Œä½†ä¾ç„¶éœ€è¦æ¶ˆè€—éå¸¸é«˜çš„ç©ºé—´å¤æ‚åº¦ã€‚ ä¾‹å¦‚ï¼Œå¯¹äºå›ºå®šæ•°æ®é‡çš„è¾“å…¥ï¼Œè¿™æ®µä»£ç éœ€è¦æ¶ˆè€—å‡ å G çš„å†…å­˜ç©ºé—´ï¼Œå¾ˆæ˜¾ç„¶æ™®é€šè®¡ç®—æœºæ ¹æœ¬æ— æ³•å®Œæˆè¿™æ ·çš„è®¡ç®—ã€‚å¦‚æœä¸€å®šè¦è§£å†³çš„è¯ï¼Œä¸€ä¸ªæœ€ç®€å•ç²—æš´çš„åŠæ³•å°±æ˜¯ï¼Œè´­ä¹°å¤§é‡çš„é«˜æ€§èƒ½è®¡ç®—æœºï¼Œæ¥å¼¥è¡¥ç©ºé—´æ€§èƒ½çš„ä¸è¶³ã€‚<br>è¿™å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç°å®é—®é¢˜å‘¢ï¼Ÿä»£ç æ•ˆç‡çš„ç“¶é¢ˆå¯èƒ½å‘ç”Ÿåœ¨æ—¶é—´æˆ–è€…ç©ºé—´ä¸¤ä¸ªæ–¹é¢ã€‚å¦‚æœæ˜¯ç¼ºå°‘è®¡ç®—ç©ºé—´ï¼ŒèŠ±é’±ä¹°æœåŠ¡å™¨å°±å¯ä»¥äº†ã€‚è¿™æ˜¯ä¸ªèŠ±é’±å°±èƒ½è§£å†³çš„é—®é¢˜ã€‚ç›¸åï¼Œå¦‚æœæ˜¯ç¼ºå°‘è®¡ç®—æ—¶é—´ï¼Œåªèƒ½æŠ•å…¥<strong>å®è´µçš„äººç”Ÿ</strong>å»è·‘ç¨‹åºã€‚å³ä½¿ä½ æœ‰å†å¤šçš„é’±ã€å†å¤šçš„æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯æ¯«æ— ç”¨å¤„ã€‚ç›¸æ¯”äºç©ºé—´å¤æ‚åº¦ï¼Œæ—¶é—´å¤æ‚åº¦çš„é™ä½å°±æ˜¾å¾—æ›´åŠ é‡è¦äº†ã€‚å› æ­¤ï¼Œä½ ä¼šå‘ç°è¿™æ ·çš„ç»“è®ºï¼š<strong>ç©ºé—´æ˜¯å»‰ä»·çš„ï¼Œè€Œæ—¶é—´æ˜¯æ˜‚è´µçš„ã€‚</strong></p><h4 id="ç¨‹åºä¼˜åŒ–çš„å…·ä½“æ€è·¯ï¼š"><a href="#ç¨‹åºä¼˜åŒ–çš„å…·ä½“æ€è·¯ï¼š" class="headerlink" title="ç¨‹åºä¼˜åŒ–çš„å…·ä½“æ€è·¯ï¼š"></a>ç¨‹åºä¼˜åŒ–çš„å…·ä½“æ€è·¯ï¼š</h4><ul><li><p>ç¬¬ä¸€æ­¥ï¼Œæš´åŠ›è§£æ³•ã€‚åœ¨æ²¡æœ‰ä»»ä½•æ—¶é—´ã€ç©ºé—´çº¦æŸä¸‹ï¼Œå®Œæˆä»£ç ä»»åŠ¡çš„å¼€å‘ã€‚</p></li><li><p>ç¬¬äºŒæ­¥ï¼Œæ— æ•ˆæ“ä½œå¤„ç†ã€‚å°†ä»£ç ä¸­çš„æ— æ•ˆè®¡ç®—ã€æ— æ•ˆå­˜å‚¨å‰”é™¤ï¼Œé™ä½æ—¶é—´æˆ–ç©ºé—´å¤æ‚åº¦ã€‚</p></li><li><p>ç¬¬ä¸‰æ­¥ï¼Œæ—¶ç©ºè½¬æ¢ã€‚è®¾è®¡åˆç†æ•°æ®ç»“æ„ï¼Œå®Œæˆæ—¶é—´å¤æ‚åº¦å‘ç©ºé—´å¤æ‚åº¦çš„è½¬ç§»ã€‚</p></li></ul><p>ä¸¾ä¸ªæ —å­ï¼š<br>æŸ¥æ‰¾å‡ºä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå…ƒç´ çš„æ•°å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æš´åŠ›è§£æ³•ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMostVal</span>(<span class="params"> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span> ]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> val_max = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">let</span> time_max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> time_tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        time_tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">            time_tmp += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (time_tmp &gt; time_max) &#123;</span><br><span class="line">            time_max = time_tmp;</span><br><span class="line">            val_max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> val_max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡‡ç”¨äº†ä¸¤å±‚çš„ for å¾ªç¯ï¼Œå¾ˆæ˜¾ç„¶æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(nÂ²)ã€‚è€Œä¸”ä»£ç ä¸­ï¼Œå‡ ä¹æ²¡æœ‰å†—ä½™çš„æ— æ•ˆè®¡ç®—ã€‚å¦‚æœè¿˜éœ€è¦å†å»ä¼˜åŒ–ï¼Œå°±è¦è€ƒè™‘é‡‡ç”¨ä¸€äº›<code>æ•°æ®ç»“æ„</code>æ–¹é¢çš„æ‰‹æ®µï¼Œæ¥æŠŠæ—¶é—´å¤æ‚åº¦è½¬ç§»åˆ°ç©ºé—´å¤æ‚åº¦äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMostVal</span>(<span class="params"> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span> ]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (d.has(a[i])) &#123;</span><br><span class="line">            d.set(a[i], d.get(a[i]) + <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            d.set(a[i], <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> val_max = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">let</span> time_max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> d)&#123;</span><br><span class="line">        <span class="keyword">if</span> (d.get(key) &gt; time_max) &#123;</span><br><span class="line">            time_max = d.get(key);</span><br><span class="line">            val_max = key;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> val_max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ç»“æ„ä¸Šï¼Œæœ‰ä¸¤ä¸ª for å¾ªç¯ã€‚ä¸è¿‡ï¼Œè¿™ä¸¤ä¸ªå¾ªç¯ä¸æ˜¯åµŒå¥—å…³ç³»ï¼Œè€Œæ˜¯é¡ºåºæ‰§è¡Œå…³ç³»ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ªå¾ªç¯å®ç°äº†æ•°ç»„è½¬mapçš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ O(n) çš„å¤æ‚åº¦ã€‚ç¬¬äºŒä¸ªå¾ªç¯å†æ¬¡éå†mapæ‰¾åˆ°å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå…ƒç´ ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª O(n) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><h4 id="åˆ†æè¿‡ç¨‹-â€“-3ä¸ªæ­¥éª¤"><a href="#åˆ†æè¿‡ç¨‹-â€“-3ä¸ªæ­¥éª¤" class="headerlink" title="åˆ†æè¿‡ç¨‹ â€“ 3ä¸ªæ­¥éª¤"></a>åˆ†æè¿‡ç¨‹ â€“ 3ä¸ªæ­¥éª¤</h4><ul><li>é¦–å…ˆï¼Œè¿™æ®µä»£ç å¯¹æ•°æ®è¿›è¡Œäº†å“ªäº›æ“ä½œï¼Ÿï¼ˆå¢åˆ æŸ¥ï¼‰</li><li>å…¶æ¬¡ï¼Œè¿™äº›æ“ä½œä¸­ï¼Œå“ªä¸ªæ“ä½œæœ€å½±å“æ•ˆç‡ï¼Œå¯¹æ—¶é—´å¤æ‚åº¦çš„æŸè€—æœ€å¤§ï¼Ÿ</li><li>æœ€åï¼Œå“ªç§æ•°æ®ç»“æ„æœ€èƒ½æé«˜æ•°æ®æ“ä½œçš„ä½¿ç”¨æ•ˆç‡ï¼Ÿ</li></ul><h3 id="ä¸‰-çº¿æ€§è¡¨ç»“æ„çš„å¢åˆ æŸ¥"><a href="#ä¸‰-çº¿æ€§è¡¨ç»“æ„çš„å¢åˆ æŸ¥" class="headerlink" title="ä¸‰.çº¿æ€§è¡¨ç»“æ„çš„å¢åˆ æŸ¥"></a>ä¸‰.çº¿æ€§è¡¨ç»“æ„çš„å¢åˆ æŸ¥</h3><h4 id="1-çº¿æ€§è¡¨"><a href="#1-çº¿æ€§è¡¨" class="headerlink" title="1.çº¿æ€§è¡¨"></a>1.çº¿æ€§è¡¨</h4><p>å¤§æ¦‚æ˜¯è¿™æ ·çš„ä¸œè¥¿ï¼š|ï¿£1ï¿£|â€“&gt;|ï¿£2ï¿£|â€“&gt;â€¦</p><p>åœ¨é“¾è¡¨çš„æœ€å‰é¢ï¼Œé€šå¸¸ä¼šæœ‰ä¸ªå¤´æŒ‡é’ˆç”¨æ¥æŒ‡å‘ç¬¬ä¸€ä¸ªç»“ç‚¹ã€‚å¯¹äºé“¾è¡¨çš„æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œç”±äºåœ¨å®ƒä¹‹åæ²¡æœ‰ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œå› æ­¤å®ƒçš„æŒ‡é’ˆæ˜¯ä¸ªç©ºæŒ‡é’ˆã€‚é“¾è¡¨ç»“æ„ï¼Œå’Œå°æœ‹å‹æ‰‹æ‹‰æ‰‹ç«™æˆä¸€æ’çš„åœºæ™¯æ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚<br>ä»å•é“¾è¡¨åˆè¡ç”Ÿå‡ºäº†å¾ªç¯é“¾è¡¨ã€åŒå‘é“¾è¡¨ç­‰</p><h4 id="2-çº¿æ€§è¡¨å¯¹äºæ•°æ®çš„å¢åˆ æŸ¥"><a href="#2-çº¿æ€§è¡¨å¯¹äºæ•°æ®çš„å¢åˆ æŸ¥" class="headerlink" title="2.çº¿æ€§è¡¨å¯¹äºæ•°æ®çš„å¢åˆ æŸ¥"></a>2.çº¿æ€§è¡¨å¯¹äºæ•°æ®çš„å¢åˆ æŸ¥</h4><ol><li>å•é“¾è¡¨</li></ol><ul><li><strong>å¢</strong> ï¼šåªéœ€è¦æŠŠå¾…æ’å…¥ç»“ç‚¹çš„æŒ‡é’ˆæŒ‡å‘åŸæŒ‡é’ˆçš„ç›®æ ‡ï¼ŒæŠŠåŸæ¥çš„æŒ‡é’ˆæŒ‡å‘å¾…æ’å…¥çš„ç»“ç‚¹</li><li><strong>åˆ </strong> ï¼šå¦‚æœå¾…åˆ é™¤çš„ç»“ç‚¹ä¸º bï¼Œé‚£ä¹ˆåªéœ€è¦æŠŠæŒ‡å‘ b çš„æŒ‡é’ˆ ï¼ˆp.nextï¼‰ï¼ŒæŒ‡å‘ b çš„æŒ‡é’ˆæŒ‡å‘çš„ç»“ç‚¹ï¼ˆp.next.nextï¼‰</li><li><strong>æŸ¥</strong> ï¼šä¸€ä¸ªä¸ªæŒ‡å‘å»æŸ¥æ‰¾</li></ul><ol start="2"><li>æ ˆï¼ˆåè¿›å…ˆå‡º ï¼‰</li><li>é˜Ÿåˆ—</li><li>äºŒå‰æ ‘</li><li>å“ˆå¸Œè¡¨</li></ol><h4 id="3-ç®—æ³•æ€ç»´åŸºç¡€"><a href="#3-ç®—æ³•æ€ç»´åŸºç¡€" class="headerlink" title="3.ç®—æ³•æ€ç»´åŸºç¡€"></a>3.ç®—æ³•æ€ç»´åŸºç¡€</h4><ol><li>é€’å½’</li><li>åˆ†è€Œæ²»ä¹‹ï¼ˆäºŒåˆ†æ³•ï¼‰</li><li>æ’åºç®—æ³•</li><li>åŠ¨æ€è§„åˆ’</li></ol><ul><li>åˆ†é˜¶æ®µ -&gt; æ‰¾çŠ¶æ€ -&gt; åšå†³ç­– -&gt; çŠ¶æ€è½¬ç§»æ–¹ç¨‹ -&gt; å®šç›®æ ‡ -&gt; å¯»æ‰¾ç»ˆæ­¢æ¡ä»¶<br>ä¾‹ï¼šè¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œæ±‚è§£å‡ºæœ€å¤§å…¬å…±å­ä¸²ã€‚<blockquote><p>ä¾‹å¦‚ï¼Œè¾“å…¥ a = â€œ13452439â€ï¼Œ b = â€œ123456â€ã€‚ç”±äºå­—ç¬¦ä¸²â€345â€åŒæ—¶åœ¨ a å’Œ b ä¸­å‡ºç°ï¼Œä¸”æ˜¯åŒæ—¶å‡ºç°åœ¨ a å’Œ b ä¸­çš„æœ€é•¿çš„å­ä¸²ã€‚å› æ­¤è¾“å‡ºâ€345â€ã€‚<br>å…·ä½“åˆ†æä¸€ä¸‹åŠ¨æ€è§„åˆ’çš„æ­¥éª¤:</p><ul><li>å¯¹äºä¸€ä¸ªå¯èƒ½çš„èµ·ç‚¹ï¼Œå®ƒåé¢çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªé˜¶æ®µã€‚</li><li>çŠ¶æ€å°±æ˜¯å½“å‰å¯»æ‰¾åˆ°çš„ç›¸åŒ¹é…çš„å­—ç¬¦ã€‚</li><li>å†³ç­–å°±æ˜¯å½“å‰æ‰¾åˆ°çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼ˆç›¸ç­‰åˆ™è¿›å…¥åˆ°å…¬å…±å­ä¸²ä¸­ï¼‰ã€‚</li><li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯ä»¥å†™ä½œ <code>sk+1 = uk(sk)</code>ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œå¦‚æœ sk = â€œ123â€æ˜¯å…¬å…±å­ä¸²ï¼Œä¸”åœ¨ a å­—ç¬¦ä¸²å’Œ b å­—ç¬¦ä¸²ä¸­ï¼Œâ€123â€åé¢çš„å­—ç¬¦ç›¸ç­‰ï¼Œå‡è®¾ä¸ºâ€4â€ï¼Œåˆ™å†³ç­–è¦è¿›å…¥åˆ°å…¬å…±å­ä¸²ä¸­ï¼Œsk+1 = â€œ1234â€ã€‚</li><li>ç›®æ ‡è‡ªç„¶å°±æ˜¯å…¬å…±å­ä¸²æœ€é•¿ã€‚</li><li>ç»ˆæ­¢æ¡ä»¶å°±æ˜¯å†³ç­–åˆ°äº†ä¸ç›¸ç­‰çš„ç»“æœ</li></ul></blockquote></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>æŠ€èƒ½ç¯‡</tag>
      
      <tag>å‰ç«¯åŸºç¡€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>csså¸ƒå±€å¿ƒå¾—ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
    <link href="/2020/08/10/css%E5%B8%83%E5%B1%80%E5%BF%83%E5%BE%97%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/"/>
    <url>/2020/08/10/css%E5%B8%83%E5%B1%80%E5%BF%83%E5%BE%97%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h3 id="ç§»åŠ¨ç«¯å¸ƒå±€"><a href="#ç§»åŠ¨ç«¯å¸ƒå±€" class="headerlink" title="ç§»åŠ¨ç«¯å¸ƒå±€"></a>ç§»åŠ¨ç«¯å¸ƒå±€</h3><h4 id="å…³äºåƒç´ çš„é‚£äº›äº‹"><a href="#å…³äºåƒç´ çš„é‚£äº›äº‹" class="headerlink" title="å…³äºåƒç´ çš„é‚£äº›äº‹"></a>å…³äºåƒç´ çš„é‚£äº›äº‹</h4><ul><li><p>cssåƒç´ ï¼ˆCSS Pixelï¼‰ï¼š è™šæ‹Ÿåƒç´ ï¼Œæµè§ˆå™¨å†…çš„ä¸€åˆ‡é•¿åº¦éƒ½æ˜¯ä»¥cssåƒç´ ä¸ºå•ä½ï¼Œæ˜¯ç›¸å¯¹å•ä½ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¼šå˜åŒ–çš„ï¼‰</p></li><li><p>ç‰©ç†åƒç´ ï¼ˆdpï¼‰: ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å±å¹•åˆ†è¾¨ç‡ï¼Œåœ¨è®¾å¤‡å‡ºå‚çš„æ—¶å€™ï¼Œå±å¹•å«æœ‰å¤šå°‘ä¸ªç‰©ç†åƒç´ ç‚¹å·²ç»æ˜¯ç¡®å®šï¼Œè¿™äº›åƒç´ ç‚¹çš„å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„äº†ã€‚ï¼ˆ<em>ä½†åƒç´ ç‚¹çš„å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼Œæ¯”å¦‚åŒæ ·çš„å°ºå¯¸ä¸‹å¯ä»¥æœ‰ä¸åŒçš„åˆ†è¾¨ç‡ï¼Œè¯´æ˜è¿™ä¸ªå±å¹•ä¸‹çš„åƒç´ ç‚¹æ•°é‡ä¸åŒï¼Œé‚£æ¯ä¸ªåƒç´ ç‚¹å¤§å°è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„</em>ï¼‰</p></li><li><p>è®¾å¤‡åƒç´ æ¯”ï¼ˆDPRï¼‰= ç‰©ç†åƒç´ /cssåƒç´ ï¼Œå«ä¹‰æ˜¯å‡ ä¸ªç‰©ç†åƒç´ å¯¹åº”ä¸€ä¸ªcssåƒç´ ã€‚UIç»™çš„å‡ å€å›¾å°±æ˜¯è¦çœ‹å½“å‰è®¾å¤‡çš„DPRå¤šå°‘æ¥è®¾å®šã€‚</p></li><li><p><strong>ä¸ºä»€ä¹ˆè¦æœ‰å‡ å€å›¾å‘¢ï¼Ÿ</strong> ä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ï¼Œå‡è®¾è®¾è®¡å¸ˆç»™æˆ‘ä»¬ä¸€ä»½100*100pxçš„è®¾è®¡ç¨¿ï¼Œæ­¤æ—¶è®¾å¤‡DPR=1è¯´æ˜1ä¸ªç‰©ç†åƒç´ å¯¹åº”1ä¸ªcssåƒç´ ï¼Œä¹Ÿå°±æ˜¯cssåœ¨æµè§ˆå™¨ç”»å‡ºæ¥çš„1px == è®¾è®¡ç¨¿ä¸Šçš„1px == è®¾å¤‡æ˜¾ç¤ºçš„1pxã€‚å½“DPR=2è¯´æ˜4ä¸ªç‰©ç†åƒç´ å¯¹åº”1ä¸ªcssåƒç´ ï¼Œä¹Ÿå°±æ˜¯cssåœ¨æµè§ˆå™¨ç”»å‡ºæ¥çš„1px == è®¾å¤‡æ˜¾ç¤ºçš„2px == è®¾è®¡ç¨¿çš„2pxï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å°†cssåƒç´ ç¼©å°ä¸€å€ï¼Œå³0.5pxï¼›å½“dpr=3æ—¶ï¼Œæ˜¯0.3333px</p></li><li><p><strong>æµè§ˆå™¨æŒ‰ä½ctrlå’Œ+æ—¶å€™æ”¾å¤§ï¼Œæ”¹å˜çš„æ˜¯è°ï¼Ÿé¡µé¢ä¸ºå•¥ä¼šæ”¾å¤§ï¼Ÿ</strong> åœ¨dpr=1ï¼Œç¼©æ”¾æ¯”=1çš„æ—¶å€™ï¼Œä¸€ä¸ªcssåƒç´ å¯¹åº”ä¸€ä¸ªç‰©ç†åƒç´ ã€‚ç”¨ä¸€ä¸ª10px<em>10pxçš„divæ¥ä¸¾ä¾‹ï¼ˆcssé‡Œé¢è®¾å®šçš„ï¼‰ï¼Œæµè§ˆå™¨é¡µé¢æ”¾å¤§çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªdivæ”¾å¤§äº†ï¼Œç”¨å®¡æŸ¥å…ƒç´ å»çœ‹ï¼Œwidthå’Œheightè¿˜æ˜¯10pxï¼Œé‚£æ˜¯è°å½±å“äº†å¤§å°å‘¢ã€‚é¦–å…ˆå¯ä»¥æ’é™¤ç‰©ç†åƒç´ ï¼Œä¸Šé¢å·²ç»è¯´äº†ï¼Œç‰©ç†åƒç´ æ˜¯å‡ºå‚çš„æ—¶å€™å°±å·²ç»å†³å®šçš„å¤§å°ï¼Œæ˜¯ä¸å˜äº†ã€‚æ‰€ä»¥åªèƒ½æ˜¯cssåƒç´ å¤§å°æ”¹å˜ï¼Œcssæ˜¯ç›¸å¯¹å•ä½ï¼Œ *</em>è¿™æ—¶å€™çš„ä¸€ä¸ªcssåƒç´ å¯¹åº”çš„ç‰©ç†åƒç´ æ›´å¤šäº†** ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çœ‹èµ·æ¥æ›´å¤§äº†çš„åŸå› ã€‚</p></li></ul><h3 id="å¸¸è§å¸ƒå±€"><a href="#å¸¸è§å¸ƒå±€" class="headerlink" title="å¸¸è§å¸ƒå±€"></a>å¸¸è§å¸ƒå±€</h3><p>æˆ‘ä»¬é€šå¸¸æåˆ°çš„å¸ƒå±€ï¼Œæœ‰ä¸¤ä¸ªå…±åŒç‚¹ï¼š</p><ul><li>å¤§å¤šæ•°ç”¨äº PC ç«¯ï¼Œå› ä¸º PC ç«¯å±å¹•åƒç´ å®½åº¦å¤Ÿå¤§ï¼Œå¯å¸ƒå±€çš„ç©ºé—´ä¹Ÿå¤§ï¼›</li><li>å¸ƒå±€æ˜¯æœ‰é™ç©ºé—´å†…çš„å…ƒç´ æ’åˆ—æ–¹å¼ï¼Œå› ä¸ºé¡µé¢è®¾è®¡æ¨ªå‘ä¸æ»šåŠ¨ï¼Œçºµå‘æ— é™å»¶ä¼¸ï¼Œæ‰€ä»¥å¤§å¤šæ•°æ—¶å€™è®¨è®ºçš„å¸ƒå±€éƒ½æ˜¯å¯¹æ°´å¹³æ–¹å‘è¿›è¡Œåˆ†å‰²ã€‚</li></ul><p>å®é™…ä¸Šæˆ‘ä»¬åœ¨è®¨è®ºå¸ƒå±€çš„æ—¶å€™ï¼Œä¼šæŠŠç½‘é¡µä¸Šç‰¹å®šçš„åŒºåŸŸè¿›è¡Œåˆ†åˆ—æ“ä½œã€‚æŒ‰ç…§åˆ†åˆ—æ•°ç›®ï¼Œå¯ä»¥å¤§è‡´åˆ†ä¸º 3 ç±»ï¼Œå³å•åˆ—å¸ƒå±€ã€2 åˆ—å¸ƒå±€ã€3 åˆ—å¸ƒå±€ã€‚</p><h4 id="1-å•åˆ—å¸ƒå±€"><a href="#1-å•åˆ—å¸ƒå±€" class="headerlink" title="1.å•åˆ—å¸ƒå±€"></a>1.å•åˆ—å¸ƒå±€</h4><p>å•åˆ—å¸ƒå±€æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§å¸ƒå±€ï¼Œå®ƒçš„å®ç°æ•ˆæœå°±æ˜¯å°†<code>ä¸€ä¸ªå…ƒç´ </code>ä½œä¸ºå¸ƒå±€å®¹å™¨ï¼Œé€šå¸¸è®¾ç½®ä¸€ä¸ªè¾ƒå°çš„ï¼ˆæœ€å¤§ï¼‰å®½åº¦æ¥ä¿è¯ä¸åŒåƒç´ å®½åº¦å±å¹•ä¸‹æ˜¾ç¤ºä¸€è‡´ã€‚<br>è¿™ç§å¸ƒå±€çš„ä¼˜åŠ¿åœ¨äºåŸºæœ¬ä¸Šå¯ä»¥é€‚é…è¶…è¿‡å¸ƒå±€å®¹å™¨å®½åº¦çš„å„ç§æ˜¾ç¤ºå±å¹•ï¼Œæ¯”å¦‚ç½‘ç«™å¸ƒå±€å®¹å™¨å®½åº¦ä¸º 700pxï¼Œä¹Ÿå°±æ˜¯è¯´è¶…è¿‡ 700px å®½åº¦çš„æ˜¾ç¤ºå±å¹•ä¸Šæµè§ˆç½‘ç«™çœ‹åˆ°çš„æ•ˆæœæ˜¯ä¸€è‡´çš„ã€‚<br>ä½†å®ƒæœ€å¤§çš„ç¼ºç‚¹ä¹Ÿæ˜¯æºäºæ­¤ï¼Œè¿‡åº¦çš„å†—ä½™è®¾è®¡å¿…ç„¶ä¼šå¸¦æ¥<strong>æµªè´¹</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…¶å®æˆ‘çš„å±å¹•å®½åº¦æ˜¯è¶³å¤Ÿçš„ï¼Œå¯ä»¥æ˜¾ç¤ºæ›´å¤šçš„å†…å®¹ï¼Œä½†æ˜¯é¡µé¢ä¸¤ä¾§å´å‡ºç°äº†å¤§é‡ç©ºç™½åŒºåŸŸï¼Œå¦‚æœåœ¨ 4k ç”šè‡³æ›´å®½çš„å±å¹•ä¸‹ï¼Œç©ºç™½åŒºåŸŸå¤§å°ä¼šè¶…è¿‡é¡µé¢å†…å®¹åŒºåŸŸå¤§å°ï¼</p><h4 id="2-ä¸¤åˆ—å¸ƒå±€"><a href="#2-ä¸¤åˆ—å¸ƒå±€" class="headerlink" title="2.ä¸¤åˆ—å¸ƒå±€"></a>2.ä¸¤åˆ—å¸ƒå±€</h4><p>2åˆ—å¸ƒå±€ä½¿ç”¨é¢‘ç‡ä¹Ÿéå¸¸çš„é«˜ï¼Œå®ç°æ•ˆæœå°±æ˜¯å°†é¡µé¢åˆ†å‰²æˆå·¦å³å®½åº¦ä¸ç­‰çš„<code>ä¸¤åˆ—</code>ï¼Œå®½åº¦è¾ƒå°çš„åˆ—è®¾ç½®ä¸ºå›ºå®šå®½åº¦ï¼Œå‰©ä½™å®½åº¦ç”±å¦ä¸€åˆ—æ’‘æ»¡ã€‚ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œæˆ‘ä»¬æš‚ä¸”ç§°å®½åº¦è¾ƒå°çš„åˆ—çˆ¶å…ƒç´ ä¸º<code>æ¬¡è¦å¸ƒå±€å®¹å™¨</code>ï¼Œå®½åº¦è¾ƒå¤§çš„åˆ—çˆ¶å…ƒç´ ä¸º<code>ä¸»è¦å¸ƒå±€å®¹å™¨</code>ã€‚</p><p>ç¤ºä¾‹ç½‘ç«™ï¼š<br><img src="https://wx1.sbimg.cn/2020/06/10/vue.png" alt="ä¸¤åˆ—å¸ƒå±€"></p><p>è¿™ç§å¸ƒå±€é€‚ç”¨äºå†…å®¹ä¸Šå…·æœ‰æ˜æ˜¾ä¸»æ¬¡å…³ç³»çš„ç½‘é¡µï¼Œæ¯”å¦‚ API æ–‡æ¡£é¡µé¢ä¸­å·¦ä¾§æ˜¾ç¤ºå†…å®¹å¯¼èˆªï¼Œå³ä¾§æ˜¾ç¤ºæ–‡æ¡£æè¿°ï¼›åˆæ¯”å¦‚åå°ç®¡ç†ç³»ç»Ÿä¸­å·¦ä¾§æ˜¾ç¤ºèœå•æ ï¼Œå³ä¾§æ˜¾ç¤ºé…ç½®é¡µé¢ã€‚ç›¸å¯¹äºå•åˆ—å¸ƒå±€ï¼Œåœ¨å±å¹•å®½åº¦é€‚é…æ–¹é¢å¤„ç†å¾—æ›´å¥½ã€‚å½“å±å¹•å®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¸»è¦å†…å®¹å¸ƒå±€å®¹å™¨ä¼˜å…ˆæ˜¾ç¤ºï¼Œæ¬¡è¦å†…å®¹å¸ƒå±€å®¹å™¨æ”¹ä¸ºå‚ç›´æ–¹å‘æ˜¾ç¤ºæˆ–éšè—ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¼šå’Œå•åˆ—å¸ƒå±€æ­é…ä½¿ç”¨ï¼Œä½œä¸ºå•åˆ—å¸ƒå±€ä¸­çš„å­å¸ƒå±€ä½¿ç”¨ã€‚</p><h4 id="3-ä¸‰åˆ—å¸ƒå±€"><a href="#3-ä¸‰åˆ—å¸ƒå±€" class="headerlink" title="3.ä¸‰åˆ—å¸ƒå±€"></a>3.ä¸‰åˆ—å¸ƒå±€</h4><p>3 åˆ—å¸ƒå±€æŒ‰ç…§å·¦ä¸­å³çš„é¡ºåºè¿›è¡Œæ’åˆ—ï¼Œé€šå¸¸ä¸­é—´åˆ—æœ€å®½ï¼Œå·¦å³ä¸¤åˆ—æ¬¡ä¹‹ã€‚</p><p>å®ä¾‹ç½‘ç«™ï¼š<br><img src="https://wx1.sbimg.cn/2020/06/10/github.png" alt="ä¸‰åˆ—å¸ƒå±€"></p><h3 id="å¦‚ä½•é¿å…æ ·å¼å†²çª"><a href="#å¦‚ä½•é¿å…æ ·å¼å†²çª" class="headerlink" title="å¦‚ä½•é¿å…æ ·å¼å†²çª"></a>å¦‚ä½•é¿å…æ ·å¼å†²çª</h3><h4 id="1-æ‰‹åŠ¨å‘½å"><a href="#1-æ‰‹åŠ¨å‘½å" class="headerlink" title="1. æ‰‹åŠ¨å‘½å"></a>1. æ‰‹åŠ¨å‘½å</h4><p>æœ€ç®€å•æœ‰æ•ˆçš„å‘½åç®¡ç†æ–¹å¼å°±æ˜¯åˆ¶å®šä¸€äº›å‘½åè§„åˆ™ï¼Œæ¯”å¦‚<code>BEM</code><br><code>BEM</code>: BEM æ˜¯ Blockã€Elementã€Modifier ä¸‰ä¸ªå•è¯çš„ç¼©å†™ï¼ŒBlock ä»£è¡¨ç‹¬ç«‹çš„åŠŸèƒ½ç»„ä»¶ï¼ŒElement ä»£è¡¨åŠŸèƒ½ç»„ä»¶çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒModifier å¯¹åº”çŠ¶æ€ä¿¡æ¯ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"button"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"button button-state-success"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"button button-state-danger"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-å·¥å…·å‘½å"><a href="#2-å·¥å…·å‘½å" class="headerlink" title="2. å·¥å…·å‘½å"></a>2. å·¥å…·å‘½å</h4><p>é€šè¿‡æ’ä»¶å°†åŸå‘½åè½¬åŒ–æˆä¸é‡å¤çš„éšæœºå‘½åï¼Œä»æ ¹æœ¬ä¸Šé¿å…å‘½åå†²çªã€‚æ¯”è¾ƒè‘—åçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ CSS Modulesã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.className</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å€ŸåŠ© css Modules æ’ä»¶ï¼Œå¯ä»¥å°† css ä»¥ JSON å¯¹è±¡çš„å½¢å¼å¼•ç”¨å’Œä½¿ç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">"./style.css"</span>;</span><br><span class="line"><span class="comment">// import &#123; className &#125; from "./style.css";</span></span><br><span class="line">element.innerHTML = <span class="string">'&lt;div class="'</span> + styles.className + <span class="string">'"&gt;'</span>;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¹‹åçš„ä»£ç ï¼Œæ ·å¼ç±»åè¢«è½¬åŒ–æˆäº†éšæœºåç§°ã€‚ä½†è¿™ç§å‘½åæ–¹å¼å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœæƒ³åœ¨å¼•ç”¨ç»„ä»¶çš„åŒæ—¶ï¼Œè¦†ç›–å®ƒçš„æ ·å¼ä¼šå˜å¾—å›°éš¾ï¼Œå› ä¸ºç¼–è¯‘åçš„æ ·å¼åæ˜¯éšæœºã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>å®æˆ˜å¿ƒå¾—</tag>
      
      <tag>æŒç»­æ›´æ–°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueé¡¹ç›®å¼€å‘ä¸­é‡åˆ°çš„å‘å’Œå¿ƒå¾—ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
    <link href="/2020/06/21/vue%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91%E5%92%8C%E5%BF%83%E5%BE%97/"/>
    <url>/2020/06/21/vue%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91%E5%92%8C%E5%BF%83%E5%BE%97/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä»å­¦vueåˆ°å·¥ä½œä¸­ç”¨åˆ°vueä¹Ÿæœ‰åŠå¹´å¤šï¼Œæ„Ÿè§‰å¾ˆæœ‰å¿…è¦æ¥æ€»ç»“ä¸€ä¸‹å…·ä½“å·¥ä½œåœºæ™¯ä¸­é‡åˆ°çš„ä¸€äº›å‘å·²ç»å¡«å‘çš„è¿‡ç¨‹ã€‚</p><hr><h4 id="æ€ä¹ˆå¤„ç†æ•°æ®é‡å¤§çš„å˜é‡ï¼Ÿ"><a href="#æ€ä¹ˆå¤„ç†æ•°æ®é‡å¤§çš„å˜é‡ï¼Ÿ" class="headerlink" title="æ€ä¹ˆå¤„ç†æ•°æ®é‡å¤§çš„å˜é‡ï¼Ÿ"></a>æ€ä¹ˆå¤„ç†æ•°æ®é‡å¤§çš„å˜é‡ï¼Ÿ</h4><ul><li>åœºæ™¯ï¼š åœ¨åº”ç”¨åœºæ™¯ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦å°†ä¸€æ•´ä¸ªæ•°æ®æˆ–è€…å¯¹è±¡ä¿å­˜ä¸‹æ¥ï¼Œç»™å…¶å®ƒå‡½æ•°ä½¿ç”¨ï¼Œä¸€èˆ¬æ¥è¯´åªæ˜¯å±•ç¤ºä½¿ç”¨ã€‚ä½†å¦‚æœæ”¾åœ¨<code>data()</code>ä¸­ï¼Œå…¶å®å¯¹æ•´ä¸ªé¡µé¢å’Œæµè§ˆå™¨ä¸å¤ªå‹å¥½ã€‚</li><li>åŸå› ï¼š ä¼—æ‰€å‘¨çŸ¥ï¼Œå­˜æ”¾åœ¨<code>data()</code>ä¸­çš„å˜é‡ï¼Œåœ¨vueçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šè¢«å®æ—¶ç›‘å¬è€Œä¸”æ˜¯æ¯ä¸€é¡¹éƒ½ä¼šè¢«ç›‘å¬åˆ°ï¼Œæ‰€ä»¥ä¸€ä¸ªå­˜å‚¨æ•°æ®é‡å¾ˆå¤§ä¸”å…¶å®ä¸éœ€è¦è¢«ç›‘å¬çš„å˜é‡å°±ä¼šç»™é¡µé¢é€ æˆè´Ÿæ‹…ã€‚</li><li>æ–¹æ³•ï¼š ç ”ç©¶vueçš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥çŸ¥é“ï¼Œ<code>data()</code>æ˜¯åœ¨<code>created()</code>ä¸­åˆå§‹åŒ–å®Œæˆçš„ï¼Œåœ¨<code>create()</code>å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿèƒ½å…¨å±€ä½¿ç”¨ï¼Œä½†ä¸ä¼šè¢«å®æ—¶ç›‘å¬åˆ°ï¼Œå‡å°æ€§èƒ½æŸè€—</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create()&#123;</span><br><span class="line">    <span class="keyword">this</span>.arr = <span class="literal">null</span>;<span class="comment">//ä¹Ÿèƒ½å…¨å±€ä½¿ç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vueè‡ªå®šä¹‰æ’ä»¶çš„æ„é€ "><a href="#Vueè‡ªå®šä¹‰æ’ä»¶çš„æ„é€ " class="headerlink" title="Vueè‡ªå®šä¹‰æ’ä»¶çš„æ„é€ "></a>Vueè‡ªå®šä¹‰æ’ä»¶çš„æ„é€ </h4><ul><li>åœºæ™¯ï¼š æ—¥å¸¸ä¸­æˆ‘ä»¬è¦ä½¿ç”¨ä¸€ä¸ªç»„ä»¶ï¼ˆæ¯”å¦‚å¼¹çª—ç»„ä»¶ï¼‰çš„æ–¹å¼é€šå¸¸æ˜¯å…ˆé€šè¿‡Vue.component å…¨å±€æˆ–æ˜¯ component å±€éƒ¨æ³¨å†Œåï¼Œç„¶ååœ¨æ¨¡ç‰ˆä¸­ä½¿ç”¨ã€‚ä½†æ“ä½œæµç¨‹è¿˜æ˜¯ä¸å¤Ÿç®€æ´æ–¹ä¾¿ã€‚äºæ˜¯å€Ÿé‰´äº†element-uiçš„å†™æ³•ï¼Œå»ç ”ç©¶å¦‚ä½•æŒ‚è½½è‡ªå®šä¹‰æ¨¡æ¿</li><li>Vue.extend(options)<ul><li>æè¿°ï¼š <strong>Vue.extend</strong>è¿”å›çš„æ˜¯ä¸€ä¸ªâ€œæ‰©å±•å®ä¾‹æ„é€ å™¨â€ï¼Œä¹Ÿå°±æ˜¯é¢„è®¾äº†éƒ¨åˆ†é€‰é¡¹çš„Vueçš„å®ä¾‹æ„é€ å™¨ï¼Œå®ƒå¸¸å¸¸æœåŠ¡äºVue.componentç”¨æ¥ç”Ÿæˆç»„ä»¶ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå½“åœ¨æ¨¡æ¿ä¸­é‡åˆ°è¯¥ç»„ä»¶ä½œä¸ºæ ‡ç­¾çš„è‡ªå®šä¹‰å…ƒç´ æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨â€œæ‰©å±•å®ä¾‹æ„é€ å™¨â€æ¥ç”Ÿäº§ç»„ä»¶å®ä¾‹ï¼Œå¹¶æŒ‚åœ¨åˆ°è‡ªå®šä¹‰å…ƒç´ ä¸Šã€‚</li><li>å‚æ•°ç±»å‹ï¼šObject</li></ul></li><li>ç”¨æ³•<ul><li>åŸç†ï¼šè¿ç”¨Vue.extend()æ–¹æ³•ï¼Œæ³¨å†ŒæŒ‚è½½è‡ªå®šä¹‰æ¨¡æ¿ï¼Œå¹¶å°†æ¨¡æ¿æ˜¾ç¤ºæ–¹æ³•æŒ‚è½½åˆ°VueåŸå‹ä¸Šï¼Œæ–¹ä¾¿å…¨å±€è°ƒç”¨ã€‚Vue.extend çš„æ˜¾ç¤ºä¸å¦æ˜¯æ‰‹åŠ¨çš„å»åšç»„ä»¶çš„æŒ‚è½½å’Œé”€æ¯ã€‚</li><li>å®æˆ˜<br><strong>1.alert.vue</strong> //å¼¹çª—æ¨¡æ¿</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=<span class="string">"alert"</span> v-<span class="keyword">if</span>=<span class="string">"msg"</span>&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"icon"</span>&gt;â•&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">        msg: <span class="literal">null</span> <span class="comment">//æ˜¾ç¤ºä¿¡æ¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        msg: <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (val) &#123;</span><br><span class="line">                <span class="keyword">let</span> _self = <span class="keyword">this</span>;</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    $(<span class="string">'#alert).css(&#123;transform: "translate(-50%,0)",opacity:1&#125;)</span></span><br><span class="line"><span class="string">                &#125;, 0);</span></span><br><span class="line"><span class="string">                setTimeout(function() &#123;</span></span><br><span class="line">                    $('#alert).css("opacity",0)</span><br><span class="line">                &#125;, <span class="number">2000</span>);</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    _self.msg = <span class="literal">null</span>;</span><br><span class="line">                    $(<span class="string">'#alert).css("display","none").remove() //ç§»é™¤domå…ƒç´ </span></span><br><span class="line"><span class="string">                    // _self.$destroy(); //è‹¥å…è®¸ç”Ÿæˆå¤šä¸ªå®ä¾‹ä¾¿åœ¨ç”¨å®Œçš„æ—¶å€™éœ€è¦é”€æ¯</span></span><br><span class="line"><span class="string">                &#125;, 3000);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;style scoped&gt;</span></span><br><span class="line"><span class="string">#alert&#123;</span></span><br><span class="line"><span class="string">    min-width: 200px;</span></span><br><span class="line"><span class="string">    min-height: 30px;</span></span><br><span class="line"><span class="string">    color: slategray;</span></span><br><span class="line"><span class="string">    line-height: 30px;</span></span><br><span class="line"><span class="string">    padding: 10px;</span></span><br><span class="line"><span class="string">    font-size: 14px;</span></span><br><span class="line"><span class="string">    position: fixed;</span></span><br><span class="line"><span class="string">    top:20px;</span></span><br><span class="line"><span class="string">    left:50%;</span></span><br><span class="line"><span class="string">    opacity: 0;</span></span><br><span class="line"><span class="string">    transform: translate(-50%,-40px);</span></span><br><span class="line"><span class="string">    background: rgb(237,242,252);</span></span><br><span class="line"><span class="string">    transition: all 1s ease; </span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure><p>  <strong>2.alert.js</strong> //å°†åˆ›å»ºæ„é€ å™¨å’ŒæŒ‚è½½åˆ°ç›®æ ‡å…ƒç´ ä¸Šçš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå¤šå¤„å¯ä»¥å¤ç”¨<br>  å®ä¾‹åŒ–æ—¶å¯ä»¥å‘è¿™ä¸ªå®ä¾‹ä¼ å…¥å‚æ•°ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ props çš„å€¼éœ€è¦é€šè¿‡ propsData å±æ€§æ¥ä¼ é€’</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Alert <span class="keyword">from</span> <span class="string">'./alert.vue'</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Toast = &#123;&#125;; <span class="comment">//å®šä¹‰æ’ä»¶å¯¹è±¡</span></span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123; <span class="comment">//vueçš„installæ–¹æ³•ï¼Œç”¨äºå®šä¹‰vueæ’ä»¶</span></span><br><span class="line">  <span class="keyword">let</span> AlertConstructor = Vue.extend(Alert) <span class="comment">//åˆ›å»ºvueæ„é€ å™¨</span></span><br><span class="line">  <span class="keyword">let</span> instance <span class="comment">//ä¿å­˜vueå®ä¾‹</span></span><br><span class="line">  <span class="keyword">let</span> seed = <span class="number">1</span>; <span class="comment">//å®ä¾‹id</span></span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">999</span>; <span class="comment">//æ¨¡æ¿çš„z-index</span></span><br><span class="line">  <span class="keyword">let</span> alertObj = &#123;&#125; <span class="comment">//ä¿å­˜$alertå¯¹è±¡</span></span><br><span class="line">  instance = <span class="keyword">new</span> AlertConstructor() <span class="comment">//å®ä¾‹åŒ–vueå®ä¾‹</span></span><br><span class="line">  instance.vm = instance.$mount() <span class="comment">//æ‹¿åˆ°å®ä¾‹</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(Vue.prototype, <span class="string">"$alert"</span>, &#123; <span class="comment">//æŒ‚è½½åˆ°vueåŸå‹ä¸Šï¼Œæ–¹ä¾¿å…¨å±€è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span>() &#123; <span class="comment">//å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨getå‡½æ•°</span></span><br><span class="line">      alertObj.alertMsg = <span class="function"><span class="params">options</span> =&gt;</span> &#123; <span class="comment">//è°ƒç”¨$alert.alertMsgæ—¶</span></span><br><span class="line">        <span class="keyword">let</span> id = <span class="string">'message_'</span> + seed++</span><br><span class="line">        instance.id = id <span class="comment">//ç»‘ä¸Šå®ä¾‹id</span></span><br><span class="line">        <span class="comment">//å®ä¾‹ä¼ å…¥å‚æ•°ï¼Œå¯¹åº”çš„æ˜¯propsé‡Œé¢çš„æ•°æ®</span></span><br><span class="line">        <span class="built_in">Object</span>.assign(instance, options)</span><br><span class="line">        index++</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(instance.vm.$el) <span class="comment">//å°†å®ä¾‹çš„htmlæ¨¡æ¿appendåˆ°html</span></span><br><span class="line">        instance.vm.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">//ç­‰domè§†å›¾åˆ·æ–°å®Œæ¯•</span></span><br><span class="line">          instance.vm.$el.style.zIndex = index</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> instance.vm.$alert</span><br><span class="line">      &#125;</span><br><span class="line">      alertObj.sh = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"something"</span>) <span class="comment">//è‡ªå®šä¹‰æ–¹æ³•</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> alertObj <span class="comment">//è¿”å›vueå®ä¾‹</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Toast</span><br></pre></td></tr></table></figure><p>  <strong>3.main.js</strong> //é¡¹ç›®çš„å…¨å±€æ–‡ä»¶å¼•ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Alert <span class="keyword">from</span> <span class="string">'./main/alert1'</span></span><br><span class="line">Vue.use(Alert)</span><br></pre></td></tr></table></figure><p>   4.ç„¶åå°±å¯ä»¥åœ¨é¡¹ç›®é‡Œé¢ä½¿ç”¨äº†ï¼Œ<code>this.$alert.alertMsg({msg:&quot;something&quot;})</code></p><h4 id="é¿å…æ»¥ç”¨thiså»è¯»å–dataä¸­æ•°æ®"><a href="#é¿å…æ»¥ç”¨thiså»è¯»å–dataä¸­æ•°æ®" class="headerlink" title="é¿å…æ»¥ç”¨thiså»è¯»å–dataä¸­æ•°æ®"></a>é¿å…æ»¥ç”¨thiså»è¯»å–dataä¸­æ•°æ®</h4>]]></content>
    
    
    
    <tags>
      
      <tag>å®æˆ˜å¿ƒå¾—</tag>
      
      <tag>æŒç»­æ›´æ–°</tag>
      
      <tag>VUE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯å‘å±•å²</title>
    <link href="/2020/05/15/%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E5%8F%B2/"/>
    <url>/2020/05/15/%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E5%8F%B2/</url>
    
    <content type="html"><![CDATA[<h3 id="1-æ´ªè’æ—¶ä»£ï¼ˆ1990-1994ï¼‰"><a href="#1-æ´ªè’æ—¶ä»£ï¼ˆ1990-1994ï¼‰" class="headerlink" title="1. æ´ªè’æ—¶ä»£ï¼ˆ1990~1994ï¼‰"></a>1. æ´ªè’æ—¶ä»£ï¼ˆ1990~1994ï¼‰</h3><ul><li>å‰ç«¯å¤§äº‹ä»¶ï¼šWWWã€æµè§ˆå™¨ã€JavaScriptçš„è¯ç”Ÿ  </li><li>1990å¹´ï¼Œä¸–ç•Œä¸Šå‡ºç°äº†ç¬¬ä¸€ä¸ª<strong>webæµè§ˆå™¨</strong>ï¼ˆä¸–ç•Œä¸Šç¬¬ä¸€å¼ ç½‘é¡µï¼š <a href="http://info.cern.ch/" target="_blank" rel="noopener">http://info.cern.ch/</a>ï¼‰ ï¼Œæ­¤æ—¶çš„æµè§ˆå™¨é¡µé¢å…¨æ˜¯ç”±åç«¯å¼€å‘çš„ã€‚åœ¨åç«¯åŠ¨æ€ç”Ÿæˆé¡µé¢ï¼Œä½†æ˜¾ç„¶ï¼Œè¿™å¸¦æ¥ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºæ†¾ï¼šæ¯æ¬¡æ›´æ–°éƒ½è¦æ•´é¡µåˆ·æ–°ï¼ŒåŠ ä¸Šæ—©æœŸçš„ç½‘é€Ÿæƒ…å†µï¼Œè¿™ä¸ªæ“ä½œæ˜¯éå¸¸æ…¢çš„ã€‚å› æ­¤é’ˆå¯¹è¿™æƒ…å†µï¼Œäººä»¬ä»å¤šæ–¹é¢ç€æ‰‹æ”¹è¿›ï¼šç¼–å†™è¯­è¨€çš„å‡çº§ã€æµè§ˆå™¨çš„å‡çº§ã€HTMLçš„å‡çº§ã€‚<br>äºæ˜¯å‡ºç°äº†<strong>JavaScript</strong>è¯­è¨€ï¼Œä¼ é—»å‘æ˜è€…åªç”¨äº†10å¤©æ¥è®¾è®¡å¼€å‘å‡ºè¿™ä¸ªè¯­è¨€ï¼Œå·¥æœŸå¤ªçŸ­å¯¼è‡´è®¸å¤šç‘•ç–µï¼Œæ¯”å¦‚æ²¡æœ‰åŒ…ç®¡ç†æœºåˆ¶ï¼Œä¹Ÿæ²¡æœ‰åƒJavaä¸C++é‚£æ ·çš„æ‰“è¾…åŠ©ç”¨çš„SDKï¼Œå†…ç½®çš„æ–¹æ³•ä¹Ÿå±ˆæŒ‡å¯æ•°ã€‚å› æ­¤ä¸€ç›´è¢«ç¨‹åºå‘˜å«Œå¼ƒï¼Œæ‰€ä»¥æ—©æœŸæµè§ˆå™¨éƒ½é…æœ‰ä¸€ä¸ªé€‰é¡¹ï¼Œç¦æ­¢JavaScriptè¯­è¨€è¿è¡Œã€‚</li></ul><h3 id="2-å‰ç«¯çš„ç»Ÿä¸€ä¸åˆ†å‰²ï¼ˆ1994-1999ï¼‰"><a href="#2-å‰ç«¯çš„ç»Ÿä¸€ä¸åˆ†å‰²ï¼ˆ1994-1999ï¼‰" class="headerlink" title="2. å‰ç«¯çš„ç»Ÿä¸€ä¸åˆ†å‰²ï¼ˆ1994~1999ï¼‰"></a>2. å‰ç«¯çš„ç»Ÿä¸€ä¸åˆ†å‰²ï¼ˆ1994~1999ï¼‰</h3><ul><li>ä¸‰åœºæˆ˜äº‰ï¼šIEæµè§ˆå™¨vsç½‘æ™¯æµè§ˆå™¨ã€IEæµè§ˆvsç«ç‹æµè§ˆå™¨ã€IEæµè§ˆå™¨vsè°·æ­Œæµè§ˆå™¨</li><li>1996å¹´ï¼Œcssçš„å‡ºç°ï¼Œæ„å‘³ç€æ­£å¼å¼€å§‹å‡ºç°<strong>å‰ç«¯</strong>ï¼Œè¿™ä¸ªæ—¶å€™å‰ç«¯çš„htmlè´Ÿè´£é¡µé¢ç»“æ„ï¼Œå†³å®šç€ç½‘é¡µçš„ç»“æ„å’Œå†…å®¹ï¼Œæ˜¯æ•´ä¸ªç½‘é¡µçš„èº¯å£³ï¼Œcssè´Ÿè´£æ ·å¼éƒ¨åˆ†ï¼Œä»–å†³å®šäº†ç½‘ç«™çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œå±äºå‰ç«¯çš„çš®è‚¤å§ï¼Œjsæ§åˆ¶ç½‘é¡µçš„è¡Œä¸ºï¼Œå†³å®šåšä»€ä¹ˆä¸€èˆ¬æ¥è¯´ï¼Œjsè´Ÿè´£è°ƒç”¨ä¸€äº›å‰ç«¯è®¡ç®—ä¸åŠ¨æ€åŠ è½½ï¼Œåº”è¯¥å±äºæ•´ä¸ªç½‘é¡µçš„çµé­‚ã€‚åªæœ‰è¿™ä¸‰ä¸ªåŒæ—¶å…·å¤‡çš„ï¼Œæ‰èƒ½ç®—æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç½‘ç«™å‰ç«¯ã€‚<br>ä½†è¿™æ—¶å€™å‰ç«¯çš„<strong>é—®é¢˜</strong>ä¾æ—§å­˜åœ¨ï¼Œå¤ç”¨æ€§å·®ï¼Œä¸èƒ½å±€éƒ¨åŠ è½½ï¼Œæ‰€ä»¥ä¸ä¹…ï¼Œå¾®è½¯æ¨å‡ºäº†iframeæ ‡ç­¾ï¼Œå®ç°äº†å¼‚æ­¥çš„å±€éƒ¨åŠ è½½ï¼Œå°±æ˜¯ç›¸å½“äºåœ¨ç½‘é¡µä¸­åµŒå¥—ä¸€ä¸ªç½‘é¡µï¼Œåˆ‡æ¢ç›®å½•åªæ˜¯åˆ‡æ¢iframeä¸­çš„ç½‘é¡µ</li></ul><h3 id="3-åŠ¨æ€é¡µé¢çš„å´›èµ·ï¼ˆ1999-2016ï¼‰"><a href="#3-åŠ¨æ€é¡µé¢çš„å´›èµ·ï¼ˆ1999-2016ï¼‰" class="headerlink" title="3. åŠ¨æ€é¡µé¢çš„å´›èµ·ï¼ˆ1999-2016ï¼‰"></a>3. åŠ¨æ€é¡µé¢çš„å´›èµ·ï¼ˆ1999-2016ï¼‰</h3><blockquote><p>å†ä¹‹å99å¹´W3Cå‘å¸ƒäº†ç¬¬å››ä»£HTMLæ ‡å‡†ï¼ŒåŒå¹´å¾®è½¯æ¨å‡ºç”¨äºå¼‚æ­¥æ•°æ®ä¼ è¾“çš„ActiveXï¼Œæ„å‘³ç€<strong>ajax</strong>çš„è¯ç”Ÿï¼Œè¿™åœ¨å‰ç«¯å²ä¸ŠåŒæ ·æ˜¯ä¸ªé‡Œç¨‹ç¢‘çš„äº‹ä»¶ï¼Œä¹‹å‰çš„iframeä¸­éƒ¨åˆ†åŠ è½½ï¼Œå…¶å®è¿˜æ˜¯ç›´æ¥åŠ è½½æŸä¸ªå®Œæ•´çš„htmlç•Œé¢ï¼ˆå‡å¦‚ç½‘é€Ÿå¾ˆæ…¢ï¼Œè¿˜æ˜¯ä¼šå‡ºç°ç©ºç™½loadingçš„è¿‡ç¨‹ï¼‰ã€‚è€Œajaxåˆ™å¯ä»¥è®©æˆ‘ä»¬å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„å±€éƒ¨åŠ è½½ï¼Œè€Œä¸ç”¨å¯¹æ•´ä¸ªç•Œé¢é‡æ–°è¿›è¡Œæ¸²æŸ“ï¼Œæå¤§çš„ä¼˜åŒ–äº†ç”¨æˆ·ä½“éªŒã€‚ä½¿ç”¨ajaxæŠ€æœ¯ï¼Œä¹Ÿå®ç°äº†å°†ä»æ•°æ®åº“æŸ¥å›çš„æ•°æ®å¯ä»¥æ”¾åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ä¸Šè¿›è¡Œï¼Œæ‰€ä»¥ajaxçš„å‡ºç°ï¼Œå¹¶ä¸ä»…ä»…ä¼˜åŒ–äº†ç”¨æˆ·ä½“éªŒï¼Œä»–å°†å¾ˆå¤§ä¸€éƒ¨åˆ†è®¡ç®—ä»æœåŠ¡å™¨æŒªåˆ°äº†å‰ç«¯ï¼Œä½¿å‰ç«¯èƒ½å¤Ÿå®Œæˆäº†æ›´å¤šçš„å·¥ä½œã€‚ä¸ºæ—¥åçš„å‰åç«¯åˆ†ç¦»æä¾›äº†æŠ€æœ¯æ”¯æŒã€‚</p></blockquote><ul><li><strong>å‰jqueryæ—¶ä»£ï¼ˆ2009-2012ï¼‰</strong>ï¼šç„¶åä¸€ç›´åˆ°09å¹´çš„æ—¶å€™ï¼Œå‰ç«¯ä¸€ç›´ç¨³å®šå‘å±•ï¼Œæ²¡æœ‰è¿›è¡Œä»€ä¹ˆå¤§çš„æ”¹å˜ï¼Œè¿™æ®µæ—¶é—´å¸‚é¢ä¸Šä¸»è¦æœ‰ä¸¤æ¬¾æµè§ˆå™¨ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºIEæµè§ˆå™¨å’Œéieæµè§ˆå™¨ï¼Œæ‰€è°“ç¥ä»™æ‰“æ¶å‡¡äººé­æ®ƒï¼Œieæµè§ˆå™¨ä¸ºäº†æŠ¢å¤ºç½‘æ™¯å…¬å¸çš„å¸‚åœºï¼Œå¼€å‘å‡ºäº†javascriptçš„å˜ç§ï¼Œjscriptã€‚è™½ç„¶ä¸¤ä¸ªåŸºæœ¬ä¸Šå®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯è¯­æ³•ç³–ä¸Šå¯èƒ½è¿˜æ˜¯æœ‰äº›è®¸çš„å·®åˆ«ï¼Œæ‰€ä»¥ï¼Œé‚£ä¸ªæ—¶ä»£çš„å‰ç«¯å·¥ç¨‹å¸ˆä»–ä»¬çš„ä¸»è¦å·¥ä½œå°±æ˜¯ç”»é¡µé¢å’Œè¸©å„ç§å‘ï¼Œé‚£ä¸ªæ—¶ä»£ä¸€ä¸ªé˜…å†ä¸°å¯Œçš„ç¨‹åºå‘˜çš„ä¸€ä¸ªæ ‡å¿—å°±æ˜¯ç†Ÿç»ƒæŒæ¡ä¸¤ç§æµè§ˆå™¨ä¹‹é—´çš„å·®åˆ«ï¼Œä¸”èƒ½æ‰¾åˆ°å…¼å®¹çš„æ–¹æ³•ï¼Œjqueryçš„å‡ºç°åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†è¿™ä¸ªé—®é¢˜ï¼Œæ­£å¦‚jqueryçš„logoæ˜¾ç¤ºçš„ä¸€æ ·ï¼Œ<strong>write less do more</strong> ã€‚ä»–è‡´åŠ›äºç”¨æ›´å°‘çš„ä»£ç å®ç°æ›´å¤šçš„åŠŸèƒ½ã€‚ jqueryå…¶å®æ˜¯ä¸€ä¸ªè„šæœ¬åº“ï¼ŒjQueryæŠ½è±¡äº†å¤æ‚çš„ä»£ç å’Œæµè§ˆå™¨æ€ªå¼‚æ¨¡å¼ï¼Œå…¼å®¹ä¸åŒçš„æµè§ˆå™¨ï¼Œç”¨ç®€çŸ­çš„ä»£ç å®ç°åŠ¨æ•ˆï¼Œç”¨é“¾å¼è¯­æ³•é£æ ¼å‡å°‘äº†ç¨‹åºå‘˜çš„ä»£ç é‡ã€‚ä½¿æˆ‘ä»¬æœ‰æ—¶é—´åšé‡è¦çš„äº‹æƒ…ã€‚jqueryçš„æµè¡Œé™ä½äº†å‰ç«¯é—¨æ§›ï¼Œè®©æ›´å¤šäººè¿›å…¥è¿™è¡Œä¸šï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„é˜Ÿä¼è¶Šæ¥è¶Šå£®å¤§ã€‚</li><li><strong>åjqueryæ—¶ä»£ï¼ˆ2012-2016ï¼‰</strong>ï¼šjQueryçš„å‘å±•ä½¿å‰ç«¯è¡Œä¸šä¸æ–­æ¶Œç°å‡ºä¼˜ç§€çš„å·¥ç¨‹å¸ˆï¼Œä»–ä»¬åˆ›é€ äº†å¤§é‡<strong>jQueryæ’ä»¶ä¸UIåº“</strong>ã€‚ä½†ä¹Ÿå¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå‰ç«¯å·¥ç¨‹å¸ˆé€šå¸¸ç¼–å†™ä¸€ä¸ªé¡µé¢ï¼Œä¼šå¼•å…¥åå¤šä¸ªä¹ƒè‡³å‡ åä¸ªjQueryæ’ä»¶ï¼Œé¡µé¢ä¸Šå¡æ»¡äº†Scriptæ ‡ç­¾ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæµè§ˆå™¨æ˜¯å•çº¿ç¨‹ï¼ŒScriptçš„åŠ è½½ï¼Œä¼šå½±å“åˆ°é¡µé¢çš„è§£æä¸å‘ˆç°ï¼Œå¯¼è‡´è‘—åçš„ç™½å±é—®é¢˜ï¼ˆå½“æ—¶å‰ç«¯ç”¨åŠ›è¿‡çŒ›ï¼Œbodyä¸­çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼‰ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ä½¿å…¨å±€å˜é‡<strong>æ±¡æŸ“</strong>ï¼Œå› æ­¤åjQueryæ—¶ä»£æ¥äº†ã€‚äººä»¬ç ”å‘å‰ç«¯æ¨¡å—åŠ è½½ã€ç»Ÿä¸€å¼‚æ­¥æœºåˆ¶ã€ æ‰“é€ å¤§å‹MVCæ¡†æ¶ï¼ˆmodel-view-controllerï¼‰ï¼Œ ç”šè‡³ä¼¸å‘åç«¯ï¼Œæ¥ç®¡æ‰“åŒ…è„šæœ¬è€Œå‘æ˜Node.jsï¼Œæ¥è…¾å‡ºå¤§é‡æ—¶é—´ã€‚</li></ul><h3 id="4-ä¸‰å¤§æ¡†æ¶å‰²æ®æ—¶ä»£ï¼ˆ2016-è‡³ä»Šï¼‰"><a href="#4-ä¸‰å¤§æ¡†æ¶å‰²æ®æ—¶ä»£ï¼ˆ2016-è‡³ä»Šï¼‰" class="headerlink" title="4. ä¸‰å¤§æ¡†æ¶å‰²æ®æ—¶ä»£ï¼ˆ2016~è‡³ä»Šï¼‰"></a>4. ä¸‰å¤§æ¡†æ¶å‰²æ®æ—¶ä»£ï¼ˆ2016~è‡³ä»Šï¼‰</h3><ul><li>ä¸‰å¤§æ¡†æ¶ï¼šReactï¼ŒAngulatï¼ŒVue</li><li>ä»å‰ç«¯èµ°å‘å…¨æ ˆï¼š<strong>MVVMæ¡†æ¶ï¼ˆModel-View-ViewModelï¼‰</strong>æ˜¯åœ¨ MVC çš„åŸºç¡€ä¸Šæ¼”è¿›è¿‡æ¥çš„ï¼Œå»æ‰äº† MVC ä¸­çš„ Controllerï¼Œå¢åŠ äº†æ•°æ®çš„åŒå‘ç»‘å®šã€‚å¯¹å¼€å‘è€…æ¥è¯´ï¼Œå°±å¯ä»¥ä»ä»¥å‰çš„domæ“ä½œä¸­è§£æ”¾å‡ºæ¥ï¼Œæƒ³æƒ³ä»¥å‰çš„æ“ä½œæ¨¡å¼ï¼Œæ¥æ”¶åˆ°åå°çš„æ•°æ®ï¼Œjqueryå¼€å¹²ï¼Œé€‰æ‹©domï¼Œæ‹¿åˆ°æ•°æ®ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå¡«å……åˆ°domä¸­ã€‚è§†å›¾æ•°æ®å˜åŒ–äº†ï¼Œjs æ¯æ¬¡éœ€è¦ä¸»åŠ¨é‡æ–°å–å€¼ï¼Œæœ‰äº†MVVMè¿™éƒ½ä¸éœ€è¦äº†ï¼Œåšå¥½äº†åŒå‘ç»‘å®šã€‚åªè¦å°†æ•°æ®ç»‘å®šåˆ°MVï¼ŒVè‡ªåŠ¨æ›´æ–°ï¼ŒVè¡¨å•æˆ–çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒMè‡ªåŠ¨æ›´æ–°ï¼Œæ²¡æœ‰äº†ä¸­é—´çš„DOMæ“ä½œå’Œæ§åˆ¶ã€‚ä¸€åˆ‡éƒ½å˜å¾—ç®€å•ã€‚ç›¸äº’ä¹‹é—´ä¹Ÿæ²¡æœ‰è€¦åˆï¼Œå¯¹å‰ç«¯æ€§èƒ½ä¹Ÿæ˜¯è´¨çš„æå‡ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯ç§‘æ™®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹è¯»åæ„Ÿ</title>
    <link href="/2020/04/21/%E3%80%8A%E9%AB%98%E6%95%88%E8%83%BD%E4%BA%BA%E5%A3%AB%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    <url>/2020/04/21/%E3%80%8A%E9%AB%98%E6%95%88%E8%83%BD%E4%BA%BA%E5%A3%AB%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
    
    <content type="html"><![CDATA[<p>å·¥ä½œä¸­æˆ–è®¸å¸¸å¸¸æœ‰è¿™æ ·çš„æ„Ÿè§‰ï¼šæ—¶é—´ä¸å¤Ÿç”¨ï¼Œå·¥ä½œåšä¸å®Œï¼Œæ¯æ—¶æ¯åˆ»æ‰‹è¾¹æ€»ä¼šæœ‰è®¸å¤šäº‹æƒ…éœ€è¦å»å¤„ç†ï¼Œæ¯”å¦‚å›é‚®ä»¶ã€å†™æ–‡æ¡£ã€æ•²ä»£ç ã€å­¦çŸ¥è¯†ã€å¼€ä¼šç­‰ç­‰ã€‚æ‰€ä»¥ä½ å¸¸å¸¸ä¼šå¿™å¾—ç„¦å¤´çƒ‚é¢ï¼Œä½†æœ‰äº›äººå°±å¯ä»¥å·¥ä½œå¾—æœ‰æ¡ä¸ç´Šï¼Œåˆ†å¾—æ¸…è½»é‡ç¼“æ€¥å¹¶èƒ½å¤Ÿåˆç†çš„åˆ†é…æ—¶é—´ã€‚å…¶å®äººå’Œäººä¹‹é—´åœ¨å·¥ä½œä¸Šå¹¶æ²¡æœ‰ä¸å¯é€¾è¶Šçš„å·®åˆ«ï¼Œå¦‚æœè‡ªå·±ä¹Ÿèƒ½å¤Ÿä¸¥æ ¼è¦æ±‚è‡ªå·±ï¼Œå…»æˆè‰¯å¥½çš„å·¥ä½œä¹ æƒ¯ï¼Œå°±ä¸ç”¨è‡ªå¹ä¸å¦‚äº†ã€‚ç¡®å®ï¼Œé€šè¿‡é˜…è¯»ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹å¯ä»¥å¸®åŠ©è‡ªå·±æ›´å¤§çš„å‘æŒ¥è‡ªå·±çš„ä¸ªäººæ•ˆèƒ½å’Œäººé™…æ•ˆèƒ½ã€‚</p><p>ä¹¦ä¸­ä½œè€…ä¸»å¼ äººåº”è¯¥ç§¯æä¸»åŠ¨çš„æ”¹å˜è‡ªå·±çš„æ€ç»´æ–¹å¼ï¼ŒæŠŠè¡Œä¸ºå½¢æˆä¹ æƒ¯ï¼Œç”¨ä¹ æƒ¯å»å½±å“äººç”Ÿï¼Œè®©æˆ‘æƒ³èµ·ä¹‹å‰çœ‹è¿‡çš„ä¹¦ä¸­çš„ä¸€å¥è¯ï¼šâ€œå†³å®šæˆ‘ä»¬è‡ªèº«çš„ä¸æ˜¯è¿‡å»çš„ç»å†ï¼Œè€Œæ˜¯æˆ‘ä»¬èµ‹äºˆç»å†çš„æ„ä¹‰ã€‚â€ä¹¦ä¸­å±•ç¤ºäº†æˆç†Ÿæ¨¡å¼å›¾ï¼Œå³äººç±»æˆé•¿çš„ä¸‰ä¸ªé˜¶æ®µï¼Œä¾èµ–æœŸï¼Œä»¥â€œä½ â€ä¸ºæ ¸å¿ƒï¼Œä½ ç…§é¡¾æˆ‘ï¼Œä½ ä¸ºæˆ‘çš„å¾—å¤±æˆè´¥è´Ÿè´£ï¼›ç‹¬ç«‹æœŸï¼Œä»¥â€œæˆ‘â€ä¸ºæ ¸å¿ƒï¼Œæˆ‘å¯ä»¥åšåˆ°ï¼Œæˆ‘å¯ä»¥è´Ÿè´£ï¼Œæˆ‘å¯ä»¥é è‡ªå·±ï¼Œæˆ‘æœ‰æƒé€‰æ‹©ï¼›äº’èµ–æœŸï¼Œä»¥â€œæˆ‘ä»¬â€ä¸ºæ ¸å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°ï¼Œæˆ‘ä»¬å¯ä»¥åˆä½œï¼Œæˆ‘ä»¬å¯ä»¥èåˆã€äº’åˆ©ã€å…±åˆ›ã€‚äº’èµ–æ¨¡å¼æ˜¯æœ€æˆç†Ÿçš„ç›¸å¤„æ¨¡å¼ï¼Œåæ€è‡ªèº«ï¼Œå¤§æ¦‚æˆ‘ç›®å‰åªæ˜¯ç‹¬ç«‹æœŸé˜¶æ®µå§ï¼Œè¿˜éœ€è¦ç»§ç»­åŠªåŠ›æå‡è‡ªå·±çš„æ€ç»´å’Œå¢ƒç•Œã€‚</p><p>ä¹¦ä¸­è®²è¿°äº†ä¸ƒç§ä¹ æƒ¯ï¼Œè´¯ç©¿ä¸ªäººè‡ªèº«å’Œäººé™…å…³ç³»ç»´æŠ¤çš„æ–¹æ–¹é¢é¢ã€‚æˆ‘å°†æ¯ç§ä¹ æƒ¯ä¸­æå–äº†å…³é”®è¯ï¼Œåšæˆäº†<a href="https://www.processon.com/view/link/5e1d59e0e4b0c62462a8111e" target="_blank" rel="noopener">æ€ç»´å¯¼å›¾</a>æ–¹ä¾¿åé¢çš„å›é¡¾ä¹¦å†…å†…å®¹ã€‚</p><img src="https://wx2.sbimg.cn/2020/04/21/1.png" style="width:100%"><p>è¿™æœ¬ä¹¦å¯ä»¥æ‹¿å‡ºæ¥è®²çš„è§‚ç‚¹å’Œè¦ç´ ç‰¹åˆ«å¤šï¼Œä½†æˆ‘å°±è®²è®²è®©æˆ‘è§¦åŠ¨çš„ç‚¹å§ã€‚</p><ul><li><strong>åšæœ‰æ„ä¹‰çš„å·¥ä½œï¼Œæ‹’ç»â€œæ— æ•ˆåŠªåŠ›â€ï¼Œæœ‰æ–¹æ³•æ›´æœ‰æ–¹å‘ï¼Œæ‰èƒ½çœŸæ­£åœ°å®ç°é«˜æ•ˆ</strong></li></ul><p>ç¬¬ä¸€ç« ä¸­ï¼Œè®²åˆ°äº†æŠŠæ€ç»´æ–¹å¼çœ‹ä½œåœ°å›¾ã€‚æ€ç»´æ–¹å¼æŒ‡çš„æ˜¯æˆ‘ä»¬çœ‹å¾…ä¸–ç•Œçš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯¹ä¸–ç•Œçš„ç†è§£ï¼Œé€šè¿‡è¿™ç§ç†è§£è¯ é‡Šäº†æˆ‘ä»¬çš„è¡Œä¸ºã€‚æ¯ä¸ªäººçš„äººç”Ÿä¸­éƒ½å­˜åœ¨ä¸¤ç§åœ°å›¾ï¼Œä¸€ç§æ˜¯æ ¹æ®å®é™…æƒ…å†µç»˜åˆ¶çš„ï¼Œä¸€ç§æ˜¯æ ¹æ®æˆ‘ä»¬è‡ªå·±çš„æ€ç»´æ–¹å¼å½¢æˆçš„ï¼Œåè€…ä¼šé€ æˆè¿™ç§æƒ…å†µï¼šè‡ªèº«ä¸»è§‚çš„ç†è§£å¯èƒ½ä¸å®é™…äº‹å®ä¸Šä¸ç›¸ç¬¦ï¼Œæ‰€ä»¥æœ‰æ—¶å†æ€ä¹ˆåŠªåŠ›ç…§ç€åœ°å›¾èµ°ï¼Œå´èµ°ä¸åˆ°æƒ³è¦å»çš„ç»ˆç‚¹ã€‚çœ‹åˆ°è¿™éƒ¨åˆ†å†…å®¹ï¼Œå¯¹æˆ‘çš„è§¦åŠ¨è¿˜æ˜¯è›®å¤§çš„ï¼Œå·¥ä½œä¸Šè²Œä¼¼æœ‰æ—¶å€™çœ‹èµ·æ¥å¾ˆå¿™å¾ˆåŠªåŠ›ï¼Œç»“æœä¹Ÿåªæ˜¯çœ‹èµ·æ¥å¾ˆå¿™å¾ˆåŠªåŠ›çš„æ ·å­è€Œå·²ã€‚æˆ–è€…è¯´ï¼Œå¿™èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œéš¾çš„æ˜¯è¦æƒ³æƒ³è‡ªå·±çš„æ€ç»´æ–¹å¼çš„åœ°å›¾æ˜¯ä¸æ˜¯æ­£ç¡®å¯¼èˆªçš„ï¼Œè¿™äº›æ¯”è¡ŒåŠ¨æ›´ä¸ºé‡è¦ï¼Œæ–¹å‘æ¯”é€Ÿåº¦æ›´é‡è¦ã€‚</p><ul><li><strong>æˆ‘è§è¿‡çš„ä¼˜ç§€çš„äººæ— ä¸æ˜¯å°†è‡ªå·±å½±å“åœˆå†…çš„äº‹æƒ…å°½å¯èƒ½åšåˆ°æå¥½</strong></li></ul><p>å…³æ³¨åœˆå±äºæˆ‘ä»¬è™½ç„¶å…³å¿ƒä½†æ˜¯æ²¡æ³•æ§åˆ¶çš„äº‹æƒ…ï¼Œå½±å“åœˆæ˜¯æˆ‘ä»¬èƒ½ç›´æ¥å½±å“çš„äº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬éƒ½å…³å¿ƒå…¬å¸çš„å‘å±•è¶Šæ¥è¶Šå¥½ï¼Œæœ‰è‰¯å¥½çš„äº§å“å£ç¢‘ä»¥åŠå¸‚åœºå ç”¨ç‡ï¼Œä¸è¿‡è¿™ä¸ªæ˜¯æˆ‘ä»¬è™½ç„¶å…³å¿ƒä½†æ˜¯æ— æ³•æ§åˆ¶çš„äº‹æƒ…ç®—åœ¨å…³æ³¨åœˆã€‚å½±å“åœˆå†…èƒ½å½±å“çš„äº‹æƒ…æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä½œä¸ºå‰ç«¯ç ”å‘ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥å°½æˆ‘æ‰€èƒ½æŠŠæœ¬åˆ†å·¥ä½œåšå¥½ï¼Œå°½å¯èƒ½æå‡äº§å“çš„å¤–è§‚æ ·å¼ã€ä½¿ç”¨æ€§èƒ½ã€äº¤äº’æµç•…ç­‰ç­‰ã€‚ç«™åœ¨å¹¿ä¹‰çš„è§’åº¦ä¸Šçœ‹ï¼Œå¦‚æœå…¬å¸æ¯ä¸ªå²—ä½çš„åŒäº‹éƒ½æ˜¯æŠŠè‡ªå·±å½±å“åœˆçš„äº‹æƒ…åšçš„å°½å¯èƒ½å¥½ï¼Œé‚£ä¹ˆå®é™…ä¸Šè¿™ä¸ªåœˆä¼šé€æ¸æ‰©å¤§ï¼Œè¿›è€Œå…¬å¸çš„ç«äº‰åŠ›ä¹Ÿä¼šæ›´å¼ºã€‚å°†æ³¨æ„åŠ›ä¸“æ³¨äºå½±å“åœˆå†…å°½å¯èƒ½åœ°åšåˆ°æè‡´å½±å“åœˆæ˜¯ä¼šä¸æ–­å˜å¤§çš„ï¼Œå› ä¸ºå®ƒæ˜¯èƒ½è¢«æˆ‘ä»¬æ§åˆ¶æˆ–å½±å“çš„ï¼Œåªè¦æˆ‘ä»¬æ„¿æ„ã€‚</p><p>æˆ‘æ²¡æ³•è¯´å‡ºæ¥è¿™æœ¬ä¹¦ç»™æˆ‘æ‰€æœ‰çš„æ”¶è·ï¼Œå¾ˆå¤šå†…å®¹ä¹Ÿéœ€è¦åç»­åå¤å»çœ‹å’Œå®è·µã€‚ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹ç¡®å®ç»™æˆ‘æ‰“å¼€äº†ä¸€æ‰‡çª—ï¼Œè®©æˆ‘çœ‹åˆ°äº†è§£è‡ªå·±è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œè®©æˆ‘çŸ¥é“æ”¹å˜è‡ªå·±ï¼Œè¦ä»è¿™å››æ–¹é¢å»åšï¼š<br><strong>1. ç”Ÿç†/èº«ä½“ï¼šé”»ç‚¼ã€é¥®é£Ÿä¹ æƒ¯ã€ä¼‘æ¯ã€å‹åŠ›ç®¡ç†</strong><br><strong>2. æƒ…æ„Ÿ/äººé™…ï¼šåœ¨é‡è¦å…³ç³»ä¸æ–­â€œå­˜æ¬¾â€</strong><br><strong>3. å¿ƒæ™º/å­¦è¯†ï¼šé˜…è¯»ï¼Œå­¦ä¹ ï¼Œæ€»ç»“èƒ½åŠ›ï¼Œç ”ç©¶</strong><br><strong>4. å¿ƒçµ/å¿ƒç†ï¼šä»·å€¼æ¾„æ¸…ã€æ²‰æ€ã€æœåŠ¡</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>éšç¬”</tag>
      
      <tag>è¯»åæ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºæ­£åˆ™è¿™ä»¶å°äº‹</title>
    <link href="/2020/04/20/%E5%85%B3%E4%BA%8E%E6%AD%A3%E5%88%99%E8%BF%99%E4%BB%B6%E5%B0%8F%E4%BA%8B/"/>
    <url>/2020/04/20/%E5%85%B3%E4%BA%8E%E6%AD%A3%E5%88%99%E8%BF%99%E4%BB%B6%E5%B0%8F%E4%BA%8B/</url>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5c7496fdf265da2dda6957d2" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>å®æˆ˜</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºtoä¹çˆªå°èŸ¹ç½‘ç«™çš„ä¸€ç –ä¸€ç“¦</title>
    <link href="/2020/04/17/to%E4%B9%9D%E7%88%AA%E5%B0%8F%E8%9F%B9%E7%BD%91%E7%AB%99%E7%9A%84%E4%B8%80%E7%A0%96%E4%B8%80%E7%93%A6/"/>
    <url>/2020/04/17/to%E4%B9%9D%E7%88%AA%E5%B0%8F%E8%9F%B9%E7%BD%91%E7%AB%99%E7%9A%84%E4%B8%80%E7%A0%96%E4%B8%80%E7%93%A6/</url>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>è¿™ä¸ªç½‘ç«™çš„å»ºç«‹æ˜¯ä¸€æ—¶å…´èµ·ï¼Œåˆšå¥½ä¹Ÿä¸´è¿‘é˜¿åºçš„ç”Ÿæ—¥ï¼Œå¯ä»¥çŒ®å‡ºç»µè–„ä¹‹åŠ›ï¼Œå°±å½“æ˜¯ç»™é˜¿åºåšä¸€ä¸ªåº†ç”Ÿç½‘ç«™ã€‚</p><p>è¿™ç¯‡æ–‡ç« æ ‡é¢˜æ˜¯<strong>å…³äºtoä¹çˆªå°èŸ¹ç½‘ç«™çš„ä¸€ç –ä¸€ç“¦</strong>ï¼Œå› ä¸ºæˆ‘è¦è®²çš„æ˜¯è®¾è®¡è¿™ä¸ªç½‘ç«™çš„å…¨è¿‡ç¨‹ï¼Œå¦‚ä½•ä¸€ç –ä¸€ç“¦å †ç Œèµ·æ¥çš„ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªçºªå¿µå§ï¼</p><hr><h3 id="å‰æå‡†å¤‡"><a href="#å‰æå‡†å¤‡" class="headerlink" title="å‰æå‡†å¤‡"></a>å‰æå‡†å¤‡</h3><h4 id="1-Base"><a href="#1-Base" class="headerlink" title="1.Base"></a>1.Base</h4><p>ä¸€ä¸ªç½‘ç«™çš„å‰æå½“ç„¶æ˜¯åŸŸåè§£æå’ŒæœåŠ¡å™¨éƒ¨ç½²å•¦ï¼è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒæ¯ç‡¥ï¼Œæˆ‘å†™äº†ä¸€ç¯‡æ•™ç¨‹ï¼š<a href="../../15/å°ç™½å»ºç«™å…¨è¿‡ç¨‹ï¼ˆæœåŠ¡å™¨éƒ¨ç½²-åŸŸåè§£æ-é™æ€æ–‡ä»¶éƒ¨ç½²ï¼‰/index.html">å°ç™½å»ºç«™å…¨è¿‡ç¨‹</a> ,æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œç§»æ­¥æµè§ˆã€‚</p><h4 id="2-éœ€æ±‚ç¡®ç«‹"><a href="#2-éœ€æ±‚ç¡®ç«‹" class="headerlink" title="2.éœ€æ±‚ç¡®ç«‹"></a>2.éœ€æ±‚ç¡®ç«‹</h4><ul><li><strong>ç½‘ç«™å½¢å¼</strong>ï¼šä½œä¸ºä¸€ä¸ªä¸¥è‚ƒçš„ç”Ÿæ—¥ç¤¼ç‰©ï¼Œé‚£å½“ç„¶æ˜¯è¦åŒ…å«å¾ˆå¤šæƒŠå–œå’Œå¿ƒæ„ã€‚æˆ‘çš„æƒ³æ³•æ˜¯åšä¸€ä¸ªå±•ç¤ºç±»å‹çš„ç½‘ç«™ï¼Œä¸»è¦æ˜¯é€‚é…ç§»åŠ¨ç«¯ï¼ˆ<del>è‚¯å®šä¸æ˜¯å› ä¸ºæˆ‘å¤ªæ‡’ä¸æƒ³é€‚é…PCç«¯</del>ï¼‰ï¼Œå› ä¸ºæ‰‹æœºåœ¨å¾®ä¿¡é‡Œï¼Œå¾®åšé‡Œå¯ä»¥éšæ—¶æ‰“å¼€ï¼Œä½†ç”µè„‘è¿˜éœ€è¦æ‰“å¼€ç”µè„‘ -&gt; æ‰“å¼€æµè§ˆå™¨ -&gt; å¤åˆ¶é“¾æ¥ æ‰èƒ½è®¿é—®åˆ°ç½‘ç«™ã€‚</li><li><strong>ç½‘ç«™æ¶æ„</strong>: ä½œä¸ºä¸€ä¸ªä¸¥è‚ƒçš„ç”Ÿæ—¥ç¤¼ç‰©ï¼Œè¿˜æ˜¯æ ¹æ®ä¸»æµå±•ç¤ºç±»ç½‘ç«™å½¢å¼æ¥åšå§ == ä¸»é¡µ+èœå•+å­æ¿å—é¡µé¢ã€‚å­ç‰ˆå—é¡µé¢é€šè¿‡èœå•è¿›å…¥ä¸åŒæ¿å—ã€‚</li><li><strong>ç½‘ç«™å†…å®¹</strong>: è¿™æ–¹é¢æœ‰åæ´ä¼šå„ä½ä¼™ä¼´ç»å°½è„‘æ±çš„å‡ºè°‹åˆ’ç­–ï¼ŒåŸºæœ¬ä¸Šæ˜¯å›´ç»•ç²‰ä¸çš„ç¥ç¦ï¼ˆç…§ç‰‡ï¼Œè§†é¢‘ï¼‰ã€åæ´ä¼šå‰ªçš„è§†é¢‘ã€é˜¿åºçš„æ•…äº‹è¿›è¡Œè®¨è®ºã€‚ä½œä¸ºåæ´ä¼šå”¯ä¸€çš„å¼€å‘ç»„æˆå‘˜ï¼Œé¢å¯¹ä¼—å¤šç”²æ–¹ç‘Ÿç‘Ÿå‘æŠ–ã€‚ç¡®å®šäº†å†…å®¹ä¹‹åï¼Œæ€ä¹ˆå‘ˆç°å°±æ˜¯æˆ‘æ¥è´Ÿè´£äº†ã€‚</li></ul><h4 id="3-éœ€æ±‚åˆ†æ"><a href="#3-éœ€æ±‚åˆ†æ" class="headerlink" title="3.éœ€æ±‚åˆ†æ"></a>3.éœ€æ±‚åˆ†æ</h4><ul><li><strong>ä¸»é¡µ</strong>: å¥½çœ‹ï¼ç‚«é…·ï¼å¼€é—¨è§å±±ï¼æ—¢ç„¶æ˜¯ä¸€ä¸ªä¸¥è‚ƒçš„ç”Ÿæ—¥ç¤¼ç‰©ï¼Œé‚£ä¸»é¡µå°±åšæˆä¸€ä¸ªç¤¼ç‰©ç›’æ‹†å¼€ï¼Œè¹¦å‡ºç¥ç¦çš„å½¢å¼å§</li><li><strong>èœå•</strong>ï¼šæ‰‹æœºç«¯çš„èœå•æ— éå°±æ˜¯é¡¶éƒ¨æˆ–åº•éƒ¨åˆ†æ åˆ‡æ¢ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªèœå•æŒ‰é’®ï¼Œç‚¹å‡»ä¼¸å±•å‡ºå…¨éƒ¨é€‰é¡¹ã€‚èœå•æŒ‰é’®çš„æ–¹å¼å¯ä»¥è‡ªå®šä¹‰ï¼Œé‚£å°±é€‰æ‹©èœå•æŒ‰é’®å§ï¼ï¼ˆ<del>ç»ä¸æ˜¯å› ä¸ºæˆ‘ä¸æƒ³åšè·¯ç”±ç®¡ç†</del></li><li><strong>å­ç‰ˆå—</strong>:  æœ€é‡è¦çš„é¡µé¢ï¼è¦æœ‰å†…å®¹å’Œå¿ƒæ„ï¼</li></ul><ul><li><input disabled="" type="checkbox"> ç…§ç‰‡å¢™ï¼šå¯ä»¥æ”¾ç²‰ä¸ç¥ç¦</li><li><input disabled="" type="checkbox"> é˜¿åºçš„æ—¶é—´è½´ï¼šæ•´ç†é˜¿åºçš„è¾©è®ºèµ›æˆ–è€…å…¶å®ƒæ–¹é¢</li><li><input disabled="" type="checkbox"> å…³äºé˜¿åºçš„é€‰æ‹©æ•…äº‹çº¿ï¼Œç±»ä¼¼å¿ƒç†æµ‹è¯•é€‰æ‹©ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªä¸“å±ç»“å±€</li><li><input disabled="" type="checkbox"> ä¸å¦‚åšä¸€ä¸ªæ¸¸æˆå§ï¼Œç¿»ä¸‹ä»“åº“çš„demoï¼Œç¿»ç‰Œæ¸¸æˆåº”è¯¥ä¸é”™</li><li><input disabled="" type="checkbox"> å½©è›‹è®¾è®¡</li></ul><h3 id="coding"><a href="#coding" class="headerlink" title="coding"></a>coding</h3><p>ä½œä¸ºä¸€ä¸ªä¸¥è‚ƒçš„åˆ‡å›¾ä»”ï¼Œå°±ç®—æ²¡æœ‰äº§å“å’ŒUIä¹Ÿè¦ç»™å…ˆè‡ªå·±è¿‡ä¸€éæµç¨‹ã€‚ä½†ä¹Ÿåªæ˜¯åœ¨è„‘æµ·æ„æ€ä¸€ä¸‹ï¼Œ ä¸»è¦çš„ç»†èŠ‚è¿˜æ˜¯åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å»ä¿®æ­£ã€‚</p><h4 id="1-ä¸»é¡µ"><a href="#1-ä¸»é¡µ" class="headerlink" title="1.ä¸»é¡µ"></a>1.ä¸»é¡µ</h4><ul><li><p>é¡µé¢è®¾è®¡ï¼š</p><ul><li>é¦–å…ˆæ˜¯æ‰¾ç¤¼ç‰©ç›’ç´ æï¼Œä½†å‘ç°å¦‚æœç”¨å›¾ç‰‡çš„è¯æ²¡æ³•åšåˆ°ç¤¼ç‰©è¹¦å¼€çš„åŠ¨ç”»æ•ˆæœï¼Œé‚£æˆ‘å°±è‡ªå·±ç”»ä¸€ä¸ªå§ã€‚ä¸»è¦æ€è·¯æ˜¯â‘ ç”¨ä¸¤ä¸ªé•¿æ–¹å½¢æ¥åšç¤¼ç‰©ç›’ä¸‹éƒ¨å’Œç¤¼ç‰©ç›–å­ï¼›â‘¡å†ç»™ç¤¼ç‰©ç›’å’Œç›–å­åŠ ä¸ªé˜´å½±ï¼Œå¢åŠ ç«‹ä½“æ„Ÿï¼›â‘¢åŠ ä¸Šç¤¼ç‰©ç›’ä¸å¸¦ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹åƒäº†ï¼Œä½†æ„Ÿè§‰è¿˜å·®ä¸ªè´è¶ç»“ï¼›â‘£å¯ä»¥ç”»ä¸¤ä¸ªæ¤­åœ†æ¥æ‹¼æ¥æˆè´è¶ç»“ï¼ˆå› ä¸ºcsså¹¶ä¸èƒ½ç›´æ¥ç”»åœ†ï¼Œå¯ä»¥é€šè¿‡æ‹‰ä¼¸åœ†æ¥ç”Ÿæˆæ¤­åœ†ï¼‰ï¼›â‘¤çœ‹èµ·æ¥å¾ˆåƒäº†ï¼â‘¥åŠ¨ç”»éƒ¨åˆ†çš„æ€è·¯æ˜¯è®©ç›–å­å’Œç¤¼ç‰©ç›’ä¸‹éƒ¨ç›¸åæ–¹å‘æ‘‡æ™ƒï¼ˆ<code>translateX</code>,å…·ä½“å¤§å°ç”±å¸§æ•°å»è°ƒæ•´ï¼‰åï¼Œç›–å­å¾€ä¸Šæ–¹ç§»èµ°ï¼Œä¸‹éƒ¨å¾€ä¸‹æ–¹ç§»èµ°ï¼Œç„¶åéšè—ã€‚<br><img src="https://wx2.sbimg.cn/2020/04/18/index1.png" alt="ç¤¼ç‰©å›¾" style="width:200px"><img src="https://wx2.sbimg.cn/2020/04/18/index2.png" alt="ç¤¼ç‰©å›¾" style="width:200px"><img src="https://wx2.sbimg.cn/2020/04/18/index3.png" alt="ç¤¼ç‰©å›¾" style="width:200px"><img src="https://wx2.sbimg.cn/2020/04/18/index4.png" alt="ç¤¼ç‰©å›¾" style="width:200px"><img src="https://wx2.sbimg.cn/2020/04/18/index5.png" alt="ç¤¼ç‰©å›¾" style="width:200px"></li><li>ç¤¼ç‰©ç›’è¹¦å¼€åï¼Œè¦è®¾è®¡å…ƒç´ é£˜å‡ºçš„åŠ¨ç”»ï¼Œä¸ç„¶çœ‹èµ·æ¥å¾ˆå•è°ƒã€‚ä¸ºäº†é¡µé¢æ€§èƒ½ï¼Œæ‰¾äº†åˆ«äººå†™å¥½çš„svgå›¾æ ‡æ¥ç”¨ï¼Œç„¶åæ¥ä¸‹æ¥å°±æ˜¯æ¯”è¾ƒæ¯ç‡¥çš„å¼¹å‡ºåŠ¨ç”»ï¼Œéœ€è¦å¯¹æ¯ä¸€è¡Œçš„iconè¿›è¡ŒåŠ¨ç”»è®¾è®¡ï¼Œéœ€è¦ä¸€è¡Œè¡Œè°ƒ<code>translate</code>å’Œ<code>scale</code>ï¼Œä¸è¿‡ç”¨äº†scssè¿˜æ˜¯æŒºå¿«çš„ã€‚<img src="https://wx2.sbimg.cn/2020/04/18/index6.png" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 auto;display:block;"></li><li>ç¤¼ç‰©ç›’æ‰“å¼€åŠ¨ç”»å®Œæˆåï¼Œæ¥ä¸‹æ¥æ˜¯ä¸‹é›ªåŠ¨ç”»ï¼Œè¿™éƒ¨åˆ†ç”¨<code>canvas</code>æ¥å®ç°ï¼Œéšæœºç”Ÿæˆå¤§å°ä¸åŒï¼Œé€æ˜åº¦ä¸ä¸€æ ·çš„ç™½è‰²åœ†çƒï¼Œç„¶åä»ä¸Šå¾€ä¸‹é£˜ï¼Œè¿™éƒ¨åˆ†åŠ¨ç”»çš„ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œå€Ÿé‰´äº†åˆ«äººçš„å†™çš„ç®—æ³•æ¥å®Œå–„ï¼š<a href="https://github.com/daveWid/canvas-snow" target="_blank" rel="noopener">Canvas Snow</a></li><li>åŠŸèƒ½å‡½æ•°å®Œæˆåï¼Œå°±è¦æ¥å†™æ­¥éª¤å®ç°äº†ï¼Œç®—å¥½æ¯ä¸ªåŠ¨ç”»å®Œæˆçš„å…¨éƒ¨æ—¶é—´ï¼Œå¹¶åœ¨å®Œæˆç›¸åº”åŠ¨ç”»åå›è°ƒä¸‹ä¸€æ­¥å‡½æ•°ï¼Œå¹¶åšå¥½æ­¥éª¤åˆ¤æ–­ï¼Œæ–¹ä¾¿åé¢æ§åˆ¶æµç¨‹</li><li>ç»†èŠ‚å®Œå–„ï¼šä¸»ä½“å†…å®¹å’ŒåŠŸèƒ½å®ç°å,å› ä¸ºæ„Ÿè§‰ç”»é¢æœ‰ç‚¹ç©ºï¼Œæˆ‘åšäº†ä¸€ä¸ªå…³äºé˜¿åºçš„è¯äº‘ï¼ˆ<em>å…³é”®è¯ï¼š799</em>ï¼‰ï¼ŒåŠ ä¸Šä¹‹åæœç„¶é¥±æ»¡äº†ä¸å°‘ã€‚<br><img src="https://wx2.sbimg.cn/2020/04/18/index7.png" alt="ç¤¼ç‰©å›¾" style="width:100px;margin:0 10px;"><img src="https://wx2.sbimg.cn/2020/04/18/index9.png" alt="ç¤¼ç‰©å›¾" style="width:100px;"></li></ul></li><li><p>åç»­å®Œå–„ï¼š</p><ul><li>åé¢æ„Ÿè§‰åªæœ‰åŠ¨ç”»æœ‰ç‚¹å•è°ƒï¼Œæˆ‘åŠ ä¸Šäº†èƒŒæ™¯éŸ³ä¹çš„æ’­æ”¾</li><li>å…³äºè¯äº‘æ¥åšä¸»é¡µæ„Ÿè§‰æœ‰ç‚¹æ•·è¡ï¼Œäºæ˜¯å°±å»æ‹œæ‰˜ä¸€ä¸ªæœ‹å‹å¸®æˆ‘ç”»äº†é˜¿åºçš„æ¼«ç”»äººç‰©ï¼Œæ¢äº†ä¹‹åæœç„¶æ•´ä¸ªé£æ ¼å¯çˆ±äº†å¾ˆå¤š</li><li>æ·»åŠ äº†èœå•è·³è½¬å…¥å£ï¼Œæ„Ÿè§‰æ²¡æœ‰å¾ˆå¥½çš„åšåˆ°å¼•å¯¼è®¿é—®ï¼Œç”»è›‡æ·»è¶³çš„åŠ äº†æç¤ºè¯´æ˜ï¼Œä¹Ÿæ²¡æœ‰æƒ³åˆ°æ›´å¥½çš„å¼•å¯¼æ–¹å¼ã€‚ï¼ˆæœç„¶è¿˜æ˜¯éœ€è¦äº§å“å•Šï¼ï¼‰<img src="https://wx2.sbimg.cn/2020/04/18/index10.png" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 auto;display:block;"></li></ul></li></ul><h4 id="2-ç…§ç‰‡å¢™"><a href="#2-ç…§ç‰‡å¢™" class="headerlink" title="2.ç…§ç‰‡å¢™"></a>2.ç…§ç‰‡å¢™</h4><ul><li><p>é¡µé¢è®¾è®¡ï¼š</p><ul><li>ç…§ç‰‡å¢™ä¸€å¼€å§‹çš„æ„æ€æ˜¯ä¸€é¢å¢™ï¼Œä¸Šé¢é“ºæ»¡ç…§ç‰‡ï¼Œä½†æˆ‘è§‰å¾—å¤ªå¹³æ·¡äº†ï¼Œä¸ç¬¦åˆä¸€ä¸ªä¸¥è‚ƒçš„ç½‘ç«™ã€‚æ‰€ä»¥ï¼Œæˆ‘ç”¨äº†<code>three.js</code>ã€‚å…¶å®å°±æ˜¯åœ¨ç½‘é¡µä¸Šæ”¾äº†ä¸€ä¸ªä¸‰ç»´åæ ‡è½´ï¼Œç„¶åæŠŠä¸€ä¸ªä¸ªç²’å­æ”¾åœ¨å®ƒè¯¥æ”¾çš„ä½ç½®ï¼ŒåŠ ä¸ŠåŠ¨ç”»è¿‡æ¸¡ï¼Œå†æ¶ä¸Šä¸€ä¸ªæ‘„åƒå¤´ï¼ˆä¹Ÿå°±æ˜¯ä½ çœ‹åˆ°çš„è§†è§’ï¼‰ï¼Œä¸€ä¸ªç‚«é…·çš„ç…§ç‰‡å¢™å°±å®Œæˆäº†ã€‚</li><li>åªæœ‰å•ç‹¬ä¸€ç§åæ ‡æ’åºå½“ç„¶ä¸ç¬¦åˆè¿™ä¸ªä¸¥è‚ƒçš„ç½‘ç«™çš„æ°”è´¨ï¼Œæ‰€ä»¥å†™äº†çƒå’Œæ­£æ–¹å½¢çš„åæ ‡ç®—æ³•ï¼Œåœ¨åŠ ä¸Š799å’ŒPYçš„å›¾å½¢ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ‹¼å›¾çš„è¿‡ç¨‹ï¼Œå› ä¸ºè‡ªå®šä¹‰å›¾å½¢æ²¡æœ‰è§„å¾‹ï¼Œæ‰€ä»¥å°±åªèƒ½ä¸€ä¸ªä¸ªæ–¹æ ¼å»æ”¾ï¼Œæ¯”è¾ƒç¹çã€‚<br><img src="https://wx2.sbimg.cn/2020/04/18/three1.jpg" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 10px;"><img src="https://wx2.sbimg.cn/2020/04/18/three2.jpg" alt="ç¤¼ç‰©å›¾" style="width:200px;"></li><li>å¤–å£³æ‰“é€ å®Œæ¯•åï¼Œå°±æ˜¯å†…å®¹å¡«å……äº†ã€‚ç…§ç‰‡ç´ æçš„æ•´ç†æ˜¯ç”±åæ´ä¼šä¼™ä¼´ä»¬è¿›è¡Œçš„ï¼Œæˆ‘æ²¡è·Ÿå¥¹ä»¬è¯´æ¸…æ¥šï¼Œå¯¼è‡´å›¾ç‰‡çš„å°ºå¯¸å’Œä½“ç§¯æœ‰ç‚¹å¤§ï¼ŒåŠ è½½é€Ÿåº¦å°±ä¼šå¾ˆæ…¢ï¼ˆæ¯•ç«Ÿæ˜¯å€Ÿæ¥çš„æœåŠ¡å™¨ï¼Œå¸¦å®½æ˜¯æœ€ä½é…ï¼‰ï¼Œäºæ˜¯æˆ‘åšäº†å›¾ç‰‡åŠ è½½ä¼˜åŒ–ï¼Œå…ˆæ‰¹é‡å‹ç¼©ï¼ˆ<a href="https://tinypng.com/" target="_blank" rel="noopener">tinyPNG</a>ï¼‰ï¼Œç„¶åå›¾ç‰‡æ˜¯ä»¥èƒŒæ™¯å›¾ç‰‡(<code>background-image</code>)æ¥å‘ˆç°çš„ï¼Œè¿™æ ·ä¸ç”¨ç­‰å…¨éƒ¨å›¾ç‰‡åŠ è½½å®Œæ¯•é¡µé¢æ‰ä¼šç»§ç»­æ¸²æŸ“ã€‚ï¼ˆå…¶å®åº”è¯¥ç”¨é›ªç¢§å›¾çš„æ–¹å¼æ¥åšçš„ï¼Œä½†æˆ‘åˆ<del>æ‡’äº†</del>ï¼Œè¿˜è¦ä¸€ä¸ªä¸ªå»è°ƒèƒŒæ™¯ä½ç½®ï¼‰<img src="https://wx2.sbimg.cn/2020/04/18/three3.jpg" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 auto;display:block;"></li><li>æ¥ä¸‹æ¥æœ€é‡ç‚¹çš„å†…å®¹äº†ï¼å°±æ˜¯ç²‰ä¸ç¥ç¦å†…å®¹çš„å‘ˆç°ã€‚æˆ‘çš„æƒ³æ³•å°±æ˜¯ç‚¹å‡»ä¸€ä¸ªæ ¼å­ï¼Œå°±æœ‰ä¸€ä¸ªç²‰ä¸çš„ç¥ç¦å‡ºæ¥ã€‚è¿™ä¸ªä¹Ÿä¸éš¾å†™ï¼Œå°±æ˜¯ç»™æ¯ä¸ªæ ¼å­åŠ ä¸Šç‚¹å‡»äº‹ä»¶ï¼Œç„¶åç²‰ä¸ç¥ç¦å®¹å™¨å‡ºæ¥ï¼Œæ›¿æ¢å®¹å™¨å†…å®¹ï¼Œå¼¹å‡ºåŠ¨ç”»å°±æ˜¯å†™å‡ ä¸ªå…³é”®å¸§ã€‚<img src="https://wx2.sbimg.cn/2020/04/18/three4.jpg" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 auto;display:block;"></li></ul></li><li><p>åç»­å®Œå–„</p><ul><li>é¦–å…ˆæ˜¯å…³äºç²‰ä¸ç¥ç¦æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œé‡‡ç”¨<code>map</code>æ¥è®¾è®¡ï¼Œä¸€ä¸ªæ ¼å­å¯¹åº”ä¸€ä¸ªobjectï¼ˆname,weibo,[ç…§ç‰‡]ï¼‰</li><li>ç²‰ä¸ç¥ç¦çš„ç…§ç‰‡åé¢æˆ‘æ•´ç†çš„æ—¶å€™ï¼Œå‘ç°å¤§éƒ¨åˆ†ç²‰ä¸ä¸€äººä¸æ­¢å‘ä¸€å¼ ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¦é€‰å“ªå¼ ï¼Œé‚£å°±å¹²è„†å†™ä¸€ä¸ªè½®æ’­æ¥å±•ç¤ºå§ã€‚ä¹Ÿå°±æ˜¯ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™åˆ‡æ¢èƒŒæ™¯å›¾ç‰‡è·¯å¾„</li></ul></li></ul><h4 id="3-å°æ¸¸æˆ"><a href="#3-å°æ¸¸æˆ" class="headerlink" title="3.å°æ¸¸æˆ"></a>3.å°æ¸¸æˆ</h4><ul><li>é¡µé¢è®¾è®¡ï¼š<ul><li>è¿™ä¸ªæ¸¸æˆæˆ‘ä¹‹å‰å†™è¿‡demoï¼Œäºæ˜¯å°±ç›´æ¥æ‹¿æ¥ç”¨ã€‚å°†æ‰€æœ‰æ ¼å­éšæœºä¸¤ä¸¤é…å¯¹ï¼Œä¹Ÿå°±æ˜¯éšæœºç»™ä¸¤ä¸ªæ ¼å­åŠ ä¸Šç›¸åŒçš„idï¼Œç›¸åŒidçš„å¡å…¥ç›¸åŒçš„å›¾ç‰‡ï¼Œåç»­çš„åˆ¤æ–­å°±æ˜¯åˆ¤æ–­idæ˜¯å¦ç›¸åŒæ¥å®ç°é…å¯¹æˆåŠŸã€‚å› ä¸ºæ‰‹æœºå±å¹•çš„å…³ç³»ï¼Œæ‰€ä»¥åªå‡ºäº†4*4ï¼Œ6*6ï¼Œ8*8çš„éš¾åº¦ï¼ˆ10*10å·²ç»çœ¼è¦çäº†ï¼Œåé¢æ˜¯åæ´ä¼šä¼™ä¼´ç¡¬è¦æŒ‘æˆ˜æ‰åŠ ä¸Šçš„ï¼‰ã€‚</li><li>æ¸¸æˆè§„åˆ™é€»è¾‘å®Œæˆåï¼Œæˆ‘åŠ äº†åˆ†æ•°ç®—æ³•ï¼Œå› ä¸ºä¹‹å‰ä¹Ÿæ²¡æœ‰å†™è¿‡ç±»ä¼¼çš„æ¸¸æˆå¾—åˆ†ç®—æ³•ï¼Œä¹Ÿåªèƒ½è‡ªå·±æ‹¿è‡ªå·±æ¥åšè¯•éªŒå’Œè°ƒè¯•ã€‚å¾—åˆ†å—éš¾åº¦ç³»æ•°ï¼Œæ‰€èµ°æ­¥æ•°å’Œæ‰€ç”¨æ—¶é—´çº¦æŸï¼Œä¸åŒçš„éš¾åº¦å¯¹åº”ä¸åŒçš„æ­¥æ•°éš¾åº¦ç³»æ•°å’Œæ—¶é—´ç³»æ•°ï¼Œè®¡ç®—å…¬å¼å¯ä»¥ç®€åŒ–æˆï¼š<code>100 - æ—¶é—´æŸå¤± - æ­¥æ•°æŸå¤±</code>ï¼Œå°äºé›¶åˆ†ç›´æ¥ç®—0åˆ†ã€‚æœ‰å…´è¶£çš„ä¹Ÿå¯ä»¥ç ”ç©¶æˆ–è€…ä¼˜åŒ–ä¸€ä¸‹    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¼ å…¥å‚æ•°ï¼šæ‰€ç”¨æ—¶é—´ï¼Œæ‰€èµ°æ­¥æ•°ï¼Œéš¾åº¦æ¨¡å¼</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">calcScore</span>(<span class="params">time, step, hards</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">let</span> _hard = hards == <span class="string">"debug"</span> ? <span class="number">2</span> : (hards + <span class="number">1</span>) * <span class="number">2</span> <span class="comment">//éš¾åº¦ï¼Œè‹¥æ˜¯debugæ¨¡å¼ç­‰äº2</span></span><br><span class="line">       <span class="keyword">let</span> fastTime = _hard * <span class="number">2</span> * <span class="number">1000</span>; <span class="comment">//å‡è®¾å®Œæˆæœ€å¿«çš„æ—¶é—´,ä¸€ç§’å®Œæˆä¸€æ¬¡é…å¯¹</span></span><br><span class="line">       <span class="keyword">let</span> timeG, stepG; <span class="comment">//æ—¶é—´,æ­¥æ•°éš¾åº¦ç³»æ•°;</span></span><br><span class="line">       <span class="keyword">switch</span> (_hard) &#123;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">               timeG = <span class="number">0.5</span>;</span><br><span class="line">               stepG = <span class="number">0.4</span></span><br><span class="line">               <span class="keyword">break</span></span><br><span class="line">           <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">               timeG = <span class="number">0.35</span>;</span><br><span class="line">               stepG = <span class="number">0.3</span>;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">               timeG = <span class="number">0.15</span>;</span><br><span class="line">               stepG = <span class="number">0.15</span>;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">               timeG = <span class="number">0.05</span>;</span><br><span class="line">               stepG = <span class="number">0.05</span>;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">default</span>:</span><br><span class="line">               timeG = <span class="number">0.8</span>;</span><br><span class="line">               stepG = <span class="number">0.5</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">let</span> interval = time - fastTime &lt;= <span class="number">0</span> ? <span class="number">0</span> : time - fastTime; <span class="comment">//æ—¶é—´å·®</span></span><br><span class="line">       <span class="comment">// è®¡ç®—å…¬å¼ï¼š100 - æ—¶é—´æŸå¤± - æ­¥æ•°æŸå¤±ï¼Œå°äºé›¶åˆ†ç›´æ¥ç»™0åˆ†</span></span><br><span class="line">       <span class="keyword">let</span> score = <span class="number">100</span> - (interval / <span class="number">1000.00</span>) * timeG - (step - _hard * <span class="number">2</span>) * stepG</span><br><span class="line">       <span class="keyword">if</span> (score &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0.00</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> score.toFixed(<span class="number">2</span>) <span class="comment">//å–ä¸¤ä½å°æ•°</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>åç»­å®Œå–„<ul><li>å½©è›‹è®¾è®¡ï¼Œå¦‚æœå¾—åˆ†ä¸å°‘äº90åˆ†ï¼Œä¾¿å¯ä»¥çœ‹åˆ°å½©è›‹é¡µé¢</li></ul></li></ul><h4 id="4-H5å¤šç»“å±€æµ‹è¯•"><a href="#4-H5å¤šç»“å±€æµ‹è¯•" class="headerlink" title="4.H5å¤šç»“å±€æµ‹è¯•"></a>4.H5å¤šç»“å±€æµ‹è¯•</h4><ul><li><p>é¡µé¢è®¾è®¡</p><ul><li>åœ¨å¤´ç§ƒä¹‹å‰ï¼Œå†™äº†åŸºæœ¬æ¡†æ¶å’Œè·³è½¬åŠ¨ç”»ï¼Œæ¯ä¸ªæ–°çš„é¡µé¢éƒ½æ˜¯åŠ¨æ€å‘<code>html</code>æ¨å…¥æ–°çš„å…ƒç´ ï¼Œç‚¹å‡»ä¸åŒçš„æŒ‰é’®å¡å…¥çš„ä¿¡æ¯ä¸åŒè€Œå·²</li><li>æ¥ä¸‹æ¥æ˜¯æœ€å¤´ç–¼çš„æ•…äº‹çº¿è®¾è®¡ï¼Œè¿˜å¥½æœ‰åæ´ä¼šä¼™ä¼´ä¸€èµ·è‚ï¼Œä¸¤äººè‚åˆ°å¤´éƒ½ç§ƒäº†ï¼Œç»ˆäºè®¾è®¡å¥½æ‰€æœ‰ç»“å±€ï¼Œäºæ˜¯æœ‰ä¸‹é¢çš„æµç¨‹å›¾<img src="https://wx2.sbimg.cn/2020/04/18/test1.png" alt="ç¤¼ç‰©å›¾" style="width:100%;margin:0 auto;display:block;"></li><li>åšå®Œæµ‹è¯•åè¦å‘Šè¯‰ç”¨æˆ·é€‰è¿‡çš„é€‰é¡¹ï¼Œå› æ­¤è¿™ä¸ªåœ°æ–¹èŠ±äº†å¤šä¸€ç‚¹æ—¶é—´æ¥å®ç°ã€‚ä¸€ä¸ªå…¨å±€æ•°ç»„æ¥ä¿å­˜æ¯ä¸€æ¬¡ç‚¹å‡»çš„é€‰é¡¹ï¼Œç„¶åæœ€åé‡åˆ°ç»“å±€ä¾¿<code>pop</code>æ‰€æœ‰å­é¡¹</li></ul></li><li><p>åç»­å®Œå–„</p><ul><li>è¿™ä¸ªæ¿å—å…¶å®ä¸éš¾å®ç°ï¼Œåªæ˜¯æˆ‘ä»¬è®¾è®¡çš„æµç¨‹æ¶æ„æœ‰ç‚¹å¤§ï¼Œå› æ­¤å†™å®Œæµ‹è¯•çš„æ—¶å€™è¦æŠŠæ¯æ¡æ•…äº‹éƒ½èµ°ä¸€éï¼Œä¹Ÿæ˜¯å¾ˆèŠ±æ—¶é—´å‘€</li></ul></li></ul><h4 id="5-èœå•"><a href="#5-èœå•" class="headerlink" title="5.èœå•"></a>5.èœå•</h4><p>ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³åšç‚«é…·ç§‘æŠ€é£çš„ï¼Œæœ€åå‘ç°æˆ‘å‰é¢è®¾è®¡çš„UIå…¶å®æ˜¯å¯çˆ±é£å•Šï¼ˆé˜¿åºè‚¯å®šæ˜¯ç²‰çº¢å°‘å¥³ç³»å‘€ï¼‰ï¼Œæ‰€ä»¥å°±æŠŠè§å…‰è“æ”¹æˆè§å…‰ç²‰ã€‚ä¸»èœå•å’Œå­èœå•çš„åˆ‡æ¢å…¶å®åªæ˜¯<code>class</code>çš„åˆ‡æ¢è€Œå·²ï¼Œç„¶åé“¾æ¥å¯¹åº”çš„æ¿å—é¡µé¢å…¥å£</p><h4 id="6-å½©è›‹"><a href="#6-å½©è›‹" class="headerlink" title="6.å½©è›‹"></a>6.å½©è›‹</h4><p>è¿™ä¸ªå½©è›‹æ˜¯åœ¨æ¸¸æˆæ¿å—å»¶ä¼¸å‡ºæ¥çš„æƒ³æ³•ï¼Œæˆ‘æƒ³åšçš„æ˜¯åƒå‘½ä»¤è¡Œè¾“å‡ºçš„æ•ˆæœï¼Œæ‰€ä»¥ç”¨äº†å®šæ—¶å™¨<code>setTimeout</code>æ¥å¢åŠ æ–‡å­—å’Œå»¶è¿Ÿæ–‡å­—å‡ºç°ï¼Œäºæ˜¯æ‰“å­—çš„æ•ˆæœå‡ºç°äº†ã€‚</p><img src="https://wx2.sbimg.cn/2020/04/18/egg.png" alt="ç¤¼ç‰©å›¾" style="width:200px;margin:0 auto;display:block;"><h3 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a>å±•ç¤º</h3><p><strong>ä¸‹é¢å°±æ˜¯ç½‘ç«™æ¼”ç¤ºäº†ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»<a href="http://www.pangying.æˆ‘çˆ±ä½ " target="_blank" rel="noopener">è¿™é‡Œ</a>è®¿é—®</strong></p><br/><hr><p><em>å¯¹äº†ï¼Œç½‘ç«™ç½‘å€æ˜¯<a href="http://www.pangying.æˆ‘çˆ±ä½ " target="_blank" rel="noopener">http://www.pangying.æˆ‘çˆ±ä½ </a></em></p>]]></content>
    
    
    
    <tags>
      
      <tag>æŠ€èƒ½ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°ç™½å»ºç«™å…¨è¿‡ç¨‹ï¼ˆæœåŠ¡å™¨éƒ¨ç½²+åŸŸåè§£æ+é™æ€æ–‡ä»¶éƒ¨ç½²ï¼‰</title>
    <link href="/2020/04/15/%E5%B0%8F%E7%99%BD%E5%BB%BA%E7%AB%99%E5%85%A8%E8%BF%87%E7%A8%8B%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E9%83%A8%E7%BD%B2%EF%BC%89/"/>
    <url>/2020/04/15/%E5%B0%8F%E7%99%BD%E5%BB%BA%E7%AB%99%E5%85%A8%E8%BF%87%E7%A8%8B%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E9%83%A8%E7%BD%B2%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ä»”ï¼Œå½“ç„¶ä¸èƒ½åªä¸“æ³¨äºç½‘é¡µå¼€å‘çš„è¿‡ç¨‹ï¼Œä¹Ÿè¦å­¦ä¼šå¦‚ä½•æ­å»ºä¸€ä¸ªç½‘ç«™ã€‚å› ä¸ºæœ‹å‹åœ¨åŒåä¸€æŠ¢åˆ°äº†40å…ƒä¸€å¹´çš„æœåŠ¡å™¨å¹¶æŠŠå¸å·å¯†ç ç»™äº†æˆ‘ï¼Œé‚£æ‹©æ—¥ä¸å¦‚æ’æ—¥ï¼Œå°±å¼€å§‹å­¦ä¹ å¦‚ä½•ä»0åˆ°å®Œå…¨æ­å»ºä¸€ä¸ªç½‘ç«™ã€‚</p><p>æ­¤æ•™ç¨‹åˆ†ä¸ºä»¥ä¸‹éƒ¨åˆ†ï¼š</p><ol><li>å‰æå‡†å¤‡ï¼ˆæœåŠ¡å™¨å’ŒåŸŸåçš„è´­ä¹°ï¼‰</li><li>æœåŠ¡å™¨éƒ¨ç½²ï¼ˆnginxï¼‰</li><li>åŸŸåè§£æ</li><li>åŸŸåå¤‡æ¡ˆ</li></ol><p><strong>è¿™ç¯‡æ•™ç¨‹çš„å—ä¼—ï¼šå¯¹äºæœåŠ¡å™¨å’ŒåŸŸåéƒ¨ç½²è§£æå®Œå…¨ä¸æ‡‚çš„å‰ç«¯å°ç™½</strong></p><p><strong>çœ‹å®Œèƒ½æ”¶è·ï¼šä¸€ä¸ªå®Œæ•´é™æ€ç½‘ç«™ï¼ˆåªæœ‰å‰ç«¯ï¼‰çš„å»ºç«™è¿‡ç¨‹</strong></p><hr><h3 id="1-å‰æå‡†å¤‡"><a href="#1-å‰æå‡†å¤‡" class="headerlink" title="1. å‰æå‡†å¤‡"></a>1. å‰æå‡†å¤‡</h3><p>åŸŸåå’ŒæœåŠ¡å™¨æˆ‘é€‰æ‹©çš„éƒ½æ˜¯é˜¿é‡Œäº‘ã€‚å› ä¸ºæœ‹å‹ä¹°çš„å°±æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œæˆ‘åœ¨è…¾è®¯äº‘è¿˜æœ‰ä¸€ä¸ªæœªè¿‡æœŸçš„å·²å¤‡å¥½æ¡ˆçš„åŸŸåï¼Œä½†æ˜¯åœ¨é‡æ–°å¤‡æ¡ˆå’ŒåŸŸåè§£æçš„æ—¶å€™å¾ˆéº»çƒ¦å’Œç¹çã€‚æ‰€ä»¥å»ºè®®åŸŸåå’ŒæœåŠ¡å™¨ä¸è¦åˆ†å¼€åœ¨ä¸¤å®¶ä¹°ï¼Œå¦‚æœå·²ç»æ˜¯è…¾è®¯äº‘åŸŸåå’Œé˜¿é‡Œäº‘æœåŠ¡å™¨çš„è¯ï¼Œåšä¸»æ‚„å’ªå’ªçš„è¯´ä¸€å¥ï¼Œ<del>taobaoæœè…¾è®¯äº‘æˆæƒç </del>å¯ä»¥å¿«é€Ÿé€šè¿‡åŸŸåå¤‡æ¡ˆã€‚</p><h4 id="1-1-æœåŠ¡å™¨çš„é€‰è´­"><a href="#1-1-æœåŠ¡å™¨çš„é€‰è´­" class="headerlink" title="1.1 æœåŠ¡å™¨çš„é€‰è´­"></a>1.1 æœåŠ¡å™¨çš„é€‰è´­</h4><p><img src="https://wx1.sbimg.cn/2020/04/16/12fa9bac6a1a382d3.png" alt="å›¾ç‰‡"></p><p>å¯¹äºä¸€èˆ¬å°ç™½ç”¨æˆ·ï¼ˆåšä¸»è‡ªå·±ä¹Ÿæ˜¯ï¼‰ï¼Œé€‰è´­æœåŠ¡å™¨å¯ä»¥éšä¾¿é€‰ï¼Œå…·ä½“çœ‹é¢„ç®—ã€‚æˆ‘ä¹Ÿçœ‹äº†å¾ˆå¤šé€‰è´­æ”»ç•¥å’Œé—®äº†dalaoåï¼Œå¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p><ul><li>è´­ä¹°æ—¶æ³¨æ„æ˜¯å¦æœ‰ä¼˜æƒ ï¼Œä¸€èˆ¬å®šæœŸéƒ½ä¼šæœ‰1æŠ˜è´­æˆ–è€…åŒåä¸€è¿™ç§æ´»åŠ¨</li><li><strong>å®ä¾‹</strong>ï¼šä¸è¦é€‰çªå‘æ€§èƒ½å®ä¾‹ï¼Œåˆ†ä¸ºt5å’Œt6ï¼ŒCPUå®ä¾‹ä¸º10%å’Œ20%èµ·æ­¥</li><li>èƒ½é€‰ESCè™šæ‹ŸæœåŠ¡å™¨å°½é‡é€‰ESC</li><li><strong>ç³»ç»Ÿ</strong>ï¼šæœåŠ¡å™¨ç³»ç»Ÿå»ºè®®Linuxç³»ç»Ÿï¼Œå› ä¸ºç³»ç»Ÿå ç”¨ç£ç›˜ç©ºé—´å¾ˆå°</li><li><strong>å¸¦å®½</strong>ï¼š1Må¸¦å®½å¯¹äºæ‰“å¼€ä¸€èˆ¬ç½‘é¡µï¼ˆ500kbï¼‰ä¹Ÿå°±å‡ ç§’é’Ÿäº‹æƒ…</li><li><strong>å†…å­˜</strong>ï¼šä¸ªäººå°ç«™ä¹Ÿè¦1Gå†…å­˜èµ·æ­¥å§ï¼Œ500MBæœ‰ç‚¹æƒ¨å•Š</li><li><strong>åœ°åŸŸ</strong>ï¼šçœ‹è®¿é—®å®¢æˆ·ç¾¤é›†ä¸­åœ¨å“ªé‡Œï¼Œå°±é€‰æ‹©ä¸´è¿‘çš„æœºæˆ¿ï¼›ä¸è¿‡å¢ƒå¤–ï¼ˆæ¯”å¦‚é¦™æ¸¯ï¼‰çš„æœºæˆ¿å¯ä»¥ä¸ç”¨å¤‡æ¡ˆï¼Œå¢ƒå†…çš„è¦åšICPå¤‡æ¡ˆ</li><li><strong>éœ€æ±‚</strong>ï¼šâ‘ å¯¹äºæ™®é€šçš„åº”ç”¨æœåŠ¡å™¨ï¼Œå»ºè®®é€‰æ‹©é€šç”¨å‹ï¼ŒCPUå†…å­˜æ¯”ä¸º1:4ï¼Œå……åˆ†æ»¡è¶³å„ç§åº”ç”¨å¯¹è®¡ç®—èµ„æºçš„éœ€æ±‚ï¼›â‘¡å¯¹äºè®¡ç®—èƒ½åŠ›éœ€è¦è¾ƒé«˜çš„ä¸šåŠ¡ï¼Œå»ºä¸šé€‰æ‹©è®¡ç®—å‹ï¼ŒCPUå†…å­˜æ¯”ä¸º1:2ï¼Œå……åˆ†æ»¡è¶³å¯¹è®¡ç®—é€Ÿç‡è¦æ±‚è¾ƒé«˜çš„ä¸šåŠ¡</li></ul><h4 id="1-2-åŸŸåé€‰è´­"><a href="#1-2-åŸŸåé€‰è´­" class="headerlink" title="1.2 åŸŸåé€‰è´­"></a>1.2 åŸŸåé€‰è´­</h4><p><img src="https://wx1.sbimg.cn/2020/04/15/2.png" alt="å›¾ç‰‡"></p><p>å…·ä½“åŸŸåçœ‹ä¸ªäººéœ€æ±‚å’Œé¢„ç®—ã€‚</p><p><em>tipsï¼šå¦‚æœè¦é€‰æ‹©ä¸­æ–‡åŸŸåï¼ˆæ¯”å¦‚xxx.å…¬å¸ï¼‰ï¼Œå¾ˆå¤šappè¿˜ä¸èƒ½è¯†åˆ«ä¸­æ–‡åŸŸåçš„è®¿é—®ï¼Œæ¯”å¦‚å¾®ä¿¡å’Œå¾®åšï¼Œéœ€è¦å°†åŸŸååå…­è¿›åˆ¶è½¬ç ï¼Œæ‰èƒ½è¢«è‡ªåŠ¨è¯†åˆ«æˆé“¾æ¥ï¼Œä¸ç„¶åªèƒ½å¤åˆ¶åˆ°æµè§ˆå™¨è®¿é—®ï¼Œä¸”åœ¨å¾®ä¿¡ç½‘é¡µ/å¾®åšç½‘é¡µé€‰æ‹©å¤åˆ¶é“¾æ¥ï¼Œç½‘å€ä¹Ÿæ˜¯å·²ç»è¢«è½¬ç è¿‡äº†ã€‚</em></p><h3 id="2-æœåŠ¡å™¨éƒ¨ç½²"><a href="#2-æœåŠ¡å™¨éƒ¨ç½²" class="headerlink" title="2. æœåŠ¡å™¨éƒ¨ç½²"></a>2. æœåŠ¡å™¨éƒ¨ç½²</h3><ol><li><p>æœåŠ¡å™¨è´­ä¹°æˆåŠŸåï¼Œä¼šå¾—åˆ°äº‘æœåŠ¡å™¨çš„å®ä¾‹åç§°ã€å…¬ç½‘IPã€ç³»ç»Ÿç™»é™†å¸å·ã€‚å¦‚æœå¿˜è®°äº†å¯†ç å¯ä»¥å»<strong>é‡ç½®å¯†ç </strong>ã€‚<br></p><img src="https://wx2.sbimg.cn/2020/04/15/3.png" style="width:300px;"></li><li><p>ç„¶å<strong>å¯åŠ¨å®ä¾‹</strong>ï¼ŒæˆåŠŸå¯åŠ¨åå¯ä»¥çœ‹åˆ°çŠ¶æ€æ—¶è¿è¡Œä¸­</p></li></ol><p><img src="https://wx2.sbimg.cn/2020/04/15/4.png" alt="å›¾ç‰‡"></p><ol start="3"><li><strong>é…ç½®å®‰å…¨ç»„</strong></li></ol><p><img src="https://wx2.sbimg.cn/2020/04/15/5.png" alt="å›¾ç‰‡"></p><p>é…ç½®ï¼ˆå¼€æ”¾ï¼‰å¸¸è§è®¿é—®ç«¯å£ï¼š1024/65535ï¼ˆç³»ç»Ÿå¯¹å¤–å¼€æ”¾ç«¯å£ï¼Œç”¨äºè¿œç¨‹è¿æ¥ï¼‰ï¼Œ20/21ï¼ˆftpæœåŠ¡ï¼‰ï¼Œ80/80ï¼ˆç½‘ç«™è®¿é—®ç«¯å£ï¼‰ï¼Œ443/443ï¼ˆhttpsé»˜è®¤ç«¯å£ï¼‰<br><img src="https://wx2.sbimg.cn/2020/04/15/6.png" style="width:300px;"><img src="https://wx2.sbimg.cn/2020/04/15/7.png" style="width:300px;"><br><img src="https://wx2.sbimg.cn/2020/04/15/8.png" style="width:300px;"><img src="https://wx2.sbimg.cn/2020/04/15/9.png" style="width:300px;"></p><ol start="4"><li><strong>è¿œç¨‹è¿æ¥</strong>æœåŠ¡å™¨ï¼Œå…³äºè¿™æ­¥éª¤æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæˆ‘å‰æœŸç”¨çš„æ—¶é˜¿é‡Œäº‘è‡ªå¸¦çš„è¿œç¨‹è¿æ¥ï¼ŒåæœŸéƒ¨ç½²ç½‘ç«™æ–‡ä»¶ç”¨äº†<a href="https://filezilla-project.org/" target="_blank" rel="noopener">FileZilla FTP Client</a>ï¼Œå‚»ç“œå¼æ“ä½œã€‚</li></ol><ul><li><strong>a) é˜¿é‡Œäº‘è¿œç¨‹è¿æ¥</strong></li></ul><p><img src="https://wx1.sbimg.cn/2020/04/15/10.png" alt="å›¾ç‰‡"></p><ul><li><strong>b) å®‰è£…nginx</strong></li></ul><p>æˆ‘çœ‹çš„æ˜¯è¿™ç¯‡ï¼š<a href="https://yq.aliyun.com/articles/700682" target="_blank" rel="noopener">åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šå¦‚ä½•æ­å»ºnginxæœåŠ¡å™¨ï¼Ÿ</a></p><p>ä½†ç¬¬ä¸€æ­¥æ˜¯è¦åˆ‡æ¢åˆ°æ ¹ç›®å½•ï¼Œç„¶åå†æ ¹æ®ä¸Šé¢æ•™ç¨‹è¿›è¡Œå®‰è£…</p><p><img src="https://wx1.sbimg.cn/2020/04/15/11.png" alt="å›¾ç‰‡"></p><p>æˆåŠŸå¯åŠ¨nginxåï¼Œå¯ä»¥ç”¨ <strong><em>ps -ef | grep nginx***</em></strong> ***æ¥æŸ¥çœ‹nginxçŠ¶æ€</p><p><img src="https://wx1.sbimg.cn/2020/04/15/12.png" alt="å›¾ç‰‡"></p><ul><li><p><strong>c) nginxé™æ€æ–‡ä»¶è·¯å¾„æŒ‡å‘</strong></p><ul><li><p>nginxæˆåŠŸå¯åŠ¨åï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œæ¥è®©æœåŠ¡å™¨è®¿é—®æŒ‡å‘æˆ‘ä»¬è‡ªå·±çš„ç½‘é¡µã€‚æ‰€ä»¥éœ€è¦å°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ç”¨äº†<a href="https://filezilla-project.org/" target="_blank" rel="noopener">FileZilla</a>æ¥è¿›è¡Œä¸Šä¼ æ–‡ä»¶<br><img src="https://wx1.sbimg.cn/2020/04/15/13.png" alt="å›¾ç‰‡"></p></li><li><p>å¡«ä¸ŠæœåŠ¡å™¨ä¸»æœºåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç ï¼Œç«¯å£22ï¼Œç„¶åè¿æ¥<br><br><img src="https://wx1.sbimg.cn/2020/04/15/14.png" style="width:300px;"></p></li><li><p>å°±èƒ½å¾—åˆ°æˆ‘ä»¬æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ç›®å½•ï¼Œç„¶åç‚¹å‡»/å³é”®ï¼Œæ–°å»ºç›®å½•data,æˆ‘çš„æœ¬åœ°æ–‡ä»¶æ”¾åœ¨äº†/data/www/pangyingï¼Œå…¥å£æ–‡ä»¶æ—¶index.html<br><br><img src="https://wx1.sbimg.cn/2020/04/15/15.png" style="width:200px;"></p></li></ul></li></ul><h3 id="3-åŸŸåè§£æ"><a href="#3-åŸŸåè§£æ" class="headerlink" title="3. åŸŸåè§£æ"></a>3. åŸŸåè§£æ</h3><ul><li>æœåŠ¡å™¨ç«¯çš„æŒ‡å‘è§£å†³åï¼Œéœ€è¦å°†è®¿é—®å…¥å£æ˜ å°„åˆ°æˆ‘ä»¬è´­ä¹°çš„åŸŸåã€‚</li></ul><p><img src="https://wx1.sbimg.cn/2020/04/15/16.png" alt="å›¾ç‰‡"></p><ul><li>æ·»åŠ è§£æè®°å½•</li></ul><p><img src="https://wx1.sbimg.cn/2020/04/15/17.png" alt="å›¾ç‰‡"></p><p>ç„¶åè®¿é—®æˆ‘ä»¬çš„åŸŸåå°±èƒ½æˆåŠŸè®¿é—®åˆ°é¡µé¢äº†ï¼ä½†æ²¡è¿‡å¤šä¹…ï¼Œä½ å°±ä¼šå‘ç°ï¼Œé¡µé¢è®¿é—®ä¼šå‡ºç°è¿™ä¸ªç”»é¢ï¼Œæç¤ºä½ åŸŸåéœ€è¦å¤‡æ¡ˆäº†<br><img src="https://wx2.sbimg.cn/2020/04/16/2f9b76cbc65d6d707.png" alt="å›¾ç‰‡"></p><h3 id="4-åŸŸåå¤‡æ¡ˆ"><a href="#4-åŸŸåå¤‡æ¡ˆ" class="headerlink" title="4. åŸŸåå¤‡æ¡ˆ"></a>4. åŸŸåå¤‡æ¡ˆ</h3><p>å¤‡æ¡ˆå¯ä»¥è¯´æ˜¯æœ€æ²¡æœ‰æŠ€æœ¯å«é‡ä½†æ˜¯æœ€ç¹ççš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘å¯çœŸæ˜¯ä¸€æŠŠè¾›é…¸æ³ªï¼Œä¸€ä¸¤å¹´å‰æˆ‘ä¹Ÿæœ‰åŸŸåå¤‡æ¡ˆè¿‡ï¼Œè…¾è®¯äº‘çš„ï¼Œç”³è¯·å¤‡æ¡ˆï¼Œç„¶åæŒ‰è§„å®šå¡«å†™ä¿¡æ¯ï¼Œç”¨å¯„æ¥çš„è“è‰²å¸ƒæ‹ç…§ï¼Œæ‰‹å†™å®¡æ ¸ä¹¦ï¼Œæäº¤ï¼Œå¾ˆé¡ºåˆ©å°±é€šè¿‡äº†ã€‚</p><ul><li>é¦–å…ˆè¦å…ˆç”³è¯·æœåŠ¡å·</li></ul><p><img src="https://wx2.sbimg.cn/2020/04/16/3.png" alt="å›¾ç‰‡"></p><p><img src="https://wx2.sbimg.cn/2020/04/16/4.png" alt="å›¾ç‰‡"></p><p>ç„¶åå°†å¤‡æ¡ˆæœåŠ¡å·ä¿å­˜ï¼ŒåŸŸåå¤‡æ¡ˆéœ€è¦ç”¨åˆ°</p><p><img src="https://wx1.sbimg.cn/2020/04/16/51566e15f3d270519.png" alt="å›¾ç‰‡"></p><p>æ¥ä¸‹æ¥å°±æ˜¯åœ¨æ‰‹æœºä¸Šä¸‹è½½é˜¿é‡Œäº‘appï¼Œå› ä¸ºéœ€è¦ç”¨åˆ°æ‰‹æœºæ‘„åƒå¤´æ¥äººåƒè¯†åˆ«ï¼Œæ‰€ä»¥ä¸å¦‚å°±ç›´æ¥åœ¨appä¸Šæ“ä½œå°±è¡Œã€‚<br>ç„¶åæ ¹æ®æç¤ºï¼Œä¸€æ­¥æ­¥æ“ä½œå°±è¡Œï¼Œä¸€èˆ¬1-3ä¸ªå·¥ä½œæ—¥å°±ä¼šæœ‰é˜¿é‡Œçš„å·¥ä½œäººå‘˜æ¥æ‰“ç”µè¯è·Ÿä½ æ ¸éªŒï¼Œé€šè¿‡ä¹‹åä¼šå‘é‚®ä»¶é€šçŸ¥å®¡æ ¸é€šè¿‡ã€‚</p><p><img src="https://wx2.sbimg.cn/2020/04/16/7.png" alt="å›¾ç‰‡"></p><p><em>æ³¨æ„ï¼šæˆ‘çš„å®¡æ ¸å‰ä¸¤æ¬¡éƒ½æ²¡é€šè¿‡ï¼Œç¬¬ä¸€æ¬¡æ˜¯å› ä¸ºç½‘ç«™åç§°å¸¦äº†äººå+æ‹ç…§çš„æ—¶å€™çœ¼é•œé—­ä¸Šäº†+åä¸‹è¿˜æœ‰ä¸€ä¸ªåŸŸåæ²¡æŒ‡å‘å®ä½“(ä¹Ÿå°±æ˜¯æ— æ³•è®¿é—®äº†)ï¼›ç¬¬äºŒæ¬¡æ˜¯å› ä¸ºç½‘ç«™æè¿°å†…å®¹æ²¡å†™å¥½ï¼Œè¿™äº›è¦æ±‚åœ¨ç”³è¯·çš„æ—¶å€™è¦æ³¨æ„çœ‹æ¸…æ¥šï¼Œä¸€æ¬¡å®¡æ ¸ä¸é€šè¿‡ä¼šå»¶è¿Ÿ1-3ä¸ªå·¥ä½œæ—¥çš„è¿›åº¦</em></p><p>æ”¶åˆ°é‚®ä»¶é€šçŸ¥é€šè¿‡åï¼Œç½‘ç«™å°±å¯ä»¥æ­£å¸¸è®¿é—®å•¦ï¼<br>è‡³äºç½‘ç«™çš„å†…å®¹è¿™è¾¹å°±ä¸å¤šèµ˜è¿°äº†ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸ªæ­£ç»çš„æ•™ç¨‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æŠ€èƒ½ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
